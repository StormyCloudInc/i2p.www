<!DOCTYPE html>
<html lang="vi" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Cơ sở dữ liệu mạng | I2P - Dự án Internet vô hình</title>

    <meta name="description" content="Hiểu về cơ sở dữ liệu mạng phân tán (netDb) của I2P - một DHT (bảng băm phân tán) chuyên biệt dành cho thông tin liên hệ của router và tra cứu đích đến">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="Cơ sở dữ liệu mạng | I2P - Dự án Internet vô hình">
    <meta property="og:description" content="Hiểu về cơ sở dữ liệu mạng phân tán (netDb) của I2P - một DHT (bảng băm phân tán) chuyên biệt dành cho thông tin liên hệ của router và tra cứu đích đến">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/vi/docs/overview/network-database/">

    
    <link rel="icon" type="image/svg+xml" href="../../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">Trang I2P Beta Đã Hoạt Động Gửi báo cáo lỗi tới stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="Đóng banner" title="Đóng banner">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../../vi/" class="logo-link">
                    <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../../vi/about/" class="">Giới thiệu</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../vi/about/">Tổng quan</a></li>
                            <li><a href="../../../../vi/papers/">Bài Nghiên Cứu</a></li>
                            <li><a href="../../../../vi/about/media/">Báo chí</a></li>
                            <li><a href="../../../../vi/contact/">Liên hệ</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../../vi/docs/" class="active">Tài liệu</a></li>
                    <li><a href="../../../../vi/downloads/" class="">Tải xuống</a></li>
                    <li><a href="../../../../vi/blog/" class="">Blog</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../../vi/get-involved/" class="">Tham gia</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../vi/get-involved/">Tổng quan</a></li>
                            <li><a href="../../../../vi/feedback/">Đề xuất Tính năng</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">vi</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../en/docs/overview/network-database/"
                                class="lang-option">Tiếng Anh</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../es/docs/overview/network-database/"
                                class="lang-option">Tiếng Tây Ban Nha</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ko/docs/overview/network-database/"
                                class="lang-option">Tiếng Hàn</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../zh/docs/overview/network-database/"
                                class="lang-option">Tiếng Trung</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ru/docs/overview/network-database/"
                                class="lang-option">Tiếng Nga</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../cs/docs/overview/network-database/"
                                class="lang-option">Tiếng Séc</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../de/docs/overview/network-database/"
                                class="lang-option">Tiếng Đức</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../fr/docs/overview/network-database/"
                                class="lang-option">Tiếng Pháp</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../tr/docs/overview/network-database/"
                                class="lang-option">Tiếng Thổ Nhĩ Kỳ</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../vi/docs/overview/network-database/"
                                class="lang-option active">Tiếng Việt</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../hi/docs/overview/network-database/"
                                class="lang-option">Tiếng Hindi</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ar/docs/overview/network-database/"
                                class="lang-option">Tiếng Ả Rập</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../pt/docs/overview/network-database/"
                                class="lang-option">Tiếng Bồ Đào Nha</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../../vi/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../../vi/downloads/" class="btn btn-primary">Tải I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        




<div class="docs-page">
    <div class="container">
        
        <div class="docs-layout docs-layout--with-toc">
            
            
            <aside class="docs-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#1-tổng-quan">1. Tổng quan</a></li>
    <li><a href="#2-routerinfo-thông-tin-về-router">2. RouterInfo (thông tin về router)</a>
      <ul>
        <li><a href="#21-các-cờ-khả-năng">2.1 Các cờ khả năng</a></li>
        <li><a href="#25-tùy-chọn-family-nhóm-các-router-do-cùng-một-đơn-vị-vận-hành">2.5 Tùy chọn Family (nhóm các router do cùng một đơn vị vận hành)</a></li>
        <li><a href="#26-hết-hạn-của-routerinfo-thông-tin-về-router">2.6 Hết hạn của RouterInfo (thông tin về router)</a></li>
      </ul>
    </li>
    <li><a href="#3-leaseset">3. LeaseSet</a>
      <ul>
        <li><a href="#31-các-biến-thể-leaseset-tập-hợp-lease">3.1 Các biến thể LeaseSet (tập hợp lease)</a></li>
      </ul>
    </li>
    <li><a href="#4-khởi-tạo-ban-đầu">4. Khởi tạo ban đầu</a></li>
    <li><a href="#5-cơ-chế-floodfill">5. Cơ chế Floodfill</a>
      <ul>
        <li><a href="#51-các-yêu-cầu-tham-gia-tự-nguyện-cho-floodfill">5.1 Các yêu cầu tham gia tự nguyện cho Floodfill</a></li>
        <li><a href="#52-các-vai-trò-của-floodfill">5.2 Các vai trò của Floodfill</a></li>
      </ul>
    </li>
    <li><a href="#6-thước-đo-độ-gần-trong-kademlia">6. Thước đo độ gần trong Kademlia</a>
      <ul>
        <li><a href="#61-luân-chuyển-không-gian-khóa">6.1 Luân chuyển không gian khóa</a></li>
      </ul>
    </li>
    <li><a href="#7-phân-đoạn-cơ-sở-dữ-liệu-mạng-netdb">7. Phân đoạn Cơ sở dữ liệu mạng (netDb)</a>
      <ul>
        <li><a href="#71-chiến-lược-phân-đoạn">7.1 Chiến lược phân đoạn</a></li>
      </ul>
    </li>
    <li><a href="#8-lưu-trữ-xác-minh-và-tra-cứu">8. Lưu trữ, xác minh và tra cứu</a>
      <ul>
        <li><a href="#81-lưu-trữ-routerinfo-thông-tin-router-tới-các-nút">8.1 Lưu trữ RouterInfo (thông tin router) tới các nút</a></li>
        <li><a href="#82-lưu-trữ-leaseset-tới-các-nút-ngang-hàng">8.2 Lưu trữ LeaseSet tới các nút ngang hàng</a></li>
        <li><a href="#83-lựa-chọn-floodfill-router-đặc-biệt-trong-i2p-để-lưu-trữ-và-phổ-biến-netdb">8.3 Lựa chọn Floodfill (router đặc biệt trong I2P để lưu trữ và phổ biến netDb)</a></li>
        <li><a href="#84-lưu-trữ-routerinfo-tới-các-floodfill">8.4 Lưu trữ RouterInfo tới các Floodfill</a></li>
        <li><a href="#85-lưu-trữ-leaseset-tới-các-floodfills">8.5 Lưu trữ LeaseSet tới các Floodfills</a></li>
        <li><a href="#86-quy-trình-phát-tán">8.6 Quy trình phát tán</a></li>
        <li><a href="#87-tra-cứu-routerinfo-và-leaseset">8.7 Tra cứu RouterInfo và LeaseSet</a></li>
        <li><a href="#88-tra-cứu-lặp">8.8 Tra cứu lặp</a></li>
        <li><a href="#89-xác-minh">8.9 Xác minh</a></li>
        <li><a href="#810-thăm-dò">8.10 Thăm dò</a></li>
      </ul>
    </li>
    <li><a href="#9-multihoming-đa-kết-nối">9. MultiHoming (đa kết nối)</a></li>
    <li><a href="#10-phân-tích-mối-đe-dọa">10. Phân tích mối đe dọa</a>
      <ul>
        <li><a href="#101-biện-pháp-giảm-thiểu-chung">10.1 Biện pháp giảm thiểu chung</a></li>
        <li><a href="#102-router-chậm-hoặc-không-phản-hồi">10.2 Router chậm hoặc không phản hồi</a></li>
        <li><a href="#103-tấn-công-sybil-toàn-bộ-không-gian-khóa">10.3 Tấn công Sybil (toàn bộ không gian khóa)</a></li>
        <li><a href="#104-tấn-công-sybil-không-gian-khóa-một-phần">10.4 Tấn công Sybil (Không gian khóa một phần)</a></li>
        <li><a href="#105-tấn-công-bootstrap-khởi-tạo">10.5 Tấn công Bootstrap (khởi tạo)</a></li>
        <li><a href="#106-thu-thập-truy-vấn">10.6 Thu thập truy vấn</a></li>
        <li><a href="#107-rò-rỉ-thông-tin">10.7 Rò rỉ thông tin</a></li>
      </ul>
    </li>
    <li><a href="#11-công-việc-tương-lai">11. Công việc tương lai</a></li>
    <li><a href="#12-tài-liệu-tham-khảo">12. Tài liệu tham khảo</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="docs-main">
                
                <nav class="breadcrumbs">
                    <a href="../../../../vi/">Home</a>
                    <span class="separator">/</span>
                    <a href="../../../../vi/docs/">Docs</a>
                    
                        
                            <span class="separator">/</span>
                            <a href="../../../../vi/docs/overview/">Overview</a>
                        
                    
                    <span class="separator">/</span>
                    <span class="current">Cơ sở dữ liệu mạng</span>
                </nav>

                
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">Bản dịch này được tạo bằng máy học và có thể không chính xác 100%.</span>
    
    
    <a href="../../../../en/docs/overview/network-database/" class="disclaimer-link">Xem phiên bản tiếng Anh</a>
    
</div>



                
                <header class="article-header">
                    <h1 class="article-title">Cơ sở dữ liệu mạng</h1>
                    
                        <p class="article-description">Hiểu về cơ sở dữ liệu mạng phân tán (netDb) của I2P - một DHT (bảng băm phân tán) chuyên biệt dành cho thông tin liên hệ của router và tra cứu đích đến</p>
                    
                    <div class="article-meta">
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Updated: 2025-03
                            </span>
                        
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                Accurate for: 2.10.0
                            </span>
                        
                    </div>
                </header>

                
                <article class="article-content">
                    <hr>
<h2 id="1-tổng-quan">1. Tổng quan</h2>
<p><strong>netDb</strong> là một cơ sở dữ liệu phân tán chuyên biệt, chỉ chứa hai loại dữ liệu: - <strong>RouterInfos</strong> – thông tin liên hệ của router - <strong>LeaseSets</strong> – thông tin liên hệ của destination (đích)</p>
<p>Tất cả dữ liệu đều được ký số và có thể xác minh. Mỗi mục bao gồm thông tin liveliness (tính sống/khả năng hoạt động) nhằm loại bỏ các mục đã lỗi thời và thay thế những mục cũ, giúp bảo vệ trước một số lớp tấn công nhất định.</p>
<p>Việc phân phối sử dụng cơ chế <strong>floodfill</strong>, trong đó một tập con các router duy trì cơ sở dữ liệu phân tán.</p>
<hr>
<h2 id="2-routerinfo-thông-tin-về-router">2. RouterInfo (thông tin về router)</h2>
<p>Khi các router cần liên lạc với các router khác, chúng trao đổi các gói <strong>RouterInfo</strong> chứa:</p>
<ul>
<li><strong>Định danh Router</strong> – khóa mã hóa, khóa ký, chứng chỉ</li>
<li><strong>Địa chỉ liên hệ</strong> – cách để kết nối tới router</li>
<li><strong>Dấu thời gian công bố</strong> – thời điểm thông tin này được công bố</li>
<li><strong>Các tùy chọn văn bản tùy ý</strong> – cờ khả năng và thiết lập</li>
<li><strong>Chữ ký mật mã</strong> – chứng minh tính xác thực</li>
</ul>
<h3 id="21-các-cờ-khả-năng">2.1 Các cờ khả năng</h3>
<p>Các router quảng bá các khả năng thông qua các mã chữ cái trong RouterInfo của chúng:</p>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Flag</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>f</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Floodfill participation</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>R</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reachable</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>U</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Unreachable</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>D</strong>, <strong>E</strong>, <strong>G</strong>, <strong>H</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Various capability indicators</td>
    </tr>
  </tbody>
</table>
### 2.2 Phân loại băng thông
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Code</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Bandwidth</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>K</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Under 12 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>L</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">12–48 KBps (default)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>M</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">48–64 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>N</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">64–128 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>O</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">128–256 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>P</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">256–2000 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>X</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Over 2000 KBps</td>
    </tr>
  </tbody>
</table>
### 2.3 Các giá trị ID mạng
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Value</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">0</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reserved</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">1</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Current Network (default)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">2</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reserved for Future Networks</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">3–15</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Forks and Test Networks</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">16–254</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reserved</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">255</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reserved</td>
    </tr>
  </tbody>
</table>
### 2.4 Thống kê RouterInfo (thông tin về router)
<p>Các router công bố các thống kê tình trạng tùy chọn phục vụ phân tích mạng: - Tỷ lệ xây dựng thành công/từ chối/hết thời gian chờ của Exploratory tunnel (tunnel thăm dò) - Số lượng tunnel tham gia trung bình trong 1 giờ</p>
<p>Các thống kê tuân theo định dạng <code>stat_(statname).(statperiod)</code> với các giá trị được phân tách bằng dấu chấm phẩy.</p>
<p><strong>Ví dụ về số liệu thống kê:</strong></p>
<pre tabindex="0"><code>stat_tunnel.buildExploratoryExpire.60m = 0;0;0;53.14
stat_tunnel.buildExploratoryReject.60m = 0;0;0;15.51
stat_tunnel.buildExploratorySuccess.60m = 0;0;0;31.35
stat_tunnel.participatingTunnels.60m = 289.20
</code></pre><p>Floodfill routers cũng có thể công bố: <code>netdb.knownLeaseSets</code> và <code>netdb.knownRouters</code></p>
<h3 id="25-tùy-chọn-family-nhóm-các-router-do-cùng-một-đơn-vị-vận-hành">2.5 Tùy chọn Family (nhóm các router do cùng một đơn vị vận hành)</h3>
<p>Kể từ phiên bản 0.9.24, routers có thể khai báo tư cách thành viên family (cùng một người vận hành):</p>
<ul>
<li><strong>family</strong>: Tên family (nhóm router do cùng một nhà vận hành)</li>
<li><strong>family.key</strong>: Mã kiểu chữ ký được nối với khóa công khai dùng để ký được mã hóa Base64</li>
<li><strong>family.sig</strong>: Chữ ký trên tên family và mã băm router dài 32 byte</li>
</ul>
<p>Nhiều router trong cùng một family (nhóm các router do cùng một nhà vận hành) sẽ không được sử dụng trong cùng một tunnel.</p>
<h3 id="26-hết-hạn-của-routerinfo-thông-tin-về-router">2.6 Hết hạn của RouterInfo (thông tin về router)</h3>
<ul>
<li>Không hết hạn trong giờ hoạt động đầu tiên</li>
<li>Không hết hạn khi có 25 hoặc ít hơn RouterInfos (bản ghi thông tin router) được lưu trữ</li>
<li>Thời hạn hết hạn rút ngắn khi số lượng cục bộ tăng (72 giờ ở mức &lt;120 routers; ~30 giờ ở 300 routers)</li>
<li>SSU introducers (điểm giới thiệu trong SSU) hết hạn trong ~1 giờ</li>
<li>Floodfills sử dụng thời hạn 1 giờ cho tất cả RouterInfos cục bộ</li>
</ul>
<hr>
<h2 id="3-leaseset">3. LeaseSet</h2>
<p><strong>LeaseSets</strong> mô tả các điểm vào của tunnel cho các đích cụ thể, chỉ rõ:</p>
<ul>
<li><strong>Danh tính router gateway của Tunnel</strong></li>
<li><strong>ID tunnel 4 byte</strong></li>
<li><strong>Thời gian hết hạn của Tunnel</strong></li>
</ul>
<p>LeaseSets bao gồm: - <strong>Destination (đích đến)</strong> – khóa mã hóa, khóa ký, chứng chỉ - <strong>Khóa công khai mã hóa bổ sung</strong> – cho garlic encryption đầu-cuối - <strong>Khóa công khai ký bổ sung</strong> – dự kiến dùng cho việc thu hồi (hiện chưa sử dụng) - <strong>Chữ ký mật mã</strong></p>
<h3 id="31-các-biến-thể-leaseset-tập-hợp-lease">3.1 Các biến thể LeaseSet (tập hợp lease)</h3>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Type</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Unpublished</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Destinations used only for outgoing connections aren't published to floodfill routers</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Revoked</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Published with zero leases, signed by additional signing key (not fully implemented)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>LeaseSet2 (LS2)</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">As of 0.9.38, supports new encryption types, multiple encryption types, options, offline signing keys ([Proposal 123](/proposals/123-new-netdb-entries/))</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Meta LeaseSet</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Tree-like DHT structure for multihomed services, supporting hundreds/thousands of destinations with long expirations (up to 18.2 hours)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Encrypted LeaseSet (LS1)</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">All leases encrypted with separate key; only those with the key can decode and contact the destination</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Encrypted LeaseSet (LS2)</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">As of 0.9.38, destination hidden with only blinded public key and expiration visible to floodfill</td>
    </tr>
  </tbody>
</table>
### 3.2 Hết hạn của LeaseSet
<p>Các LeaseSet thông thường sẽ hết hạn tại thời điểm hết hạn lease (bản ghi tunnel) muộn nhất của chúng. Thời điểm hết hạn của LeaseSet2 được chỉ định trong tiêu đề. Thời điểm hết hạn của EncryptedLeaseSet và MetaLeaseSet có thể khác nhau, với khả năng thực thi giới hạn tối đa.</p>
<hr>
<h2 id="4-khởi-tạo-ban-đầu">4. Khởi tạo ban đầu</h2>
<p>netDb phi tập trung yêu cầu ít nhất một tham chiếu peer để tham gia mạng. <strong>Reseeding</strong> (khởi tạo mạng ban đầu) lấy các tệp RouterInfo (<code>routerInfo-$hash.dat</code>) từ các thư mục netDb của những tình nguyện viên. Lần khởi động đầu tiên tự động lấy từ các URL được ghi cứng trong mã, được chọn ngẫu nhiên.</p>
<hr>
<h2 id="5-cơ-chế-floodfill">5. Cơ chế Floodfill</h2>
<p>netDb dạng floodfill sử dụng cơ chế lưu trữ phân tán đơn giản: gửi dữ liệu tới nút floodfill gần nhất. Khi các nút không phải floodfill gửi các bản ghi lưu trữ, các nút floodfill sẽ chuyển tiếp tới một tập con các nút floodfill gần nhất với khóa cụ thể.</p>
<p>Việc tham gia floodfill được biểu thị là một cờ khả năng (<code>f</code>) trong RouterInfo.</p>
<h3 id="51-các-yêu-cầu-tham-gia-tự-nguyện-cho-floodfill">5.1 Các yêu cầu tham gia tự nguyện cho Floodfill</h3>
<p>Không giống như các máy chủ thư mục đáng tin cậy được cố định trong mã của Tor, tập hợp floodfill của I2P là <strong>không được tin cậy</strong> và thay đổi theo thời gian.</p>
<p>Floodfill chỉ tự động bật trên các routers có băng thông cao đáp ứng các yêu cầu sau: - Băng thông chia sẻ tối thiểu 128 KBytes/giây (cấu hình thủ công) - Phải vượt qua các kiểm tra tình trạng bổ sung (thời gian hàng đợi thông điệp gửi đi, job lag (độ trễ tác vụ))</p>
<p>Cơ chế tự động tham gia hiện tại dẫn đến khoảng <strong>6% tỷ lệ tham gia floodfill trong mạng</strong>.</p>
<p>Các floodfill (nút đặc biệt của I2P dùng để lưu trữ/phổ biến netDb) được cấu hình thủ công tồn tại song song với các router tự nguyện được kích hoạt tự động. Khi số lượng floodfill giảm xuống dưới ngưỡng, các router băng thông cao sẽ tự động tình nguyện làm floodfill. Khi có quá nhiều floodfill, các router đó sẽ tự bỏ chế độ floodfill.</p>
<h3 id="52-các-vai-trò-của-floodfill">5.2 Các vai trò của Floodfill</h3>
<p>Ngoài việc tiếp nhận các yêu cầu lưu trữ netDb và phản hồi các truy vấn, các floodfill thực hiện những chức năng tiêu chuẩn của router. Băng thông cao hơn của chúng thường đồng nghĩa với việc tham gia tunnel nhiều hơn, nhưng điều này không liên quan trực tiếp đến các dịch vụ cơ sở dữ liệu.</p>
<hr>
<h2 id="6-thước-đo-độ-gần-trong-kademlia">6. Thước đo độ gần trong Kademlia</h2>
<p>netDb sử dụng phép đo khoảng cách dựa trên XOR theo <strong>kiểu Kademlia</strong> (một giao thức DHT). Hàm băm SHA256 của RouterIdentity hoặc Destination tạo ra khóa Kademlia (ngoại trừ LS2 Encrypted LeaseSets, vốn sử dụng SHA256 của byte loại 3 cộng với khóa công khai được làm mù).</p>
<h3 id="61-luân-chuyển-không-gian-khóa">6.1 Luân chuyển không gian khóa</h3>
<p>Để tăng chi phí cho các cuộc tấn công Sybil, thay vì sử dụng <code>SHA256(key)</code>, hệ thống sử dụng:</p>
<pre tabindex="0"><code>SHA256(key + yyyyMMdd)
</code></pre><p>trong đó ngày là một chuỗi ASCII 8 byte biểu diễn ngày UTC. Điều này tạo ra <strong>routing key</strong> (khóa định tuyến), thay đổi hằng ngày vào nửa đêm UTC—gọi là <strong>keyspace rotation</strong> (luân phiên không gian khóa).</p>
<p>Các khóa định tuyến không bao giờ được truyền trong các thông điệp I2NP; chúng chỉ được dùng để xác định khoảng cách cục bộ.</p>
<hr>
<h2 id="7-phân-đoạn-cơ-sở-dữ-liệu-mạng-netdb">7. Phân đoạn Cơ sở dữ liệu mạng (netDb)</h2>
<p>Các DHT Kademlia truyền thống không duy trì tính không thể liên kết của thông tin được lưu trữ. I2P ngăn chặn các cuộc tấn công nhằm liên kết các tunnel phía client với các router bằng cách triển khai <strong>phân đoạn</strong>.</p>
<h3 id="71-chiến-lược-phân-đoạn">7.1 Chiến lược phân đoạn</h3>
<p>Các router theo dõi: - Liệu các bản ghi đến qua tunnel của client hay trực tiếp - Nếu qua tunnel, là tunnel/destination (đích) của client nào - Nhiều lần đến qua tunnel đều được theo dõi - Phân biệt phản hồi lưu trữ và phản hồi tra cứu</p>
<p>Cả hai triển khai Java và C++ đều sử dụng: - Một <strong>&ldquo;Main&rdquo; netDb</strong> để tra cứu trực tiếp/các thao tác floodfill trong ngữ cảnh router - <strong>&ldquo;Client Network Databases&rdquo;</strong> hoặc <strong>&ldquo;Sub-Databases&rdquo;</strong> trong ngữ cảnh client, thu nhận các bản ghi được gửi tới các tunnel của client</p>
<p>Các netDb của ứng dụng khách chỉ tồn tại trong suốt vòng đời của ứng dụng khách, và chỉ chứa các mục tunnel của ứng dụng khách. Các mục từ các tunnel của ứng dụng khách không được trùng lặp với các lượt đến trực tiếp.</p>
<p>Mỗi netDb theo dõi liệu các mục đến dưới dạng store (thông điệp lưu trữ) — sẽ phản hồi các yêu cầu tra cứu — hay dưới dạng lookup reply (phản hồi tra cứu), trường hợp này chỉ phản hồi nếu trước đó đã được lưu tới cùng một Destination (đích trong I2P). Các client không bao giờ trả lời truy vấn bằng các mục Main netDb, mà chỉ bằng các mục trong cơ sở dữ liệu mạng của client.</p>
<p>Các chiến lược kết hợp <strong>phân đoạn</strong> netDb để chống lại các cuộc tấn công nhằm liên kết client với router.</p>
<hr>
<h2 id="8-lưu-trữ-xác-minh-và-tra-cứu">8. Lưu trữ, xác minh và tra cứu</h2>
<h3 id="81-lưu-trữ-routerinfo-thông-tin-router-tới-các-nút">8.1 Lưu trữ RouterInfo (thông tin router) tới các nút</h3>
<p>I2NP <code>DatabaseStoreMessage</code> chứa RouterInfo cục bộ được trao đổi trong quá trình khởi tạo kết nối truyền tải NTCP hoặc SSU.</p>
<h3 id="82-lưu-trữ-leaseset-tới-các-nút-ngang-hàng">8.2 Lưu trữ LeaseSet tới các nút ngang hàng</h3>
<p>Các I2NP <code>DatabaseStoreMessage</code> chứa LeaseSet cục bộ được trao đổi định kỳ qua các thông điệp được mã hóa bằng garlic encryption, được gói kèm với lưu lượng Destination (đích I2P), cho phép phản hồi mà không cần tra cứu LeaseSet.</p>
<h3 id="83-lựa-chọn-floodfill-router-đặc-biệt-trong-i2p-để-lưu-trữ-và-phổ-biến-netdb">8.3 Lựa chọn Floodfill (router đặc biệt trong I2P để lưu trữ và phổ biến netDb)</h3>
<p><code>DatabaseStoreMessage</code> gửi tới floodfill gần nhất so với khóa định tuyến hiện tại. Floodfill gần nhất được tìm qua tra cứu trong cơ sở dữ liệu cục bộ. Ngay cả khi không thực sự gần nhất, flooding (cơ chế phát tán diện rộng) sẽ lan truyền nó &ldquo;gần hơn&rdquo; bằng cách gửi tới nhiều floodfill.</p>
<p>Kademlia truyền thống (một giao thức bảng băm phân tán - DHT) sử dụng tìm kiếm &lsquo;find-closest&rsquo; trước khi chèn. Trong khi I2NP không có các thông điệp như vậy, các router có thể thực hiện tìm kiếm lặp từng bước với bit ít ý nghĩa nhất được đảo (<code>key ^ 0x01</code>) để bảo đảm tìm ra nút gần nhất chính xác.</p>
<h3 id="84-lưu-trữ-routerinfo-tới-các-floodfill">8.4 Lưu trữ RouterInfo tới các Floodfill</h3>
<p>Các router công bố RouterInfo bằng cách kết nối trực tiếp tới một floodfill, gửi I2NP <code>DatabaseStoreMessage</code> với Reply Token (mã thông báo phản hồi) khác 0. Thông điệp không được garlic encrypted end-to-end (kết nối trực tiếp, không có trung gian). Floodfill phản hồi bằng <code>DeliveryStatusMessage</code>, sử dụng Reply Token làm Message ID (ID thông điệp).</p>
<p>Các router cũng có thể gửi RouterInfo (thông tin về router) thông qua tunnel thăm dò (giới hạn kết nối, không tương thích, ẩn IP). Các floodfill có thể từ chối các yêu cầu lưu trữ như vậy khi quá tải.</p>
<h3 id="85-lưu-trữ-leaseset-tới-các-floodfills">8.5 Lưu trữ LeaseSet tới các Floodfills</h3>
<p>Việc lưu trữ LeaseSet (bộ mô tả đích trong I2P) nhạy cảm hơn so với RouterInfo (thông tin nhận dạng của router). Các router (nút I2P) phải ngăn chặn việc liên kết LeaseSet với chính chúng.</p>
<p>Routers công bố LeaseSet bằng cách gửi <code>DatabaseStoreMessage</code> qua tunnel client đi ra, với Reply Token (mã thông báo phản hồi) khác 0. Thông điệp được mã hóa end-to-end bằng garlic encryption sử dụng Session Key Manager (trình quản lý khóa phiên) của Destination (đích I2P), che giấu khỏi điểm cuối đi ra của tunnel. Floodfill phản hồi bằng <code>DeliveryStatusMessage</code> được trả về qua tunnel đi vào.</p>
<h3 id="86-quy-trình-phát-tán">8.6 Quy trình phát tán</h3>
<p>Các floodfill xác thực RouterInfo (thông tin router)/LeaseSet bằng các tiêu chí thích ứng phụ thuộc vào tải, kích thước netdb và các yếu tố khác trước khi lưu cục bộ.</p>
<p>Sau khi nhận được dữ liệu mới hơn hợp lệ, các floodfill &ldquo;flood&rdquo; nó bằng cách tìm 3 router floodfill gần nhất so với khóa định tuyến. Các kết nối trực tiếp gửi I2NP <code>DatabaseStoreMessage</code> với Reply Token (mã phản hồi) bằng 0. Các router khác không phản hồi hay flood lại.</p>
<p><strong>Ràng buộc quan trọng:</strong> - Floodfills không được phát tán qua tunnels; chỉ kết nối trực tiếp - Floodfills không bao giờ phát tán LeaseSet đã hết hạn hoặc RouterInfo được công bố hơn một giờ trước</p>
<h3 id="87-tra-cứu-routerinfo-và-leaseset">8.7 Tra cứu RouterInfo và LeaseSet</h3>
<p>I2NP <code>DatabaseLookupMessage</code> yêu cầu các bản ghi netdb từ các router floodfill. Các tra cứu được gửi qua tunnel thăm dò đi ra; phản hồi chỉ định tunnel thăm dò đi vào để trả về.</p>
<p>Các lần tra cứu thường được gửi song song tới hai floodfill routers &ldquo;tốt&rdquo; gần nhất với khóa được yêu cầu.</p>
<ul>
<li><strong>Khớp cục bộ</strong>: nhận phản hồi I2NP <code>DatabaseStoreMessage</code></li>
<li><strong>Không có khớp cục bộ</strong>: nhận I2NP <code>DatabaseSearchReplyMessage</code> với các tham chiếu router floodfill khác gần với khóa</li>
</ul>
<p>Tra cứu LeaseSet sử dụng garlic encryption đầu-cuối (kể từ phiên bản 0.9.5). Việc tra cứu RouterInfo (thông tin router) không được mã hóa do chi phí tính toán của ElGamal, khiến chúng dễ bị nghe lén tại điểm cuối hướng ra.</p>
<p>Kể từ phiên bản 0.9.7, các phản hồi tra cứu bao gồm khóa phiên và thẻ, nhằm che giấu phản hồi khỏi cổng vào.</p>
<h3 id="88-tra-cứu-lặp">8.8 Tra cứu lặp</h3>
<p>Trước 0.8.9: Hai tra cứu dự phòng song song không có định tuyến đệ quy hoặc lặp.</p>
<p>Từ 0.8.9: <strong>Tra cứu lặp (iterative lookups)</strong> được triển khai không dư thừa—hiệu quả hơn, đáng tin cậy hơn, và phù hợp với kiến thức floodfill không đầy đủ. Khi mạng phát triển và routers biết ít floodfill hơn, các lần tra cứu tiệm cận độ phức tạp O(log n).</p>
<p>Tra cứu lặp vẫn tiếp tục ngay cả khi không có tham chiếu đến nút ngang hàng gần hơn, ngăn chặn black-holing độc hại (chuyển vào “hố đen” để loại bỏ). Các giới hạn hiện hành về số lượng truy vấn tối đa và thời gian chờ vẫn được áp dụng.</p>
<h3 id="89-xác-minh">8.9 Xác minh</h3>
<p><strong>Xác minh RouterInfo (thông tin của router)</strong>: Đã bị vô hiệu hóa kể từ 0.9.7.1 để ngăn chặn các cuộc tấn công được mô tả trong bài báo &ldquo;Practical Attacks Against the I2P Network&rdquo;.</p>
<p><strong>LeaseSet Verification</strong>: Các router chờ ~10 giây, rồi thực hiện tra cứu từ một floodfill khác thông qua tunnel máy khách đi ra. Garlic encryption đầu-cuối (cơ chế mã hóa &ldquo;garlic&rdquo; gộp nhiều thông điệp) ẩn khỏi điểm cuối đi ra. Phản hồi quay về qua các tunnel đi vào.</p>
<p>Kể từ 0.9.7, các phản hồi được mã hóa bằng session key/tag (khóa phiên/thẻ phiên), ẩn khỏi inbound gateway (cổng vào).</p>
<h3 id="810-thăm-dò">8.10 Thăm dò</h3>
<p><strong>Thăm dò</strong> liên quan đến tra cứu netdb với các khóa ngẫu nhiên để khám phá các router mới. Các floodfill phản hồi bằng <code>DatabaseSearchReplyMessage</code> chứa các băm router không phải floodfill gần với khóa được yêu cầu. Các truy vấn thăm dò đặt một cờ đặc biệt trong <code>DatabaseLookupMessage</code>.</p>
<hr>
<h2 id="9-multihoming-đa-kết-nối">9. MultiHoming (đa kết nối)</h2>
<p>Các Destination (địa chỉ đích trong I2P) sử dụng cùng một cặp khóa riêng/công khai (theo cách truyền thống qua <code>eepPriv.dat</code>) có thể chạy trên nhiều router đồng thời. Mỗi thể hiện sẽ định kỳ công bố các LeaseSets đã được ký; LeaseSet được công bố gần đây nhất sẽ được trả về cho các yêu cầu tra cứu. Với thời gian sống tối đa của LeaseSet là 10 phút, sự gián đoạn kéo dài nhiều nhất khoảng ~10 phút.</p>
<p>Kể từ 0.9.38, <strong>Meta LeaseSets</strong> hỗ trợ các dịch vụ multihomed (kết nối nhiều mạng/địa chỉ) quy mô lớn, sử dụng các Destinations (điểm đích) riêng biệt cung cấp các dịch vụ chung. Các bản ghi trong Meta LeaseSet là các Destinations hoặc các Meta LeaseSets khác với thời hạn hiệu lực tối đa 18.2 giờ, cho phép hàng trăm/hàng nghìn Destinations cung cấp các dịch vụ chung.</p>
<hr>
<h2 id="10-phân-tích-mối-đe-dọa">10. Phân tích mối đe dọa</h2>
<p>Hiện có khoảng 1700 floodfill routers (các router đặc biệt dùng để lưu trữ và phân phối netDb) đang hoạt động. Sự phát triển của mạng khiến phần lớn các cuộc tấn công trở nên khó thực hiện hơn hoặc ít gây tác động hơn.</p>
<h3 id="101-biện-pháp-giảm-thiểu-chung">10.1 Biện pháp giảm thiểu chung</h3>
<ul>
<li><strong>Tăng trưởng</strong>: Nhiều floodfill (nút đặc biệt lưu trữ netdb) hơn khiến các cuộc tấn công khó hơn hoặc ít tác động hơn</li>
<li><strong>Dự phòng</strong>: Tất cả các mục netdb (cơ sở dữ liệu mạng của I2P) được lưu trữ trên 3 floodfill routers gần khóa nhất thông qua flooding</li>
<li><strong>Chữ ký</strong>: Tất cả các mục đều được ký bởi người tạo; việc giả mạo là không thể</li>
</ul>
<h3 id="102-router-chậm-hoặc-không-phản-hồi">10.2 Router chậm hoặc không phản hồi</h3>
<p>Các router duy trì các thống kê hồ sơ peer mở rộng cho các floodfill: - Thời gian phản hồi trung bình - Tỷ lệ truy vấn được trả lời - Tỷ lệ thành công xác minh lưu trữ - Lần lưu trữ thành công gần nhất - Lần tra cứu thành công gần nhất - Phản hồi gần nhất</p>
<p>Các router sử dụng các chỉ số này khi xác định &ldquo;goodness&rdquo; (mức độ tốt) để chọn floodfill gần nhất. Các router hoàn toàn không phản hồi được nhanh chóng nhận diện và tránh; các router độc hại ở mức độ nhất định đặt ra thách thức lớn hơn.</p>
<h3 id="103-tấn-công-sybil-toàn-bộ-không-gian-khóa">10.3 Tấn công Sybil (toàn bộ không gian khóa)</h3>
<p>Những kẻ tấn công có thể tạo ra nhiều floodfill routers được phân tán khắp không gian khóa như một phương thức tấn công từ chối dịch vụ (DoS) hiệu quả.</p>
<p>Nếu không hành xử sai trái đủ mức để được gán nhãn &ldquo;bad&rdquo;, các biện pháp có thể bao gồm: - Biên soạn các danh sách hash/IP của router (nút trong I2P) xấu được thông báo qua bản tin bảng điều khiển, website, diễn đàn - Bật floodfill (router đặc biệt lưu trữ netDb) trên toàn mạng (&ldquo;chống Sybil bằng nhiều Sybil hơn&rdquo;) - Các phiên bản phần mềm mới với các danh sách &ldquo;bad&rdquo; cố định trong mã - Cải thiện các số đo và ngưỡng trong hồ sơ peer để nhận diện tự động - Tiêu chí khối IP loại trừ nhiều floodfill trong cùng một khối IP - Danh sách đen tự động dựa trên đăng ký (tương tự đồng thuận của Tor)</p>
<p>Các mạng lớn hơn khiến việc này khó hơn.</p>
<h3 id="104-tấn-công-sybil-không-gian-khóa-một-phần">10.4 Tấn công Sybil (Không gian khóa một phần)</h3>
<p>Kẻ tấn công có thể tạo 8–15 router floodfill được gom cụm gần nhau trong không gian khóa. Mọi thao tác tra cứu/lưu trữ đối với không gian khóa đó sẽ được định tuyến tới các router của kẻ tấn công, tạo điều kiện cho tấn công từ chối dịch vụ (DoS) nhắm vào các trang I2P cụ thể.</p>
<p>Vì không gian khóa lập chỉ mục các hàm băm mật mã SHA-256, kẻ tấn công cần dùng vét cạn (brute-force) để tạo ra các routers có độ gần đủ.</p>
<p><strong>Phòng thủ</strong>: Thuật toán đo độ gần Kademlia (thuật toán DHT) thay đổi theo thời gian bằng <code>SHA256(key + YYYYMMDD)</code>, cập nhật hằng ngày vào lúc nửa đêm UTC. Việc <strong>xoay vòng không gian khóa</strong> này buộc kẻ tấn công phải tái khởi tạo cuộc tấn công mỗi ngày.</p>
<blockquote>
<p><strong>Note</strong>: Nghiên cứu gần đây cho thấy việc xoay vòng không gian khóa không mấy hiệu quả—kẻ tấn công có thể tiền tính các băm của router, chỉ cần vài router để chiếm lĩnh các phần của không gian khóa trong vòng nửa giờ sau khi xoay vòng.</p></blockquote>
<p>Hệ quả của việc xoay vòng hằng ngày: netdb phân tán trở nên không đáng tin cậy trong vài phút sau khi xoay vòng—các lần tra cứu thất bại trước khi router gần nhất mới nhận được các stores (thông điệp lưu trữ).</p>
<h3 id="105-tấn-công-bootstrap-khởi-tạo">10.5 Tấn công Bootstrap (khởi tạo)</h3>
<p>Kẻ tấn công có thể chiếm quyền kiểm soát các trang web reseed (trang web cung cấp dữ liệu khởi động ban đầu cho router mới) hoặc đánh lừa các nhà phát triển thêm các trang web reseed độc hại, khiến các router mới khởi động vào các mạng bị cô lập hoặc do đa số kiểm soát.</p>
<p><strong>Các biện pháp phòng thủ đã triển khai:</strong> - Lấy các tập con RouterInfo từ nhiều trang reseed thay vì một trang duy nhất - Giám sát reseed ngoài mạng, định kỳ thăm dò các trang - Kể từ 0.9.14, các gói dữ liệu reseed dưới dạng tệp zip có chữ ký, kèm xác minh chữ ký được tải về (xem <a href="../../../../vi/docs/specs/updates">đặc tả su3</a>
)</p>
<h3 id="106-thu-thập-truy-vấn">10.6 Thu thập truy vấn</h3>
<p>Floodfill routers có thể &ldquo;chuyển hướng&rdquo; các nút ngang hàng tới các routers do kẻ tấn công kiểm soát thông qua các tham chiếu được trả về.</p>
<p>Ít có khả năng thông qua thăm dò do tần suất thấp; routers chủ yếu thu được các tham chiếu đồng cấp thông qua việc xây dựng tunnel thông thường.</p>
<p>Kể từ 0.8.9, đã triển khai cơ chế tra cứu lặp. Các tham chiếu floodfill trong <code>DatabaseSearchReplyMessage</code> sẽ được lần theo nếu chúng gần với khóa tra cứu hơn. Các router gửi yêu cầu không tin cậy mức độ “gần” của tham chiếu. Việc tra cứu vẫn tiếp tục ngay cả khi không có khóa nào gần hơn cho đến khi hết thời gian chờ/số truy vấn tối đa, nhằm ngăn chặn hành vi black-holing (cố ý làm truy vấn “mất hút”).</p>
<h3 id="107-rò-rỉ-thông-tin">10.7 Rò rỉ thông tin</h3>
<p>Rò rỉ thông tin DHT (bảng băm phân tán) trong I2P cần được điều tra thêm. Floodfill routers có thể quan sát các truy vấn để thu thập thông tin. Khi tỷ lệ nút độc hại đạt 20%, các mối đe dọa Sybil được mô tả trước đó trở nên đáng lo ngại vì nhiều lý do.</p>
<hr>
<h2 id="11-công-việc-tương-lai">11. Công việc tương lai</h2>
<ul>
<li>Mã hóa đầu-cuối cho các tra cứu và phản hồi netDb bổ sung</li>
<li>Các phương pháp theo dõi phản hồi tra cứu tốt hơn</li>
<li>Các phương pháp giảm thiểu cho các vấn đề độ tin cậy liên quan đến luân chuyển không gian khóa</li>
</ul>
<hr>
<h2 id="12-tài-liệu-tham-khảo">12. Tài liệu tham khảo</h2>
<ul>
<li><a href="../../../../vi/docs/specs/common-structures/">Đặc tả Cấu trúc Chung</a>
 – Các cấu trúc RouterInfo (thông tin router) và LeaseSet</li>
<li><a href="../../../../vi/docs/specs/i2np/">Đặc tả I2NP</a>
 – Các loại thông điệp cơ sở dữ liệu</li>
<li><a href="../../../../vi/proposals/123-new-netdb-entries">Đề xuất 123: Các bản ghi netDb mới</a>
 – Đặc tả LeaseSet2 (phiên bản thứ hai của LeaseSet)</li>
<li><a href="../../../../vi/docs/netdb/">Thảo luận netDb trong lịch sử</a>
 – Lịch sử phát triển và các thảo luận đã lưu trữ</li>
</ul>

                </article>

                
                <nav class="page-nav">
                    
                        <a href="../../../../vi/docs/overview/naming/" class="page-nav-link prev">
                            <span class="nav-label">← Previous</span>
                            <span class="nav-title">Đặt tên và Sổ địa chỉ</span>
                        </a>
                    
                    
                        <a href="../../../../vi/docs/overview/faq/" class="page-nav-link next">
                            <span class="nav-label">Next →</span>
                            <span class="nav-title">Câu hỏi thường gặp</span>
                        </a>
                    
                </nav>

                
                <div class="docs-feedback">
                    <p>Was this page helpful?</p>
                    <div class="feedback-buttons" id="feedback-buttons">
                        <button class="feedback-btn" id="feedback-yes">👍 Yes</button>
                        <button class="feedback-btn" id="feedback-no">👎 No</button>
                    </div>

                    
                    <div class="feedback-form-container" id="feedback-form-container" style="display: none;">
                        <p class="feedback-form-title">We're sorry to hear that. How can we improve this page?</p>
                        <form id="feedback-form">
                            <div class="form-group">
                                <label for="feedback-email">Email (optional - if you'd like a response)</label>
                                <input type="email" id="feedback-email" name="email" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label for="feedback-message">Feedback *</label>
                                <textarea id="feedback-message" name="message" rows="4" required placeholder="Tell us what we can improve..."></textarea>
                            </div>
                            <button type="submit" class="btn-submit-feedback" id="feedback-submit-btn">
                                <span class="btn-text">Submit Feedback</span>
                                <span class="btn-loading" style="display: none;">Sending...</span>
                            </button>
                        </form>
                    </div>

                    
                    <div class="feedback-message" id="feedback-success" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2"/>
                        </svg>
                        <span id="feedback-success-text">Thanks for your feedback!</span>
                    </div>
                    <div class="feedback-message feedback-error" id="feedback-error" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <path d="M12 8v4M12 16h.01" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span id="feedback-error-text">Something went wrong. Please try again.</span>
                    </div>

                    <p class="feedback-note">
                        Found an issue? <a href="https://gitlab.com/stormycloud-group/i-2-p-www-v-2/-/blob/main/hugo-site/content/vi/docs/overview/network-database.md?ref_type=heads" target="_blank">Edit this page on GitLab</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.docs-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.article-header {
    margin-bottom: var(--spacing-2xl);
}

.article-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--color-text);
}

.article-description {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-md);
}

.article-meta {
    display: flex;
    gap: var(--spacing-lg);
    flex-wrap: wrap;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.meta-item svg {
    color: var(--color-primary);
}

 
.docs-layout {
    display: block;
}

.docs-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.docs-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.docs-main {
    min-width: 0;
    max-width: 900px;
}

 
.article-content {
    line-height: 1.8;
    color: var(--color-text);
}

.article-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.article-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.article-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.article-content p {
    margin-bottom: var(--spacing-md);
}

.article-content ul,
.article-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.article-content li {
    margin-bottom: var(--spacing-xs);
}

.article-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.article-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
}

.article-content pre code {
    background: none;
    padding: 0;
}

.article-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

.article-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.article-content a:hover {
    border-bottom-color: var(--color-primary);
}

 
.page-nav {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
}

.page-nav-link {
    display: flex;
    flex-direction: column;
    padding: var(--spacing-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
}

.page-nav-link.next {
    text-align: right;
}

.nav-label {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xs);
}

.nav-title {
    font-weight: 600;
    color: var(--color-text);
}

 
.docs-feedback {
    margin-top: var(--spacing-2xl);
    padding: var(--spacing-lg);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-md);
    text-align: center;
}

.feedback-buttons {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    margin: var(--spacing-md) 0;
}

.feedback-btn {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.feedback-btn:hover {
    border-color: var(--color-primary);
    background: var(--color-primary);
    color: white;
}

.feedback-note {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-top: var(--spacing-md);
}

.feedback-note a {
    color: var(--color-primary);
    text-decoration: none;
}

.feedback-note a:hover {
    text-decoration: underline;
}

 
.feedback-form-container {
    margin-top: var(--spacing-lg);
    padding: var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-align: left;
}

.feedback-form-title {
    font-weight: 600;
    margin-bottom: var(--spacing-md);
    color: var(--color-text);
}

.form-group {
    margin-bottom: var(--spacing-md);
}

.form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--color-text);
}

.form-group input[type="email"],
.form-group textarea {
    width: 100%;
    padding: var(--spacing-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg);
    color: var(--color-text);
    font-family: inherit;
    font-size: 0.9375rem;
    transition: border-color var(--transition-fast);
}

.form-group input[type="email"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color-primary);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

.btn-submit-feedback {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.btn-submit-feedback:hover:not(:disabled) {
    background: var(--color-primary-dark);
    transform: translateY(-1px);
}

.btn-submit-feedback:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

 
.feedback-message {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background: #d1fae5;
    color: #065f46;
    border-radius: var(--radius-md);
    margin-top: var(--spacing-md);
}

.feedback-message.feedback-error {
    background: #fee2e2;
    color: #991b1b;
}

.feedback-message svg {
    flex-shrink: 0;
}

 
@media (max-width: 1024px) {
    .docs-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .docs-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .article-title {
        font-size: 1.75rem;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



<script>
(function() {
    'use strict';
    
    
    let baseUrl = window.feedbackBaseUrl;
    if (!baseUrl) {
        const hostname = window.location.hostname;
        
        if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
            baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
        } else if (hostname.endsWith('.onion')) {
            baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
        } else {
            baseUrl = 'https://feedback.i2p.net';
        }
    }
    
    const script = document.createElement('script');
    script.src = baseUrl + '/widgets/docs-feedback.js';
    script.async = true;
    script.onerror = function() {
        console.error('[Docs Feedback] Failed to load docs-feedback.js from:', baseUrl);
    };
    document.body.appendChild(script);
})();
</script>


    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">Cập nhật tin tức I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="Nhập email của bạn" required>
                            <button type="submit">Đăng ký</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>Liên kết nhanh</h3>
                <ul>
                    <li><a href="../../../../vi/financial-support/">Quyên góp</a></li>
                    <li><a href="../../../../vi/docs/overview/intro/">Giới thiệu I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Cộng đồng</h3>
                <ul>
                    <li><a href="../../../../vi/get-involved/">Tham Gia</a></li>
                    <li><a href="../../../../vi/blog/">Blog</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">Diễn đàn chính thức</a></li>
                    <li><a href="../../../../vi/contact/">Liên hệ</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Tài nguyên</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">Thống kê I2P</a></li>
                    <li><a href="../../../../vi/papers/">Nghiên cứu</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">StormyCloud</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 Dự án Internet Vô hình. Được cấp phép theo Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../../vi/privacy/">Quyền riêng tư</a>
                <a href="../../../../vi/terms/">Điều khoản</a>
                <a href="../../../../vi/about/media/">Báo chí</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="Đóng">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>Thăm dò ý kiến cộng đồng</h2>
            <p class="modal-subtitle">Chúng tôi rất muốn nghe ý kiến từ bạn</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                Phiếu bầu của bạn giúp định hình tương lai của I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>