<!DOCTYPE html>
<html lang="vi" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Hướng dẫn khắc phục sự cố cho I2P Router | I2P - Dự án Internet vô hình</title>

    <meta name="description" content="Hướng dẫn khắc phục sự cố toàn diện cho các vấn đề thường gặp của I2P router, bao gồm các vấn đề về kết nối, hiệu năng và cấu hình">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="Hướng dẫn khắc phục sự cố cho I2P Router | I2P - Dự án Internet vô hình">
    <meta property="og:description" content="Hướng dẫn khắc phục sự cố toàn diện cho các vấn đề thường gặp của I2P router, bao gồm các vấn đề về kết nối, hiệu năng và cấu hình">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/vi/docs/troubleshooting/">

    
    <link rel="icon" type="image/svg+xml" href="../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">Trang I2P Beta Đã Hoạt Động Gửi báo cáo lỗi tới stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="Đóng banner" title="Đóng banner">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../vi/" class="logo-link">
                    <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../vi/about/" class="">Giới thiệu</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../vi/about/">Tổng quan</a></li>
                            <li><a href="../../../vi/papers/">Bài Nghiên Cứu</a></li>
                            <li><a href="../../../vi/about/media/">Báo chí</a></li>
                            <li><a href="../../../vi/contact/">Liên hệ</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../vi/docs/" class="active">Tài liệu</a></li>
                    <li><a href="../../../vi/downloads/" class="">Tải xuống</a></li>
                    <li><a href="../../../vi/blog/" class="">Blog</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../vi/get-involved/" class="">Tham gia</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../vi/get-involved/">Tổng quan</a></li>
                            <li><a href="../../../vi/feedback/">Đề xuất Tính năng</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">vi</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../en/docs/troubleshooting/"
                                class="lang-option">Tiếng Anh</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../es/docs/troubleshooting/"
                                class="lang-option">Tiếng Tây Ban Nha</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ko/docs/troubleshooting/"
                                class="lang-option">Tiếng Hàn</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../zh/docs/troubleshooting/"
                                class="lang-option">Tiếng Trung</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ru/docs/troubleshooting/"
                                class="lang-option">Tiếng Nga</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../cs/docs/troubleshooting/"
                                class="lang-option">Tiếng Séc</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../de/docs/troubleshooting/"
                                class="lang-option">Tiếng Đức</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../fr/docs/troubleshooting/"
                                class="lang-option">Tiếng Pháp</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../tr/docs/troubleshooting/"
                                class="lang-option">Tiếng Thổ Nhĩ Kỳ</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../vi/docs/troubleshooting/"
                                class="lang-option active">Tiếng Việt</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../hi/docs/troubleshooting/"
                                class="lang-option">Tiếng Hindi</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ar/docs/troubleshooting/"
                                class="lang-option">Tiếng Ả Rập</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../pt/docs/troubleshooting/"
                                class="lang-option">Tiếng Bồ Đào Nha</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../vi/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../vi/downloads/" class="btn btn-primary">Tải I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        




<div class="docs-page">
    <div class="container">
        
        <div class="docs-layout docs-layout--with-toc">
            
            
            <aside class="docs-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#router-không-khởi-động-hoặc-bị-sập-ngay-lập-tức">Router không khởi động hoặc bị sập ngay lập tức</a></li>
    <li><a href="#khắc-phục-trạng-thái-network-firewalled">Khắc phục trạng thái &ldquo;Network: Firewalled&rdquo;</a></li>
    <li><a href="#router-bị-kẹt-ở-trạng-thái-starting-hoặc-testing">Router bị kẹt ở trạng thái &ldquo;Starting&rdquo; hoặc &ldquo;Testing&rdquo;</a></li>
    <li><a href="#tốc-độ-chậm-hết-thời-gian-chờ-và-lỗi-xây-dựng-tunnel">Tốc độ chậm, hết thời gian chờ, và lỗi xây dựng tunnel</a></li>
    <li><a href="#mức-sử-dụng-cpu-và-bộ-nhớ-cao">Mức sử dụng CPU và bộ nhớ cao</a></li>
    <li><a href="#các-sự-cố-torrent-của-i2psnark">Các sự cố torrent của I2PSnark</a></li>
    <li><a href="#cấu-hình-và-khắc-phục-sự-cố-git-qua-i2p">Cấu hình và khắc phục sự cố Git qua I2P</a></li>
    <li><a href="#truy-cập-các-eepsite-và-phân-giải-tên-miền-i2p">Truy cập các eepsite và phân giải tên miền .i2p</a></li>
    <li><a href="#lỗi-cài-đặt-và-sự-cố-gói-phần-mềm">Lỗi cài đặt và sự cố gói phần mềm</a></li>
    <li><a href="#hỏng-tệp-cấu-hình-và-khôi-phục">Hỏng tệp cấu hình và khôi phục</a></li>
    <li><a href="#giải-mã-các-thông-báo-lỗi-thường-gặp">Giải mã các thông báo lỗi thường gặp</a></li>
    <li><a href="#thách-thức-đặc-thù-theo-nền-tảng">Thách thức đặc thù theo nền tảng</a>
      <ul>
        <li><a href="#các-vấn-đề-về-quyền-và-dịch-vụ-trên-linux">Các vấn đề về quyền và dịch vụ trên Linux</a></li>
        <li><a href="#sự-can-thiệp-từ-tường-lửa-và-phần-mềm-diệt-virus-trên-windows">Sự can thiệp từ Tường lửa và phần mềm diệt virus trên Windows</a></li>
        <li><a href="#macos-gatekeeper-tính-năng-bảo-vệ-của-macos-chặn-cài-đặt">macOS Gatekeeper (tính năng bảo vệ của macOS) chặn cài đặt</a></li>
        <li><a href="#các-sự-cố-của-ứng-dụng-i2p-trên-android">Các sự cố của ứng dụng I2P trên Android</a></li>
      </ul>
    </li>
    <li><a href="#các-vấn-đề-về-reseed-tải-dữ-liệu-khởi-tạo-mạng-và-bootstrap-khởi-tạo-ban-đầu">Các vấn đề về Reseed (tải dữ liệu khởi tạo mạng) và bootstrap (khởi tạo ban đầu)</a></li>
    <li><a href="#khi-nào-nên-tìm-kiếm-thêm-sự-trợ-giúp">Khi nào nên tìm kiếm thêm sự trợ giúp</a></li>
    <li><a href="#kết-luận">Kết luận</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="docs-main">
                
                <nav class="breadcrumbs">
                    <a href="../../../vi/">Home</a>
                    <span class="separator">/</span>
                    <a href="../../../vi/docs/">Docs</a>
                    
                        
                            <span class="separator">/</span>
                            <a href="../../../vi/docs/">Tài liệu</a>
                        
                    
                    <span class="separator">/</span>
                    <span class="current">Hướng dẫn khắc phục sự cố cho I2P Router</span>
                </nav>

                
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">Bản dịch này được tạo bằng máy học và có thể không chính xác 100%.</span>
    
    
    <a href="../../../en/docs/troubleshooting/" class="disclaimer-link">Xem phiên bản tiếng Anh</a>
    
</div>



                
                <header class="article-header">
                    <h1 class="article-title">Hướng dẫn khắc phục sự cố cho I2P Router</h1>
                    
                        <p class="article-description">Hướng dẫn khắc phục sự cố toàn diện cho các vấn đề thường gặp của I2P router, bao gồm các vấn đề về kết nối, hiệu năng và cấu hình</p>
                    
                    <div class="article-meta">
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Updated: 2025-10
                            </span>
                        
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                Accurate for: 2.10.0
                            </span>
                        
                    </div>
                </header>

                
                <article class="article-content">
                    <p>Các router I2P thường gặp lỗi nhất là do <strong>sự cố chuyển tiếp cổng</strong>, <strong>phân bổ băng thông không đủ</strong>, và <strong>thời gian bootstrap (khởi tạo ban đầu) không đủ</strong>. Ba yếu tố này chiếm hơn 70% các sự cố được báo cáo. Router cần ít nhất <strong>10-15 phút</strong> sau khi khởi động để tích hợp hoàn toàn vào mạng, <strong>băng thông tối thiểu 128 KB/sec</strong> (khuyến nghị 256 KB/sec), và <strong>chuyển tiếp cổng UDP/TCP</strong> đúng cách để đạt trạng thái không bị tường lửa chặn. Người dùng mới thường kỳ vọng kết nối ngay lập tức và khởi động lại quá sớm, điều này đặt lại tiến trình tích hợp và tạo ra một vòng lặp gây khó chịu. Hướng dẫn này cung cấp các giải pháp chi tiết cho mọi vấn đề chính của I2P ảnh hưởng đến các phiên bản 2.10.0 trở lên.</p>
<p>Kiến trúc ẩn danh của I2P vốn dĩ đánh đổi tốc độ để lấy quyền riêng tư thông qua cơ chế tunnel mã hóa đa bước nhảy. Việc hiểu rõ thiết kế nền tảng này giúp người dùng đặt kỳ vọng thực tế và khắc phục sự cố hiệu quả, thay vì hiểu nhầm hành vi bình thường là vấn đề.</p>
<h2 id="router-không-khởi-động-hoặc-bị-sập-ngay-lập-tức">Router không khởi động hoặc bị sập ngay lập tức</h2>
<p>Những sự cố khởi động thường gặp nhất xuất phát từ <strong>xung đột cổng</strong>, <strong>không tương thích phiên bản Java</strong>, hoặc <strong>tệp cấu hình bị hỏng</strong>. Hãy kiểm tra xem có tiến trình I2P khác đang chạy hay không trước khi điều tra các vấn đề sâu hơn.</p>
<p><strong>Xác minh không có tiến trình xung đột:</strong></p>
<p>Linux: <code>ps aux | grep i2p</code> hoặc <code>netstat -tulpn | grep 7657</code></p>
<p>Windows: Trình quản lý tác vụ → Chi tiết → tìm java.exe có i2p trong dòng lệnh</p>
<p>macOS: Activity Monitor → tìm kiếm &ldquo;i2p&rdquo;</p>
<p>Nếu có một tiến trình zombie, hãy kết thúc nó: <code>pkill -9 -f i2p</code> (Linux/Mac) hoặc <code>taskkill /F /IM javaw.exe</code> (Windows)</p>
<p><strong>Kiểm tra khả năng tương thích phiên bản Java:</strong></p>
<p>I2P 2.10.0+ yêu cầu <strong>Java 8 tối thiểu</strong>, khuyến nghị Java 11 hoặc mới hơn. Hãy xác minh rằng cài đặt của bạn hiển thị &ldquo;mixed mode&rdquo; (chế độ hỗn hợp) (không phải &ldquo;interpreted mode&rdquo; (chế độ thông dịch)):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -version
</span></span></code></pre></div><p>Nên hiển thị: OpenJDK hoặc Oracle Java, phiên bản 8+, &ldquo;mixed mode&rdquo;</p>
<p><strong>Tránh:</strong> GNU GCJ, các triển khai Java lỗi thời, các chế độ chỉ thông dịch</p>
<p><strong>Các xung đột cổng thường gặp</strong> xảy ra khi nhiều dịch vụ cùng tranh chấp các cổng mặc định của I2P. Bảng điều khiển router (7657), I2CP (7654), SAM (7656) và proxy HTTP (4444) phải khả dụng. Kiểm tra xung đột: <code>netstat -ano | findstr &quot;7657 4444 7654&quot;</code> (Windows) hoặc <code>lsof -i :7657,4444,7654</code> (Linux/Mac).</p>
<p><strong>Hỏng tệp cấu hình</strong> thể hiện bằng việc sập (crash) ngay lập tức với lỗi phân tích cú pháp (parse errors) trong nhật ký. router.config yêu cầu <strong>mã hóa UTF-8 không BOM</strong>, dùng <code>=</code> làm ký tự phân tách (không phải <code>:</code>), và cấm một số ký tự đặc biệt nhất định. Hãy sao lưu rồi kiểm tra: <code>~/.i2p/router.config</code> (Linux), <code>%LOCALAPPDATA%\I2P\router.config</code> (Windows), <code>~/Library/Application Support/i2p/router.config</code> (macOS).</p>
<p>Để đặt lại cấu hình mà vẫn giữ nguyên danh tính: Dừng I2P, sao lưu router.keys và thư mục keyData, xóa router.config, rồi khởi động lại I2P. router sẽ tạo lại cấu hình mặc định.</p>
<p><strong>Phân bổ heap Java quá thấp</strong> gây sập với lỗi OutOfMemoryError. Chỉnh sửa wrapper.config và tăng <code>wrapper.java.maxmemory</code> từ mặc định 128 hoặc 256 lên <strong>tối thiểu 512</strong> (1024 cho các router băng thông cao). Việc này yêu cầu tắt hoàn toàn, chờ 11 phút, rồi khởi động lại - nhấp &ldquo;Restart&rdquo; trong bảng điều khiển sẽ không áp dụng thay đổi.</p>
<h2 id="khắc-phục-trạng-thái-network-firewalled">Khắc phục trạng thái &ldquo;Network: Firewalled&rdquo;</h2>
<p>Trạng thái bị tường lửa chặn nghĩa là router không thể nhận các kết nối vào trực tiếp, buộc phải phụ thuộc vào introducers (các nút trung gian hỗ trợ giới thiệu kết nối). Dù router vẫn hoạt động ở trạng thái này, <strong>hiệu năng giảm sút đáng kể</strong> và mức đóng góp cho mạng vẫn ở mức tối thiểu. Để đạt trạng thái không bị tường lửa chặn, cần cấu hình chuyển tiếp cổng đúng cách.</p>
<p><strong>router sẽ chọn ngẫu nhiên một cổng</strong> trong khoảng 9000-31000 cho giao tiếp. Hãy xem cổng của bạn tại http://127.0.0.1:7657/confignet - hãy tìm &ldquo;UDP Port&rdquo; và &ldquo;TCP Port&rdquo; (thường là cùng một số). Bạn phải chuyển tiếp cổng (port forwarding) cho <strong>cả UDP và TCP</strong> để đạt hiệu năng tối ưu, dù chỉ riêng UDP cũng cho phép chức năng cơ bản.</p>
<p><strong>Bật chuyển tiếp tự động qua UPnP</strong> (cách đơn giản nhất):</p>
<ol>
<li>Truy cập http://127.0.0.1:7657/confignet</li>
<li>Chọn &ldquo;Enable UPnP&rdquo;</li>
<li>Lưu thay đổi và khởi động lại router</li>
<li>Chờ 5-10 phút và kiểm tra trạng thái thay đổi từ &ldquo;Network: Firewalled&rdquo; sang &ldquo;Network: OK&rdquo;</li>
</ol>
<p>UPnP yêu cầu hỗ trợ từ router (được bật theo mặc định trên hầu hết các router dành cho người tiêu dùng sản xuất sau năm 2010) và cấu hình mạng đúng cách.</p>
<p><strong>Chuyển tiếp cổng thủ công</strong> (bắt buộc khi UPnP không hoạt động):</p>
<ol>
<li>Ghi lại cổng I2P của bạn từ http://127.0.0.1:7657/confignet (ví dụ: 22648)</li>
<li>Tìm địa chỉ IP cục bộ của bạn: <code>ipconfig</code> (Windows), <code>ip addr</code> (Linux), System Preferences → Network (macOS)</li>
<li>Truy cập giao diện quản trị của router (thường là 192.168.1.1 hoặc 192.168.0.1)</li>
<li>Đi tới Port Forwarding (có thể nằm dưới Advanced, NAT, hoặc Virtual Servers)</li>
<li>Tạo hai quy tắc:
<ul>
<li>Cổng ngoài: [cổng I2P của bạn] → IP nội bộ: [máy tính của bạn] → Cổng nội bộ: [giữ nguyên] → Giao thức: <strong>UDP</strong></li>
<li>Cổng ngoài: [cổng I2P của bạn] → IP nội bộ: [máy tính của bạn] → Cổng nội bộ: [giữ nguyên] → Giao thức: <strong>TCP</strong></li>
</ul>
</li>
<li>Lưu cấu hình và khởi động lại router nếu cần</li>
</ol>
<p><strong>Xác minh chuyển tiếp cổng</strong> bằng các công cụ kiểm tra trực tuyến sau khi cấu hình. Nếu không phát hiện được, hãy kiểm tra cài đặt tường lửa - cả tường lửa hệ thống và tường lửa của bất kỳ phần mềm chống virus nào cũng phải cho phép cổng I2P.</p>
<p><strong>Phương án thay thế bằng chế độ ẩn (Hidden mode)</strong> cho các mạng bị hạn chế nơi việc chuyển tiếp cổng là không thể: Bật tại http://127.0.0.1:7657/confignet → chọn &ldquo;Hidden mode&rdquo;. The router vẫn bị tường lửa chặn nhưng tối ưu cho trạng thái này bằng cách chỉ sử dụng SSU introducers (nút trung gian giới thiệu). Hiệu năng sẽ chậm hơn nhưng vẫn hoạt động.</p>
<h2 id="router-bị-kẹt-ở-trạng-thái-starting-hoặc-testing">Router bị kẹt ở trạng thái &ldquo;Starting&rdquo; hoặc &ldquo;Testing&rdquo;</h2>
<p>Những trạng thái tạm thời trong giai đoạn khởi tạo ban đầu thường tự ổn định trong vòng <strong>10-15 phút đối với các cài đặt mới</strong> hoặc <strong>3-5 phút đối với các router đã hoạt động</strong>. Việc can thiệp quá sớm thường khiến vấn đề trở nên trầm trọng hơn.</p>
<p><strong>&ldquo;Network: Testing&rdquo;</strong> cho biết router đang thăm dò khả năng được kết nối từ bên ngoài qua nhiều kiểu kết nối (kết nối trực tiếp, introducers (các nút giới thiệu hỗ trợ kết nối qua NAT), nhiều phiên bản giao thức). Đây là điều <strong>bình thường trong 5–10 phút đầu</strong> sau khi khởi động. Router kiểm tra nhiều kịch bản để xác định cấu hình tối ưu.</p>
<p><strong>&ldquo;Rejecting tunnels: starting up&rdquo;</strong> xuất hiện trong giai đoạn bootstrap (khởi động ban đầu) khi router chưa có đủ thông tin về các nút ngang hàng. Router sẽ không tham gia chuyển tiếp lưu lượng cho đến khi được tích hợp đầy đủ vào mạng. Thông điệp này sẽ biến mất sau 10-20 phút khi netDb đã có dữ liệu về hơn 50 router.</p>
<p><strong>Sai lệch đồng hồ phá hỏng việc kiểm tra khả năng kết nối.</strong> I2P yêu cầu thời gian hệ thống nằm trong <strong>±60 giây</strong> so với thời gian mạng. Chênh lệch vượt quá 90 giây sẽ khiến kết nối bị tự động từ chối. Đồng bộ đồng hồ hệ thống của bạn:</p>
<p>Linux: <code>sudo timedatectl set-ntp true &amp;&amp; sudo systemctl restart systemd-timesyncd</code></p>
<p>Windows: Bảng điều khiển → Ngày và Giờ → Thời gian Internet → Cập nhật ngay → Bật đồng bộ tự động</p>
<p>macOS: Tùy chọn Hệ thống → Ngày &amp; Giờ → Bật &ldquo;Đặt ngày và giờ tự động&rdquo;</p>
<p>Sau khi khắc phục clock skew (sai lệch thời gian của đồng hồ hệ thống), hãy khởi động lại I2P hoàn toàn để tích hợp đúng cách.</p>
<p><strong>Phân bổ băng thông không đủ</strong> ngăn cản việc thử nghiệm thành công. router cần đủ băng thông để xây dựng các tunnel thử nghiệm. Cấu hình tại http://127.0.0.1:7657/config:</p>
<ul>
<li><strong>Tối thiểu đủ dùng:</strong> Vào 96 KB/giây, Ra 64 KB/giây</li>
<li><strong>Khuyến nghị (chuẩn):</strong> Vào 256 KB/giây, Ra 128 KB/giây</li>
<li><strong>Hiệu suất tối ưu:</strong> Vào 512+ KB/giây, Ra 256+ KB/giây</li>
<li><strong>Tỷ lệ chia sẻ:</strong> 80% (cho phép router đóng góp băng thông cho mạng)</li>
</ul>
<p>Băng thông thấp hơn có thể vẫn hoạt động nhưng sẽ kéo dài thời gian tích hợp từ vài phút lên hàng giờ.</p>
<p><strong>netDb bị hỏng</strong> do tắt máy không đúng cách hoặc lỗi ổ đĩa gây ra các vòng lặp kiểm thử liên tục. Router không thể hoàn tất kiểm thử nếu không có dữ liệu peer hợp lệ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Stop I2P completely</span>
</span></span><span style="display:flex;"><span>i2prouter stop    <span style="color:#75715e"># or systemctl stop i2p</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Delete corrupted database (safe - will reseed automatically)</span>
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/netDb/*
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Restart and allow 10-15 minutes for reseed</span>
</span></span><span style="display:flex;"><span>i2prouter start
</span></span></code></pre></div><p>Windows: Xóa nội dung của <code>%APPDATA%\I2P\netDb\</code> hoặc <code>%LOCALAPPDATA%\I2P\netDb\</code></p>
<p><strong>Tường lửa chặn reseed (tải về thông tin router ban đầu)</strong> khiến không thể thu nhận các nút ban đầu. Trong giai đoạn khởi tạo, I2P tải về thông tin router từ các máy chủ reseed qua HTTPS. Tường lửa của doanh nghiệp/ISP có thể chặn các kết nối này. Hãy cấu hình proxy reseed tại http://127.0.0.1:7657/configreseed nếu hoạt động phía sau các mạng bị hạn chế.</p>
<h2 id="tốc-độ-chậm-hết-thời-gian-chờ-và-lỗi-xây-dựng-tunnel">Tốc độ chậm, hết thời gian chờ, và lỗi xây dựng tunnel</h2>
<p>Thiết kế của I2P vốn dĩ dẫn đến <strong>tốc độ chậm hơn 3–10 lần so với clearnet (mạng công khai)</strong> do mã hóa đa hop, overhead gói tin và tính khó đoán của đường đi. Quá trình xây dựng tunnel đi qua nhiều router, mỗi router đều thêm độ trễ. Hiểu điều này giúp tránh chẩn đoán nhầm hành vi bình thường thành sự cố.</p>
<p><strong>Kỳ vọng hiệu năng điển hình:</strong></p>
<ul>
<li>Duyệt web các trang .i2p: ban đầu tải trang mất 10-30 giây, nhanh hơn sau khi thiết lập tunnel</li>
<li>Tải torrent qua I2PSnark: 10-100 KB/giây cho mỗi torrent tùy theo người seed (seeders) và điều kiện mạng</li>
<li>Tải xuống tệp lớn: Cần kiên nhẫn - tệp cỡ megabyte có thể mất vài phút, gigabyte mất hàng giờ</li>
<li>Kết nối đầu tiên chậm nhất: Việc xây dựng tunnel mất 30-90 giây; các kết nối tiếp theo dùng các tunnel hiện có</li>
</ul>
<p><strong>Tỷ lệ thành công khi xây dựng Tunnel</strong> cho biết tình trạng sức khỏe của mạng. Kiểm tra tại http://127.0.0.1:7657/tunnels:</p>
<ul>
<li><strong>Trên 60%:</strong> Bình thường, hoạt động ổn định</li>
<li><strong>40-60%:</strong> Cận biên, cân nhắc tăng băng thông hoặc giảm tải</li>
<li><strong>Dưới 40%:</strong> Có vấn đề - cho thấy băng thông không đủ, sự cố mạng, hoặc lựa chọn nút ngang hàng kém</li>
</ul>
<p><strong>Tăng phân bổ băng thông</strong> là bước tối ưu hóa đầu tiên. Tình trạng chậm chạp phần lớn xuất phát từ việc thiếu băng thông. Tại http://127.0.0.1:7657/config, hãy tăng dần các giới hạn và theo dõi biểu đồ tại http://127.0.0.1:7657/graphs.</p>
<p><strong>Dành cho DSL/Cable (kết nối 1-10 Mbps):</strong> - Băng thông vào: 400 KB/giây - Băng thông ra: 200 KB/giây - Chia sẻ: 80% - Bộ nhớ: 384 MB (chỉnh sửa wrapper.config)</p>
<p><strong>Đối với kết nối tốc độ cao (10-100+ Mbps):</strong> - Vào: 1500 KB/giây   - Ra: 1000 KB/giây - Chia sẻ: 80-100% - Bộ nhớ: 512-1024 MB - Cân nhắc: Tăng số lượng tunnels tham gia lên 2000-5000 tại http://127.0.0.1:7657/configadvanced</p>
<p><strong>Tối ưu cấu hình tunnel</strong> để có hiệu năng tốt hơn. Truy cập các cài đặt tunnel cụ thể tại http://127.0.0.1:7657/i2ptunnel và chỉnh sửa từng tunnel:</p>
<ul>
<li><strong>Số lượng tunnel:</strong> Tăng từ 2 lên 3-4 (có nhiều đường đi hơn)</li>
<li><strong>Số lượng dự phòng:</strong> Đặt thành 1-2 (chuyển đổi dự phòng nhanh nếu tunnel gặp sự cố)</li>
<li><strong>Độ dài tunnel:</strong> Mặc định 3 hop (chặng) mang lại cân bằng tốt; giảm xuống 2 cải thiện tốc độ nhưng giảm tính ẩn danh</li>
</ul>
<p><strong>Thư viện mật mã gốc (jbigi)</strong> cho hiệu năng tốt hơn 5-10x so với mã hóa Java thuần. Xác minh đã được nạp tại http://127.0.0.1:7657/logs - hãy tìm &ldquo;jbigi loaded successfully&rdquo; hoặc &ldquo;Using native CPUID implementation&rdquo;. Nếu không thấy:</p>
<p>Linux: Thông thường được tự động phát hiện và nạp từ ~/.i2p/jbigi-*.so Windows: Kiểm tra jbigi.dll trong thư mục cài đặt I2P Nếu thiếu: Cài đặt các công cụ biên dịch/xây dựng và biên dịch từ mã nguồn, hoặc tải các tệp nhị phân đã biên dịch sẵn từ các kho lưu trữ chính thức</p>
<p><strong>Giữ router chạy liên tục.</strong> Mỗi lần khởi động lại sẽ đặt lại trạng thái hòa nhập, cần 30-60 phút để xây dựng lại mạng lưới tunnel và các mối quan hệ với các nút (peer). Các router ổn định với thời gian hoạt động (uptime) cao sẽ được ưu tiên chọn khi xây dựng tunnel, tạo ra vòng phản hồi tích cực cho hiệu năng.</p>
<h2 id="mức-sử-dụng-cpu-và-bộ-nhớ-cao">Mức sử dụng CPU và bộ nhớ cao</h2>
<p>Việc sử dụng tài nguyên quá mức thường cho thấy <strong>cấp phát bộ nhớ không đầy đủ</strong>, <strong>thiếu các thư viện mật mã gốc (native)</strong>, hoặc <strong>quá mức cam kết với việc tham gia mạng</strong>. Các router được cấu hình tốt nên tiêu thụ 10-30% CPU trong khi hoạt động và duy trì mức sử dụng bộ nhớ ổn định dưới 80% của heap (vùng bộ nhớ heap) được cấp phát.</p>
<p><strong>Các vấn đề về bộ nhớ biểu hiện như sau:</strong> - Biểu đồ bộ nhớ đỉnh phẳng (bị ghim ở mức tối đa) - Thu gom rác (garbage collection) diễn ra thường xuyên (mẫu răng cưa với các đợt tụt mạnh) - OutOfMemoryError trong nhật ký - Router trở nên không phản hồi khi chịu tải - Tự động tắt do cạn kiệt tài nguyên</p>
<p><strong>Tăng phân bổ bộ nhớ heap của Java</strong> trong wrapper.config (yêu cầu tắt hoàn toàn):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Linux: ~/.i2p/wrapper.config</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Windows: %APPDATA%\I2P\wrapper.config  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Find and modify:</span>
</span></span><span style="display:flex;"><span>wrapper.java.maxmemory<span style="color:#f92672">=</span><span style="color:#ae81ff">512</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Recommendations by usage:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Light browsing only: 256</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Standard use (browsing + light torrenting): 512</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Heavy use (multiple applications, active torrenting): 768-1024</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Floodfill or very high bandwidth: 1024-2048</span>
</span></span></code></pre></div><p><strong>Quan trọng:</strong> Sau khi chỉnh sửa wrapper.config, bạn <strong>phải tắt hoàn toàn</strong> (không khởi động lại), chờ 11 phút để quá trình kết thúc an toàn, rồi khởi động mới. Nút &ldquo;Restart&rdquo; trên Router console không tải lại các thiết lập của wrapper.</p>
<p><strong>Tối ưu hóa CPU cần thư viện mật mã gốc (native).</strong> Các phép toán BigInteger thuần Java tiêu tốn CPU gấp 10–20 lần so với các triển khai native. Hãy kiểm tra trạng thái jbigi tại http://127.0.0.1:7657/logs trong khi khởi động. Nếu không có jbigi, CPU sẽ tăng vọt lên 50–100% trong quá trình xây dựng tunnel và các hoạt động mã hóa.</p>
<p><strong>Giảm tải từ các tunnel tham gia</strong> nếu router bị quá tải:</p>
<ol>
<li>Truy cập http://127.0.0.1:7657/configadvanced</li>
<li>Thiết lập <code>router.maxParticipatingTunnels=1000</code> (mặc định là 8000)</li>
<li>Giảm tỷ lệ chia sẻ tại http://127.0.0.1:7657/config từ 80% xuống 50%</li>
<li>Tắt chế độ floodfill nếu đang bật: <code>router.floodfillParticipant=false</code></li>
</ol>
<p><strong>Giới hạn băng thông và số torrent hoạt động đồng thời của I2PSnark.</strong> Việc tải torrent tiêu tốn đáng kể tài nguyên. Tại http://127.0.0.1:7657/i2psnark:</p>
<ul>
<li>Giới hạn số torrent đang hoạt động tối đa 3-5</li>
<li>Đặt &ldquo;Up BW Limit&rdquo; và &ldquo;Down BW Limit&rdquo; ở các giá trị hợp lý (50-100 KB/giây mỗi cái)</li>
<li>Dừng torrent khi không còn cần thiết</li>
<li>Tránh seed (chia sẻ) hàng chục torrent cùng lúc</li>
</ul>
<p><strong>Theo dõi mức sử dụng tài nguyên</strong> thông qua các đồ thị tích hợp sẵn tại http://127.0.0.1:7657/graphs. Bộ nhớ nên thể hiện còn dư địa (headroom), không phải đỉnh phẳng (flat-top). Các đột biến CPU trong lúc xây dựng tunnel là bình thường; CPU cao kéo dài cho thấy có vấn đề về cấu hình.</p>
<p><strong>Đối với các hệ thống rất hạn chế tài nguyên</strong> (Raspberry Pi, phần cứng cũ), hãy cân nhắc <strong>i2pd</strong> (triển khai C++) như một lựa chọn thay thế. i2pd cần ~130 MB RAM so với 350+ MB của Java I2P, và dùng ~7% CPU so với 70% dưới tải tương tự. Lưu ý rằng i2pd không có ứng dụng tích hợp sẵn và cần các công cụ bên ngoài.</p>
<h2 id="các-sự-cố-torrent-của-i2psnark">Các sự cố torrent của I2PSnark</h2>
<p>Để I2PSnark tích hợp với kiến trúc router của I2P, cần hiểu rằng <strong>việc torrent phụ thuộc hoàn toàn vào tình trạng hoạt động của tunnel trên router</strong>. Các torrent sẽ không bắt đầu cho đến khi router đạt mức hòa nhập mạng đủ tốt với hơn 10 nút ngang hàng đang hoạt động và các tunnel hoạt động bình thường.</p>
<p><strong>Các torrent bị kẹt ở mức 0% thường là dấu hiệu cho thấy:</strong></p>
<ol>
<li><strong>Router chưa tích hợp đầy đủ:</strong> Chờ 10-15 phút sau khi I2P khởi động trước khi mong đợi có hoạt động torrent</li>
<li><strong>DHT (bảng băm phân tán) bị tắt:</strong> Bật tại http://127.0.0.1:7657/i2psnark → Configuration → đánh dấu &ldquo;Enable DHT&rdquo; (mặc định bật từ phiên bản 0.9.2)</li>
<li><strong>Tracker không hợp lệ hoặc đã chết:</strong> Torrent trên I2P yêu cầu tracker dành riêng cho I2P - tracker clearnet (mạng Internet công khai) sẽ không hoạt động</li>
<li><strong>Cấu hình tunnel không đủ:</strong> Tăng số lượng tunnel tại I2PSnark Configuration → phần Tunnels</li>
</ol>
<p><strong>Cấu hình I2PSnark tunnels để cải thiện hiệu năng:</strong></p>
<ul>
<li>Tunnel vào: 3-5 (mặc định là 2 cho Java I2P, 5 cho i2pd)</li>
<li>Tunnel ra: 3-5</li>
<li>Độ dài tunnel: 3 hop (bước nhảy qua nút trung gian; giảm xuống 2 để tăng tốc, ít ẩn danh hơn)</li>
<li>Số lượng tunnel: 3 (cho hiệu năng ổn định)</li>
</ul>
<p><strong>Các tracker (máy chủ theo dõi) torrent I2P thiết yếu</strong> cần thêm: - tracker2.postman.i2p (chính, đáng tin cậy nhất) - w7tpbzncbcocrqtwwm3nezhnnsw4ozadvi2hmvzdhrqzfxfum7wa.b32.i2p/a</p>
<p>Hãy loại bỏ mọi tracker clearnet (internet công khai, không phải .i2p) - chúng không mang lại giá trị nào và tạo ra các lần thử kết nối bị hết thời gian chờ.</p>
<p><strong>Lỗi &ldquo;Torrent not registered&rdquo;</strong> xảy ra khi việc giao tiếp với tracker thất bại. Nhấp chuột phải vào torrent → &ldquo;Start&rdquo; sẽ buộc thông báo lại với tracker. Nếu vẫn tiếp diễn, hãy kiểm tra khả năng truy cập của tracker bằng cách truy cập <a href="http://tracker2.postman.i">http://tracker2.postman.i</a>
2p trong trình duyệt đã được cấu hình I2P. Các tracker chết nên được thay bằng các lựa chọn thay thế còn hoạt động.</p>
<p><strong>Không có peer (nút ngang hàng) nào kết nối</strong> mặc dù tracker phản hồi thành công, có thể do: - Router bị tường lửa chặn (cải thiện khi bật port forwarding (chuyển tiếp cổng) nhưng không bắt buộc) - Băng thông không đủ (tăng lên 256+ KB/sec)   - Swarm (nhóm người dùng chia sẻ) quá nhỏ (một số torrent chỉ có 1-2 seeders (máy chia sẻ); cần kiên nhẫn) - DHT bị tắt (bật để tìm peer không cần tracker)</p>
<p><strong>Kích hoạt DHT (bảng băm phân tán) và PEX (Peer Exchange - trao đổi nút)</strong> trong I2PSnark Configuration. DHT cho phép tìm các nút mà không phụ thuộc vào tracker (máy theo dõi). PEX khám phá các nút từ các nút đã kết nối, tăng tốc quá trình phát hiện swarm (tập hợp các nút trong torrent).</p>
<p><strong>Hư hỏng tệp đã tải xuống</strong> hiếm khi xảy ra nhờ cơ chế kiểm tra tính toàn vẹn tích hợp sẵn của I2PSnark. Nếu phát hiện:</p>
<ol>
<li>Nhấp chuột phải vào torrent → &ldquo;Check&rdquo; sẽ buộc băm lại tất cả các mảnh</li>
<li>Xóa dữ liệu torrent bị hỏng (giữ lại tệp .torrent)</li>
<li>Nhấp chuột phải → &ldquo;Start&rdquo; để tải lại kèm xác minh từng mảnh</li>
<li>Kiểm tra ổ đĩa để tìm lỗi nếu vẫn còn hỏng: <code>chkdsk</code> (Windows), <code>fsck</code> (Linux)</li>
</ol>
<p><strong>Tính năng theo dõi thư mục không hoạt động</strong> cần được cấu hình đúng cách:</p>
<ol>
<li>Cấu hình I2PSnark → &ldquo;Watch directory&rdquo;: Đặt đường dẫn tuyệt đối (ví dụ: <code>/home/user/torrents/watch</code>)</li>
<li>Đảm bảo tiến trình I2P có quyền đọc: <code>chmod 755 /path/to/watch</code></li>
<li>Đặt các tệp .torrent vào thư mục Watch directory - I2PSnark sẽ tự động thêm chúng</li>
<li>Cấu hình &ldquo;Auto start&rdquo;: Đánh dấu chọn để các torrent bắt đầu ngay khi được thêm</li>
</ol>
<p><strong>Tối ưu hiệu năng cho việc tải torrent:</strong></p>
<ul>
<li>Giới hạn số torrent hoạt động đồng thời: tối đa 3-5 cho các kết nối tiêu chuẩn</li>
<li>Ưu tiên các tải xuống quan trọng: Dừng tạm thời các torrent ưu tiên thấp</li>
<li>Tăng phân bổ băng thông cho router: Nhiều băng thông hơn = hiệu suất torrent tốt hơn</li>
<li>Hãy kiên nhẫn: Tải torrent qua I2P vốn dĩ chậm hơn so với BitTorrent trên clearnet (Internet công khai)</li>
<li>Seed sau khi tải xong: Mạng lưới phát triển nhờ tính có đi có lại</li>
</ul>
<h2 id="cấu-hình-và-khắc-phục-sự-cố-git-qua-i2p">Cấu hình và khắc phục sự cố Git qua I2P</h2>
<p>Các thao tác Git qua I2P cần hoặc <strong>cấu hình proxy SOCKS</strong> hoặc <strong>I2P tunnels chuyên dụng</strong> để truy cập SSH/HTTP. Thiết kế của Git giả định các kết nối có độ trễ thấp, khiến việc hoạt động qua kiến trúc có độ trễ cao của I2P trở nên thách thức.</p>
<p><strong>Cấu hình Git để sử dụng proxy SOCKS của I2P:</strong></p>
<p>Chỉnh sửa ~/.ssh/config (tạo nếu chưa có):</p>
<pre tabindex="0"><code>Host *.i2p
    ProxyCommand nc -X 5 -x 127.0.0.1:4447 %h %p
    ServerAliveInterval 60
    ServerAliveCountMax 3
    Compression yes
</code></pre><p>Điều này định tuyến tất cả các kết nối SSH tới các máy chủ .i2p thông qua SOCKS proxy của I2P (cổng 4447). Các thiết lập ServerAlive (tùy chọn giữ kết nối của SSH) duy trì kết nối khi I2P có độ trễ.</p>
<p>Đối với các thao tác git qua HTTP/HTTPS, hãy cấu hình git ở mức toàn cục:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git config --global http.proxy socks5h://127.0.0.1:4447
</span></span><span style="display:flex;"><span>git config --global https.proxy socks5h://127.0.0.1:4447
</span></span></code></pre></div><p>Lưu ý: <code>socks5h</code> thực hiện phân giải DNS thông qua proxy - rất quan trọng đối với các tên miền .i2p.</p>
<p><strong>Tạo I2P tunnel chuyên dụng cho Git SSH</strong> (đáng tin cậy hơn so với SOCKS):</p>
<ol>
<li>Truy cập http://127.0.0.1:7657/i2ptunnel</li>
<li>&ldquo;New client tunnel&rdquo; → &ldquo;Standard&rdquo;</li>
<li>Cấu hình:
<ul>
<li>Tên: Git-SSH</li>
<li>Loại: Client</li>
<li>Cổng: 2222 (cổng cục bộ để truy cập Git)</li>
<li>Đích: [your-git-server].i2p:22</li>
<li>Tự động khởi động: Bật</li>
<li>Số lượng tunnel: 3-4 (cao hơn để tăng độ tin cậy)</li>
</ul>
</li>
<li>Lưu và khởi động tunnel</li>
<li>Cấu hình SSH để sử dụng tunnel: <code>ssh -p 2222 git@127.0.0.1</code></li>
</ol>
<p><strong>Các lỗi xác thực SSH</strong> qua I2P thường bắt nguồn từ:</p>
<ul>
<li>Chưa thêm khóa vào ssh-agent: <code>ssh-add ~/.ssh/id_rsa</code></li>
<li>Phân quyền tệp khóa không đúng: <code>chmod 600 ~/.ssh/id_rsa</code></li>
<li>Tunnel không chạy: Xác minh tại http://127.0.0.1:7657/i2ptunnel hiển thị trạng thái màu xanh</li>
<li>Máy chủ Git yêu cầu loại khóa cụ thể: Tạo khóa ed25519 nếu RSA không thành công</li>
</ul>
<p><strong>Các thao tác Git bị hết thời gian chờ</strong> liên quan đến đặc tính độ trễ của I2P:</p>
<ul>
<li>Tăng thời gian chờ của Git: <code>git config --global http.postBuffer 524288000</code> (bộ đệm 500MB)</li>
<li>Tăng giới hạn tốc độ thấp: <code>git config --global http.lowSpeedLimit 1000</code> và <code>git config --global http.lowSpeedTime 600</code> (chờ 10 phút)</li>
<li>Sử dụng shallow clone (clone nông) cho lần clone ban đầu: <code>git clone --depth 1 [url]</code> (chỉ tải commit mới nhất, nhanh hơn)</li>
<li>Thực hiện clone vào các khoảng thời gian ít hoạt động: Tắc nghẽn mạng ảnh hưởng đến hiệu năng I2P</li>
</ul>
<p><strong>Các thao tác git clone/fetch chậm</strong> là đặc tính vốn có của kiến trúc I2P. Một kho mã nguồn 100MB có thể mất 30-60 phút qua I2P, so với chỉ vài giây trên clearnet (mạng công khai). Chiến lược:</p>
<ul>
<li>Sử dụng shallow clone (clone nông): <code>--depth 1</code> giảm đáng kể lượng dữ liệu truyền ban đầu</li>
<li>Fetch theo từng phần: Thay vì clone đầy đủ, fetch các nhánh cụ thể: <code>git fetch origin branch:branch</code></li>
<li>Cân nhắc rsync qua I2P: Với các kho rất lớn, rsync có thể cho hiệu năng tốt hơn</li>
<li>Tăng số lượng tunnel: Nhiều tunnel mang lại thông lượng tốt hơn cho các truyền tải dữ liệu lớn kéo dài</li>
</ul>
<p><strong>Các lỗi &ldquo;Connection refused&rdquo;</strong> cho thấy cấu hình tunnel sai:</p>
<ol>
<li>Xác minh I2P router (bộ định tuyến) đang chạy: Kiểm tra http://127.0.0.1:7657</li>
<li>Xác nhận tunnel (đường hầm) đang hoạt động và hiển thị màu xanh tại http://127.0.0.1:7657/i2ptunnel</li>
<li>Kiểm tra tunnel: <code>nc -zv 127.0.0.1 2222</code> (sẽ kết nối nếu tunnel hoạt động)</li>
<li>Kiểm tra đích có thể truy cập: Truy cập giao diện HTTP của đích nếu có</li>
<li>Xem lại nhật ký tunnel tại http://127.0.0.1:7657/logs để tìm lỗi cụ thể</li>
</ol>
<p><strong>Thực tiễn tốt nhất cho Git (hệ thống quản lý phiên bản phân tán) qua I2P:</strong></p>
<ul>
<li>Giữ I2P router chạy liên tục để truy cập Git ổn định</li>
<li>Sử dụng khóa SSH thay vì xác thực bằng mật khẩu (ít lời nhắc tương tác hơn)</li>
<li>Cấu hình tunnels thường trực thay vì các kết nối SOCKS tạm thời</li>
<li>Cân nhắc tự lưu trữ máy chủ git I2P để kiểm soát tốt hơn</li>
<li>Ghi lại các điểm cuối git .i2p của bạn cho cộng tác viên</li>
</ul>
<h2 id="truy-cập-các-eepsite-và-phân-giải-tên-miền-i2p">Truy cập các eepsite và phân giải tên miền .i2p</h2>
<p>Lý do thường gặp nhất khiến người dùng không thể truy cập các trang .i2p là <strong>cấu hình proxy trình duyệt không đúng</strong>. Các trang I2P chỉ tồn tại trong mạng I2P và cần được định tuyến thông qua proxy HTTP của I2P.</p>
<p><strong>Thiết lập cài đặt proxy của trình duyệt chính xác như sau:</strong></p>
<p><strong>Firefox (được khuyến nghị cho I2P):</strong></p>
<ol>
<li>Menu → Cài đặt → Cài đặt mạng → nút Cài đặt</li>
<li>Chọn &ldquo;Cấu hình proxy thủ công&rdquo;</li>
<li>Proxy HTTP: <strong>127.0.0.1</strong> Cổng: <strong>4444</strong></li>
<li>Proxy SSL: <strong>127.0.0.1</strong> Cổng: <strong>4444</strong></li>
<li>Proxy SOCKS: <strong>127.0.0.1</strong> Cổng: <strong>4447</strong> (tùy chọn, dành cho ứng dụng SOCKS)</li>
<li>Chọn &ldquo;Proxy DNS khi dùng SOCKS v5&rdquo;</li>
<li>Nhấn OK để lưu</li>
</ol>
<p><strong>Các cài đặt about:config quan trọng của Firefox:</strong></p>
<p>Truy cập <code>about:config</code> và chỉnh sửa:</p>
<ul>
<li><code>media.peerconnection.ice.proxy_only</code> = <strong>true</strong> (ngăn rò rỉ địa chỉ IP qua WebRTC)</li>
<li><code>keyword.enabled</code> = <strong>false</strong> (ngăn địa chỉ .i2p bị chuyển hướng đến công cụ tìm kiếm)</li>
<li><code>network.proxy.socks_remote_dns</code> = <strong>true</strong> (DNS qua proxy)</li>
</ul>
<p><strong>Các hạn chế của Chrome/Chromium:</strong></p>
<p>Chrome sử dụng cài đặt proxy toàn hệ thống thay vì theo từng ứng dụng. Trên Windows: Cài đặt → tìm kiếm &ldquo;proxy&rdquo; → &ldquo;Mở cài đặt proxy của máy tính&rdquo; → Cấu hình HTTP: 127.0.0.1:4444 và HTTPS: 127.0.0.1:4445.</p>
<p>Cách tiếp cận tốt hơn: Sử dụng tiện ích mở rộng FoxyProxy hoặc Proxy SwitchyOmega để định tuyến .i2p có chọn lọc.</p>
<p><strong>Các lỗi &ldquo;Website Not Found In Address Book&rdquo;</strong> có nghĩa là router không có địa chỉ mật mã của miền .i2p. I2P sử dụng sổ địa chỉ cục bộ thay vì DNS tập trung. Giải pháp:</p>
<p><strong>Phương pháp 1: Sử dụng jump services (dịch vụ &ldquo;jump&rdquo; giúp truy cập các trang mới chưa có trong sổ địa chỉ)</strong> (dễ nhất cho các trang mới):</p>
<p>Truy cập <a href="http://stats.i">http://stats.i</a>
2p và tìm kiếm trang web. Nhấp vào liên kết addresshelper: <code>http://example.i2p/?i2paddresshelper=base64destination</code>. Trình duyệt của bạn sẽ hiển thị &ldquo;Lưu vào sổ địa chỉ?&rdquo; - xác nhận để thêm.</p>
<p><strong>Phương pháp 2: Cập nhật các đăng ký sổ địa chỉ:</strong></p>
<ol>
<li>Truy cập http://127.0.0.1:7657/dns (SusiDNS)</li>
<li>Nhấp vào thẻ &ldquo;Subscriptions&rdquo;</li>
<li>Kiểm tra các đăng ký đang hoạt động (mặc định: <a href="http://i2p-projekt.i">http://i2p-projekt.i</a>
2p/hosts.txt)</li>
<li>Thêm các đăng ký được khuyến nghị:
<ul>
<li><a href="http://stats.i">http://stats.i</a>
2p/cgi-bin/newhosts.txt</li>
<li><a href="http://notbob.i">http://notbob.i</a>
2p/hosts.txt</li>
<li><a href="http://reg.i">http://reg.i</a>
2p/export/hosts.txt</li>
</ul>
</li>
<li>Nhấp &ldquo;Update Now&rdquo; để buộc cập nhật đăng ký ngay lập tức</li>
<li>Chờ 5-10 phút để xử lý</li>
</ol>
<p><strong>Cách 3: Sử dụng địa chỉ base32</strong> (luôn hoạt động nếu trang web đang trực tuyến):</p>
<p>Mỗi site .i2p đều có một địa chỉ Base32: 52 ký tự ngẫu nhiên theo sau là .b32.i2p (ví dụ, <code>ukeu3k5oycgaauneqgtnvselmt4yemvoilkln7jpvamvfx7dnkdq.b32.i2p</code>). Các địa chỉ Base32 bỏ qua sổ địa chỉ (addressbook) - router thực hiện tra cứu mật mã trực tiếp.</p>
<p><strong>Các lỗi cấu hình trình duyệt thường gặp:</strong></p>
<ul>
<li>Cố dùng HTTPS với các trang chỉ hỗ trợ HTTP: Hầu hết các trang .i2p chỉ dùng HTTP - thử <code>https://example.i2p</code> sẽ thất bại</li>
<li>Quên tiền tố <code>http://</code>: Trình duyệt có thể tìm kiếm thay vì kết nối - luôn dùng <code>http://example.i2p</code></li>
<li>WebRTC được bật: Có thể làm lộ địa chỉ IP thật - tắt qua cài đặt Firefox hoặc tiện ích mở rộng</li>
<li>DNS không qua proxy: DNS clearnet (internet công khai) không thể phân giải .i2p - phải đưa các truy vấn DNS qua proxy</li>
<li>Sai cổng proxy: 4444 dành cho HTTP (không phải 4445, đây là HTTPS outproxy (proxy đi ra) tới clearnet)</li>
</ul>
<p><strong>Router chưa được tích hợp đầy đủ</strong> khiến không thể truy cập bất kỳ trang web nào. Hãy kiểm tra mức độ tích hợp đã đủ:</p>
<ol>
<li>Kiểm tra http://127.0.0.1:7657 hiển thị &ldquo;Network: OK&rdquo; hoặc &ldquo;Network: Firewalled&rdquo; (không phải &ldquo;Network: Testing&rdquo;)</li>
<li>Mục Active peers hiển thị tối thiểu 10+ (50+ là tối ưu)</li>
<li>Không có thông báo &ldquo;Rejecting tunnels: starting up&rdquo;</li>
<li>Chờ đủ 10-15 phút sau khi router khởi động trước khi mong đợi truy cập .i2p</li>
</ol>
<p><strong>Cấu hình IRC và trình khách email</strong> tuân theo các mẫu proxy tương tự:</p>
<p><strong>IRC:</strong> Các trình khách kết nối tới <strong>127.0.0.1:6668</strong> (tunnel proxy IRC của I2P). Tắt cài đặt proxy của trình khách IRC - kết nối tới localhost:6668 đã được proxy qua I2P.</p>
<p><strong>Email (Postman):</strong>  - SMTP: <strong>127.0.0.1:7659</strong> - POP3: <strong>127.0.0.1:7660</strong>   - Không dùng SSL/TLS (mã hóa được xử lý bởi I2P tunnel) - Thông tin đăng nhập từ đăng ký tài khoản trên postman.i2p</p>
<p>Tất cả các tunnels này phải hiển thị trạng thái &ldquo;running&rdquo; (màu xanh lá) tại http://127.0.0.1:7657/i2ptunnel.</p>
<h2 id="lỗi-cài-đặt-và-sự-cố-gói-phần-mềm">Lỗi cài đặt và sự cố gói phần mềm</h2>
<p>Các cài đặt dựa trên gói (Debian, Ubuntu, Arch) đôi khi bị lỗi do <strong>thay đổi kho lưu trữ</strong>, <strong>khóa GPG hết hạn</strong>, hoặc <strong>xung đột phụ thuộc</strong>. Các kho chính thức đã chuyển từ deb.i2p2.de/deb.i2p2.no (đã ngừng hỗ trợ) sang <strong>deb.i2p.net</strong> trong các phiên bản gần đây.</p>
<p><strong>Cập nhật kho phần mềm Debian/Ubuntu lên phiên bản hiện tại:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Remove old repository entries</span>
</span></span><span style="display:flex;"><span>sudo rm /etc/apt/sources.list.d/i2p.list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add current repository</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;deb [signed-by=/usr/share/keyrings/i2p-archive-keyring.gpg] https://deb.i2p.net/ </span><span style="color:#66d9ef">$(</span>lsb_release -sc<span style="color:#66d9ef">)</span><span style="color:#e6db74"> main&#34;</span> | sudo tee /etc/apt/sources.list.d/i2p.list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Download and install current signing key</span>
</span></span><span style="display:flex;"><span>curl -o i2p-archive-keyring.gpg https://geti2p.net/_static/i2p-archive-keyring.gpg
</span></span><span style="display:flex;"><span>sudo cp i2p-archive-keyring.gpg /usr/share/keyrings/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Update and install</span>
</span></span><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt install i2p i2p-keyring
</span></span></code></pre></div><p><strong>Các lỗi xác minh chữ ký GPG</strong> xảy ra khi các khóa của kho lưu trữ hết hạn hoặc thay đổi:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Error: &#34;The following signatures were invalid&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution: Install current keyring package</span>
</span></span><span style="display:flex;"><span>sudo apt install i2p-keyring
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Manual key import if package unavailable</span>
</span></span><span style="display:flex;"><span>wget https://geti2p.net/_static/i2p-debian-repo.key.asc
</span></span><span style="display:flex;"><span>sudo apt-key add i2p-debian-repo.key.asc
</span></span></code></pre></div><p><strong>Dịch vụ không khởi động sau khi cài đặt gói</strong> thường là do các sự cố với AppArmor profile trên Debian/Ubuntu:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Check service status</span>
</span></span><span style="display:flex;"><span>sudo systemctl status i2p.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Common error: &#34;Failed at step APPARMOR spawning&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution: Reconfigure without AppArmor</span>
</span></span><span style="display:flex;"><span>sudo dpkg-reconfigure -plow i2p
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Select &#34;No&#34; for AppArmor when prompted</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Alternative: Set profile to complain mode</span>
</span></span><span style="display:flex;"><span>sudo aa-complain /usr/sbin/wrapper
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check logs for specific errors  </span>
</span></span><span style="display:flex;"><span>sudo journalctl -xe -u i2p.service
</span></span></code></pre></div><p><strong>Vấn đề quyền truy cập</strong> trên I2P được cài đặt từ gói:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Fix ownership (package install uses &#39;i2psvc&#39; user)</span>
</span></span><span style="display:flex;"><span>sudo chown -R i2psvc:i2psvc /var/lib/i2p /var/log/i2p /run/i2p
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">750</span> /var/log/i2p /var/lib/i2p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set file descriptor limits (add to /etc/security/limits.conf)</span>
</span></span><span style="display:flex;"><span>i2psvc soft nofile <span style="color:#ae81ff">4096</span>  
</span></span><span style="display:flex;"><span>i2psvc hard nofile <span style="color:#ae81ff">8192</span>
</span></span></code></pre></div><p><strong>Các vấn đề về khả năng tương thích Java:</strong></p>
<p>I2P 2.10.0 yêu cầu <strong>tối thiểu Java 8</strong>. Các hệ thống cũ hơn có thể có Java 7 hoặc cũ hơn:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Check Java version</span>
</span></span><span style="display:flex;"><span>java -version
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Install appropriate Java (Debian/Ubuntu)</span>
</span></span><span style="display:flex;"><span>sudo apt install openjdk-11-jre-headless
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set default Java if multiple versions installed</span>
</span></span><span style="display:flex;"><span>sudo update-alternatives --config java
</span></span></code></pre></div><p><strong>Lỗi cấu hình Wrapper</strong> ngăn dịch vụ khởi động:</p>
<p>Vị trí của Wrapper.config thay đổi tùy theo phương pháp cài đặt: - Cài đặt người dùng: <code>~/.i2p/wrapper.config</code> - Cài đặt từ gói: <code>/etc/i2p/wrapper.config</code> hoặc <code>/var/lib/i2p/wrapper.config</code></p>
<p>Các vấn đề thường gặp với wrapper.config:</p>
<ul>
<li>Đường dẫn sai: <code>wrapper.java.command</code> phải trỏ tới cài đặt Java hợp lệ</li>
<li>Không đủ bộ nhớ: <code>wrapper.java.maxmemory</code> được đặt quá thấp (tăng lên 512+)</li>
<li>Sai vị trí pidfile: <code>wrapper.pidfile</code> phải là một vị trí có thể ghi</li>
<li>Thiếu tệp nhị phân của wrapper (trình bao): Một số nền tảng không có wrapper được biên dịch sẵn (sử dụng runplain.sh như phương án dự phòng)</li>
</ul>
<p><strong>Các lỗi cập nhật và các bản cập nhật bị hỏng:</strong></p>
<p>Các bản cập nhật Router console đôi khi thất bại giữa quá trình tải xuống do gián đoạn mạng. Quy trình cập nhật thủ công:</p>
<ol>
<li>Tải xuống i2pupdate_X.X.X.zip từ <a href="https://geti2p.net/en/download">https://geti2p.net/en/download</a>
</li>
<li>Xác minh checksum (tổng kiểm tra) SHA256 khớp với hash (giá trị băm) đã công bố</li>
<li>Sao chép vào thư mục cài đặt I2P với tên <code>i2pupdate.zip</code></li>
<li>Khởi động lại router - tự động phát hiện và giải nén bản cập nhật</li>
<li>Chờ 5-10 phút để cài đặt bản cập nhật</li>
<li>Kiểm tra phiên bản mới tại http://127.0.0.1:7657</li>
</ol>
<p><strong>Nâng cấp từ các phiên bản rất cũ</strong> (trước 0.9.47) lên các phiên bản hiện tại có thể thất bại do khóa ký không tương thích hoặc do các tính năng đã bị loại bỏ. Cần cập nhật theo từng bước:</p>
<ul>
<li>Các phiên bản cũ hơn 0.9.9: Không thể xác minh chữ ký số hiện tại - cần cập nhật thủ công</li>
<li>Các phiên bản chạy trên Java 6/7: Phải nâng cấp Java trước khi cập nhật I2P lên 2.x</li>
<li>Chênh lệch lớn giữa các phiên bản chính: Hãy cập nhật lên phiên bản trung gian trước (0.9.47 là mốc khuyến nghị)</li>
</ul>
<p><strong>Khi nào nên dùng trình cài đặt và khi nào nên dùng gói:</strong></p>
<ul>
<li><strong>Gói (apt/yum):</strong> Phù hợp nhất cho máy chủ, cập nhật bảo mật tự động, tích hợp hệ thống, quản lý bằng systemd</li>
<li><strong>Trình cài đặt (.jar):</strong> Phù hợp nhất cho cài đặt cấp người dùng, Windows, macOS, cài đặt tùy chỉnh, có sẵn phiên bản mới nhất</li>
</ul>
<h2 id="hỏng-tệp-cấu-hình-và-khôi-phục">Hỏng tệp cấu hình và khôi phục</h2>
<p>Việc lưu trạng thái cấu hình của I2P dựa vào một số tệp quan trọng. Hỏng tệp thường xuất phát từ <strong>tắt không đúng cách</strong>, <strong>lỗi đĩa</strong>, hoặc <strong>sai sót khi chỉnh sửa thủ công</strong>. Hiểu rõ mục đích của từng tệp cho phép tiến hành sửa chữa chính xác thay vì phải cài đặt lại toàn bộ.</p>
<p><strong>Các tệp quan trọng và mục đích của chúng:</strong></p>
<ul>
<li><strong>router.keys</strong> (516+ bytes): Danh tính mật mã của router - mất sẽ tạo danh tính mới</li>
<li><strong>router.info</strong> (tự động tạo): Thông tin router được công bố - có thể xóa an toàn, sẽ được tạo lại</li>
<li><strong>router.config</strong> (văn bản): Cấu hình chính - băng thông, cài đặt mạng, tùy chọn</li>
<li><strong>i2ptunnel.config</strong> (văn bản): Định nghĩa tunnel - các tunnel máy khách/máy chủ, khóa, đích</li>
<li><strong>netDb/</strong> (thư mục): Cơ sở dữ liệu đồng đẳng - thông tin router cho các nút tham gia mạng</li>
<li><strong>peerProfiles/</strong> (thư mục): Thống kê hiệu năng về các nút đồng đẳng - ảnh hưởng đến việc chọn tunnel</li>
<li><strong>keyData/</strong> (thư mục): Khóa đích cho eepsites và dịch vụ - mất sẽ làm thay đổi địa chỉ</li>
<li><strong>addressbook/</strong> (thư mục): Ánh xạ tên máy chủ .i2p cục bộ</li>
</ul>
<p><strong>Quy trình sao lưu hoàn chỉnh</strong> trước khi thực hiện các thay đổi:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Stop I2P first</span>
</span></span><span style="display:flex;"><span>i2prouter stop  <span style="color:#75715e"># or: systemctl stop i2p</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Backup directory</span>
</span></span><span style="display:flex;"><span>BACKUP_DIR<span style="color:#f92672">=</span>~/i2p-backup-<span style="color:#66d9ef">$(</span>date +%Y%m%d-%H%M<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>mkdir -p $BACKUP_DIR
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Copy critical files</span>
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/router.keys $BACKUP_DIR/
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/*.config $BACKUP_DIR/
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/keyData $BACKUP_DIR/
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/addressbook $BACKUP_DIR/
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/eepsite $BACKUP_DIR/  <span style="color:#75715e"># if hosting sites</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Optional but recommended</span>
</span></span><span style="display:flex;"><span>tar -czf $BACKUP_DIR.tar.gz $BACKUP_DIR
</span></span></code></pre></div><p><strong>Các dấu hiệu tập tin Router.config bị hỏng:</strong></p>
<ul>
<li>Router không khởi động với các lỗi phân tích cú pháp trong nhật ký</li>
<li>Cài đặt không được giữ nguyên sau khi khởi động lại</li>
<li>Xuất hiện các giá trị mặc định bất ngờ</li>
<li>Ký tự hiển thị bị lỗi khi xem tệp</li>
</ul>
<p><strong>Sửa router.config bị hỏng:</strong></p>
<ol>
<li>Sao lưu tệp hiện có: <code>cp router.config router.config.broken</code></li>
<li>Kiểm tra mã hóa tệp: Phải là UTF-8 không có BOM</li>
<li>Xác minh cú pháp: Khóa dùng dấu phân tách <code>=</code> (không phải <code>:</code>), không có khoảng trắng ở cuối tên khóa, <code>#</code> chỉ dùng cho chú thích</li>
<li>Các lỗi hỏng phổ biến: Ký tự không phải ASCII trong giá trị, vấn đề ký tự kết thúc dòng (CRLF vs LF)</li>
<li>Nếu không thể sửa: Xóa router.config - router sẽ tạo cấu hình mặc định, giữ nguyên danh tính</li>
</ol>
<p><strong>Các cài đặt router.config thiết yếu cần giữ nguyên:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">i2np.bandwidth.inboundKBytesPerSecond</span><span style="color:#f92672">=</span><span style="color:#e6db74">512</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.bandwidth.outboundKBytesPerSecond</span><span style="color:#f92672">=</span><span style="color:#e6db74">256</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.updatePolicy</span><span style="color:#f92672">=</span><span style="color:#e6db74">notify</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">routerconsole.lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">en</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.hiddenMode</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span></code></pre></div><p><strong>Mất hoặc tệp router.keys không hợp lệ</strong> sẽ tạo ra một danh tính router mới. Điều này được chấp nhận, trừ khi:</p>
<ul>
<li>Vận hành floodfill (mất trạng thái floodfill)</li>
<li>Lưu trữ eepsites với địa chỉ đã công khai (mất tính liên tục)</li>
<li>Danh tiếng đã được xây dựng trong mạng</li>
</ul>
<p>Không thể khôi phục nếu không có bản sao lưu - hãy tạo mới: delete router.keys, restart I2P, danh tính mới sẽ được tạo.</p>
<p><strong>Phân biệt quan trọng:</strong> router.keys (danh tính) so với keyData/* (dịch vụ). Mất router.keys sẽ làm thay đổi danh tính của router. Mất keyData/mysite-keys.dat sẽ làm thay đổi địa chỉ .i2p của eepsite (trang web trên I2P) của bạn - thảm họa nếu địa chỉ đã được công bố.</p>
<p><strong>Sao lưu riêng các khóa eepsite/dịch vụ:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Identify your service keys</span>
</span></span><span style="display:flex;"><span>ls -la ~/.i2p/keyData/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Backup with descriptive names  </span>
</span></span><span style="display:flex;"><span>cp ~/.i2p/keyData/myservice-keys.dat ~/backups/myservice-keys-<span style="color:#66d9ef">$(</span>date +%Y%m%d<span style="color:#66d9ef">)</span>.dat
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Store securely (encrypted if sensitive)</span>
</span></span><span style="display:flex;"><span>gpg -c ~/backups/myservice-keys-*.dat
</span></span></code></pre></div><p><strong>Hỏng dữ liệu NetDb và peerProfiles:</strong></p>
<p>Triệu chứng: Không có peer (nút ngang hàng) nào đang hoạt động, không thể thiết lập tunnels, xuất hiện &ldquo;Phát hiện hỏng cơ sở dữ liệu&rdquo; trong nhật ký</p>
<p>Cách khắc phục an toàn (tất cả sẽ reseed (nạp lại seed ban đầu)/xây dựng lại tự động):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>i2prouter stop
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/netDb/*
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/peerProfiles/*
</span></span><span style="display:flex;"><span>i2prouter start
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Wait 10-15 minutes for reseed and integration</span>
</span></span></code></pre></div><p>Các thư mục này chỉ chứa thông tin mạng được lưu đệm — xóa chúng sẽ buộc thực hiện bootstrap (khởi tạo ban đầu) mới, nhưng không làm mất dữ liệu quan trọng nào.</p>
<p><strong>Chiến lược phòng ngừa:</strong></p>
<ol>
<li><strong>Luôn tắt đúng cách:</strong> Dùng <code>i2prouter stop</code> hoặc nút &ldquo;Shutdown&rdquo; trên bảng điều khiển của router - không bao giờ kill cưỡng bức</li>
<li><strong>Sao lưu tự động:</strong> Thiết lập tác vụ cron sao lưu hàng tuần ~/.i2p sang đĩa riêng biệt</li>
<li><strong>Giám sát tình trạng đĩa:</strong> Kiểm tra trạng thái SMART định kỳ - đĩa lỗi làm hỏng dữ liệu</li>
<li><strong>Đủ dung lượng đĩa:</strong> Duy trì từ 1 GB trống trở lên - đĩa đầy gây hỏng dữ liệu</li>
<li><strong>Khuyến nghị dùng UPS (bộ lưu điện):</strong> Mất điện trong khi ghi sẽ làm hỏng tệp</li>
<li><strong>Kiểm soát phiên bản các cấu hình quan trọng:</strong> Dùng kho Git cho router.config, i2ptunnel.config để có thể quay lui</li>
</ol>
<p><strong>Quyền truy cập tệp rất quan trọng:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Correct permissions (user install)</span>
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> ~/.i2p/router.keys
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> ~/.i2p/*.config  
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">700</span> ~/.i2p/keyData
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">755</span> ~/.i2p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Never run as root - creates permission problems</span>
</span></span></code></pre></div><h2 id="giải-mã-các-thông-báo-lỗi-thường-gặp">Giải mã các thông báo lỗi thường gặp</h2>
<p>Ghi log của I2P cung cấp các thông báo lỗi cụ thể để chỉ ra chính xác vấn đề. Việc hiểu các thông báo này giúp đẩy nhanh quá trình khắc phục sự cố.</p>
<p><strong>&ldquo;No tunnels available&rdquo;</strong> xuất hiện khi router chưa xây dựng đủ tunnel để hoạt động. Điều này là <strong>bình thường trong 5-10 phút đầu tiên</strong> sau khi khởi động. Nếu tình trạng này kéo dài quá 15 phút:</p>
<ol>
<li>Xác minh Active Peers &gt; 10 tại http://127.0.0.1:7657</li>
<li>Kiểm tra phân bổ băng thông có đủ (tối thiểu 128+ KB/giây)</li>
<li>Xem xét tỷ lệ thành công của tunnel tại http://127.0.0.1:7657/tunnels (nên &gt;40%)</li>
<li>Xem lại nhật ký để tìm các lý do bị từ chối xây dựng tunnel</li>
</ol>
<p><strong>&ldquo;Clock skew detected&rdquo;</strong> hoặc <strong>&ldquo;NTCP2 disconnect code 7&rdquo;</strong> cho biết thời gian hệ thống lệch so với đồng thuận của mạng hơn 90 giây. I2P yêu cầu <strong>độ chính xác ±60 giây</strong>. Các kết nối với các router có thời gian lệch sẽ tự động bị từ chối.</p>
<p>Khắc phục ngay:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Linux  </span>
</span></span><span style="display:flex;"><span>sudo timedatectl set-ntp true
</span></span><span style="display:flex;"><span>sudo systemctl restart systemd-timesyncd
</span></span><span style="display:flex;"><span>date  <span style="color:#75715e"># Verify correct time</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Windows</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Control Panel → Date and Time → Internet Time → Update now</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verify after sync</span>
</span></span><span style="display:flex;"><span>http://127.0.0.1:7657/logs  <span style="color:#75715e"># Should no longer show clock skew warnings</span>
</span></span></code></pre></div><p><strong>&ldquo;Build timeout&rdquo;</strong> hoặc <strong>&ldquo;Tunnel build timeout exceeded&rdquo;</strong> có nghĩa là việc xây dựng tunnel thông qua chuỗi peer (chuỗi nút ngang hàng) không hoàn tất trong cửa sổ thời gian chờ (thường là 60 giây). Nguyên nhân:</p>
<ul>
<li><strong>Các nút chậm:</strong> Router đã chọn các nút tham gia không phản hồi cho tunnel</li>
<li><strong>Tắc nghẽn mạng:</strong> Mạng I2P đang chịu tải cao</li>
<li><strong>Băng thông không đủ:</strong> Giới hạn băng thông của bạn ngăn cản việc xây dựng tunnel kịp thời</li>
<li><strong>Router quá tải:</strong> Có quá nhiều tunnels tham gia đang tiêu tốn tài nguyên</li>
</ul>
<p>Giải pháp: Tăng băng thông, giảm số lượng tunnels tham gia (<code>router.maxParticipatingTunnels</code> tại http://127.0.0.1:7657/configadvanced), bật chuyển tiếp cổng (port forwarding) để chọn nút ngang hàng tốt hơn.</p>
<p><strong>&ldquo;Router is shutting down&rdquo;</strong> hoặc <strong>&ldquo;Graceful shutdown in progress&rdquo;</strong> xuất hiện trong quá trình tắt bình thường hoặc khi khôi phục sau sự cố. Việc tắt an toàn có thể mất <strong>tối đa 10 phút</strong> khi router đóng các tunnel, thông báo cho các nút ngang hàng và ghi lưu trạng thái.</p>
<p>Nếu bị kẹt trong trạng thái tắt quá 11 phút, hãy buộc kết thúc:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Linux  </span>
</span></span><span style="display:flex;"><span>kill -9 <span style="color:#66d9ef">$(</span>pgrep -f i2p<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Windows</span>
</span></span><span style="display:flex;"><span>taskkill /F /IM javaw.exe
</span></span></code></pre></div><p><strong>&ldquo;java.lang.OutOfMemoryError: Java heap space&rdquo;</strong> báo hiệu tình trạng cạn kiệt heap (vùng nhớ cấp phát động). Giải pháp tức thời:</p>
<ol>
<li>Chỉnh sửa wrapper.config: <code>wrapper.java.maxmemory=512</code> (hoặc cao hơn)</li>
<li><strong>Yêu cầu tắt hoàn toàn</strong> - việc khởi động lại sẽ không áp dụng thay đổi</li>
<li>Chờ 11 phút để tắt hoàn toàn</li>
<li>Khởi động router mới hoàn toàn</li>
<li>Xác minh phân bổ bộ nhớ tại http://127.0.0.1:7657/graphs - nên hiển thị headroom (khoảng trống)</li>
</ol>
<p><strong>Các lỗi liên quan đến bộ nhớ:</strong></p>
<ul>
<li><strong>&ldquo;GC overhead limit exceeded&rdquo;:</strong> Tốn quá nhiều thời gian cho thu gom rác (garbage collection) - tăng dung lượng heap</li>
<li><strong>&ldquo;Metaspace&rdquo;:</strong> Hết dung lượng không gian metadata của lớp Java - thêm <code>wrapper.java.additional.X=-XX:MaxMetaspaceSize=256M</code></li>
</ul>
<p><strong>Dành riêng cho Windows:</strong> Kaspersky Antivirus giới hạn heap Java ở 512MB bất chấp các thiết lập trong wrapper.config - hãy gỡ cài đặt hoặc thêm I2P vào danh sách loại trừ.</p>
<p><strong>&ldquo;Hết thời gian kết nối&rdquo;</strong> hoặc <strong>&ldquo;I2CP Error - port 7654&rdquo;</strong> khi các ứng dụng cố gắng kết nối tới router:</p>
<ol>
<li>Xác minh router đang chạy: http://127.0.0.1:7657 nên phản hồi</li>
<li>Kiểm tra cổng I2CP: <code>netstat -an | grep 7654</code> nên hiển thị LISTENING</li>
<li>Đảm bảo tường lửa trên localhost cho phép: <code>sudo ufw allow from 127.0.0.1</code></li>
<li>Xác minh ứng dụng đang sử dụng đúng cổng (I2CP=7654, SAM=7656)</li>
</ol>
<p><strong>&ldquo;Certificate validation failed&rdquo;</strong> hoặc <strong>&ldquo;RouterInfo corrupt&rdquo;</strong> trong quá trình reseed (khởi tạo netDb ban đầu):</p>
<p>Nguyên nhân gốc: Lệch đồng hồ (khắc phục trước), netDb bị hỏng, chứng chỉ reseed (khởi tạo ban đầu) không hợp lệ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># After fixing clock:</span>
</span></span><span style="display:flex;"><span>i2prouter stop
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/netDb/*  <span style="color:#75715e"># Delete corrupted database</span>
</span></span><span style="display:flex;"><span>i2prouter start  <span style="color:#75715e"># Auto-reseeds with fresh data</span>
</span></span></code></pre></div><p><strong>&ldquo;Phát hiện hỏng cơ sở dữ liệu&rdquo;</strong> cho biết có hỏng dữ liệu ở mức đĩa trong netDb hoặc peerProfiles:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Safe fix - all will rebuild</span>
</span></span><span style="display:flex;"><span>i2prouter stop  
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/netDb/* ~/.i2p/peerProfiles/*
</span></span><span style="display:flex;"><span>i2prouter start
</span></span></code></pre></div><p>Kiểm tra sức khỏe ổ đĩa bằng các công cụ SMART (công nghệ tự giám sát, phân tích và báo cáo) - tình trạng hỏng dữ liệu tái diễn cho thấy bộ lưu trữ đang sắp hỏng.</p>
<h2 id="thách-thức-đặc-thù-theo-nền-tảng">Thách thức đặc thù theo nền tảng</h2>
<p>Các hệ điều hành khác nhau đặt ra những thách thức triển khai I2P mang tính đặc thù, liên quan đến quyền truy cập, chính sách bảo mật và tích hợp hệ thống.</p>
<h3 id="các-vấn-đề-về-quyền-và-dịch-vụ-trên-linux">Các vấn đề về quyền và dịch vụ trên Linux</h3>
<p>I2P được cài đặt từ gói chạy dưới tài khoản hệ thống <strong>i2psvc</strong> (Debian/Ubuntu) hoặc <strong>i2p</strong> (các bản phân phối khác), và cần các quyền cụ thể:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Fix package install permissions  </span>
</span></span><span style="display:flex;"><span>sudo chown -R i2psvc:i2psvc /var/lib/i2p /var/log/i2p /run/i2p
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">750</span> /var/log/i2p /var/lib/i2p
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">644</span> /var/lib/i2p/*.config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># User install permissions (should be your user)</span>
</span></span><span style="display:flex;"><span>chown -R $USER:$USER ~/.i2p
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">700</span> ~/.i2p
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> ~/.i2p/router.keys ~/.i2p/*.config
</span></span></code></pre></div><p><strong>Giới hạn mô tả tệp (file descriptor)</strong> ảnh hưởng đến khả năng xử lý kết nối của router. Giới hạn mặc định (1024) không đủ cho các router băng thông cao:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Check current limits</span>
</span></span><span style="display:flex;"><span>ulimit -n
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Temporary increase  </span>
</span></span><span style="display:flex;"><span>ulimit -n <span style="color:#ae81ff">4096</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Permanent fix: Edit /etc/security/limits.conf</span>
</span></span><span style="display:flex;"><span>i2psvc soft nofile <span style="color:#ae81ff">4096</span>
</span></span><span style="display:flex;"><span>i2psvc hard nofile <span style="color:#ae81ff">8192</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Systemd override</span>
</span></span><span style="display:flex;"><span>sudo mkdir -p /etc/systemd/system/i2p.service.d/
</span></span><span style="display:flex;"><span>sudo nano /etc/systemd/system/i2p.service.d/override.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add:</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>LimitNOFILE<span style="color:#f92672">=</span><span style="color:#ae81ff">8192</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo systemctl daemon-reload
</span></span><span style="display:flex;"><span>sudo systemctl restart i2p
</span></span></code></pre></div><p><strong>Xung đột AppArmor</strong> thường gặp trên Debian/Ubuntu ngăn chặn việc khởi động dịch vụ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Error: &#34;Failed at step APPARMOR spawning /usr/sbin/wrapper&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Cause: AppArmor profile missing or misconfigured</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution 1: Disable AppArmor for I2P</span>
</span></span><span style="display:flex;"><span>sudo aa-complain /usr/sbin/wrapper
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution 2: Reconfigure package without AppArmor</span>
</span></span><span style="display:flex;"><span>sudo dpkg-reconfigure -plow i2p  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Select &#34;No&#34; when asked about AppArmor</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution 3: LXC/Proxmox containers - disable AppArmor in container config</span>
</span></span><span style="display:flex;"><span>lxc.apparmor.profile: unconfined
</span></span></code></pre></div><p><strong>Các vấn đề về SELinux</strong> trên RHEL/CentOS/Fedora:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Temporary: Set permissive mode</span>
</span></span><span style="display:flex;"><span>sudo setenforce <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Permanent: Generate custom policy</span>
</span></span><span style="display:flex;"><span>sudo ausearch -c <span style="color:#e6db74">&#39;java&#39;</span> --raw | audit2allow -M i2p_policy
</span></span><span style="display:flex;"><span>sudo semodule -i i2p_policy.pp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Or disable SELinux for I2P process (less secure)</span>
</span></span><span style="display:flex;"><span>sudo semanage permissive -a i2p_t
</span></span></code></pre></div><p><strong>Khắc phục sự cố dịch vụ SystemD:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Detailed service status</span>
</span></span><span style="display:flex;"><span>sudo systemctl status i2p.service -l
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Full logs  </span>
</span></span><span style="display:flex;"><span>sudo journalctl -xe -u i2p.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Follow logs live</span>
</span></span><span style="display:flex;"><span>sudo journalctl -f -u i2p.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Restart with logging</span>
</span></span><span style="display:flex;"><span>sudo systemctl restart i2p.service <span style="color:#f92672">&amp;&amp;</span> sudo journalctl -f -u i2p.service
</span></span></code></pre></div><h3 id="sự-can-thiệp-từ-tường-lửa-và-phần-mềm-diệt-virus-trên-windows">Sự can thiệp từ Tường lửa và phần mềm diệt virus trên Windows</h3>
<p>Windows Defender và các sản phẩm chống virus của bên thứ ba thường xuyên đánh dấu I2P do các mẫu hành vi mạng. Cấu hình đúng cách giúp ngăn tình trạng chặn không cần thiết đồng thời vẫn duy trì bảo mật.</p>
<p><strong>Cấu hình Tường lửa Windows Defender:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#75715e"># Run PowerShell as Administrator</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Find Java path (adjust for your Java installation)</span>
</span></span><span style="display:flex;"><span>$javaPath = <span style="color:#e6db74">&#34;C:\Program Files\Eclipse Adoptium\jdk-11.0.16.101-hotspot\bin\javaw.exe&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create inbound rules</span>
</span></span><span style="display:flex;"><span>New-NetFirewallRule -DisplayName <span style="color:#e6db74">&#34;I2P Java&#34;</span> -Direction Inbound -Program $javaPath -Action Allow
</span></span><span style="display:flex;"><span>New-NetFirewallRule -DisplayName <span style="color:#e6db74">&#34;I2P UDP&#34;</span> -Direction Inbound -Protocol UDP -LocalPort <span style="color:#ae81ff">22648</span> -Action Allow  
</span></span><span style="display:flex;"><span>New-NetFirewallRule -DisplayName <span style="color:#e6db74">&#34;I2P TCP&#34;</span> -Direction Inbound -Protocol TCP -LocalPort <span style="color:#ae81ff">22648</span> -Action Allow
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add exclusions to Windows Defender</span>
</span></span><span style="display:flex;"><span>Add-MpPreference -ExclusionPath <span style="color:#e6db74">&#34;C:\Program Files\i2p&#34;</span>
</span></span><span style="display:flex;"><span>Add-MpPreference -ExclusionPath <span style="color:#e6db74">&#34;</span>$env:APPDATA<span style="color:#e6db74">\I2P&#34;</span>
</span></span><span style="display:flex;"><span>Add-MpPreference -ExclusionPath <span style="color:#e6db74">&#34;</span>$env:LOCALAPPDATA<span style="color:#e6db74">\I2P&#34;</span>
</span></span><span style="display:flex;"><span>Add-MpPreference -ExclusionProcess <span style="color:#e6db74">&#34;javaw.exe&#34;</span>
</span></span></code></pre></div><p>Hãy thay cổng 22648 bằng cổng I2P thực tế của bạn từ http://127.0.0.1:7657/confignet.</p>
<p><strong>Sự cố cụ thể với Kaspersky Antivirus:</strong> &ldquo;Application Control&rdquo; của Kaspersky giới hạn heap Java ở mức 512MB, bất kể các thiết lập trong wrapper.config. Điều này gây ra OutOfMemoryError (lỗi hết bộ nhớ) trên các routers băng thông cao.</p>
<p>Giải pháp: 1. Thêm I2P vào danh sách ngoại lệ của Kaspersky: Settings → Additional → Threats and Exclusions → Manage Exclusions 2. Hoặc gỡ cài đặt Kaspersky (được khuyến nghị cho việc vận hành I2P)</p>
<p><strong>Hướng dẫn chung về phần mềm diệt virus của bên thứ ba:</strong></p>
<ul>
<li>Thêm thư mục cài đặt I2P vào danh sách loại trừ</li>
<li>Thêm %APPDATA%\I2P và %LOCALAPPDATA%\I2P vào danh sách loại trừ</li>
<li>Loại trừ javaw.exe khỏi phân tích hành vi</li>
<li>Tắt các tính năng &ldquo;Network Attack Protection&rdquo; có thể can thiệp vào các giao thức I2P</li>
</ul>
<h3 id="macos-gatekeeper-tính-năng-bảo-vệ-của-macos-chặn-cài-đặt">macOS Gatekeeper (tính năng bảo vệ của macOS) chặn cài đặt</h3>
<p>macOS Gatekeeper (cơ chế kiểm soát bảo mật của macOS) ngăn các ứng dụng chưa được ký chạy. Các trình cài đặt I2P không được ký bằng Apple Developer ID (chứng danh nhà phát triển của Apple), gây ra cảnh báo bảo mật.</p>
<p><strong>Bỏ qua Gatekeeper (hệ thống bảo vệ ứng dụng của macOS) cho trình cài đặt I2P:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Method 1: Remove quarantine attribute</span>
</span></span><span style="display:flex;"><span>xattr -d com.apple.quarantine ~/Downloads/i2pinstall_*.jar
</span></span><span style="display:flex;"><span>java -jar ~/Downloads/i2pinstall_*.jar
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Method 2: Use System Settings (macOS 13+)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Try to open installer → macOS blocks it</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># System Settings → Privacy &amp; Security → scroll down</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Click &#34;Open Anyway&#34; next to I2P warning</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Confirm in dialog</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Method 3: Control-click installer</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Control-click (right-click) i2pinstall_*.jar</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Select &#34;Open&#34; from menu → &#34;Open&#34; again in dialog</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Bypasses Gatekeeper for this specific file</span>
</span></span></code></pre></div><p><strong>Việc chạy sau khi cài đặt</strong> vẫn có thể kích hoạt cảnh báo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># If I2P won&#39;t start due to Gatekeeper:</span>
</span></span><span style="display:flex;"><span>xattr -dr com.apple.quarantine ~/i2p/
</span></span></code></pre></div><p><strong>Không bao giờ vô hiệu hóa Gatekeeper (cơ chế bảo vệ của macOS) vĩnh viễn</strong> - gây rủi ro bảo mật cho các ứng dụng khác. Chỉ sử dụng cách bỏ qua theo từng tệp.</p>
<p><strong>Cấu hình tường lửa trên macOS:</strong></p>
<ol>
<li>Tùy chọn hệ thống → Bảo mật &amp; Quyền riêng tư → Tường lửa → Tùy chọn Tường lửa</li>
<li>Nhấp &ldquo;+&rdquo; để thêm ứng dụng</li>
<li>Đi tới vị trí cài đặt Java (ví dụ, <code>/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home/bin/java</code>)</li>
<li>Thêm và đặt thành &ldquo;Allow incoming connections&rdquo;</li>
</ol>
<h3 id="các-sự-cố-của-ứng-dụng-i2p-trên-android">Các sự cố của ứng dụng I2P trên Android</h3>
<p>Các ràng buộc về phiên bản Android và những hạn chế về tài nguyên tạo ra những thách thức riêng biệt.</p>
<p><strong>Yêu cầu tối thiểu:</strong> - Yêu cầu Android 5.0+ (API level 21+) cho các phiên bản hiện tại - Tối thiểu 512MB RAM, khuyến nghị 1GB+   - 100MB dung lượng lưu trữ cho ứng dụng + dữ liệu router - Tắt hạn chế ứng dụng chạy nền cho I2P</p>
<p><strong>Ứng dụng bị sập ngay lập tức:</strong></p>
<ol>
<li><strong>Kiểm tra phiên bản Android:</strong> Cài đặt → Giới thiệu về điện thoại → Phiên bản Android (phải từ 5.0 trở lên)</li>
<li><strong>Gỡ cài đặt tất cả các phiên bản I2P:</strong> Chỉ cài một biến thể:
<ul>
<li>net.i2p.android (Google Play)</li>
<li>net.i2p.android.router (F-Droid)<br>
Cài đặt nhiều phiên bản sẽ gây xung đột</li>
</ul>
</li>
<li><strong>Xóa dữ liệu ứng dụng:</strong> Cài đặt → Ứng dụng → I2P → Bộ nhớ → Xóa dữ liệu</li>
<li><strong>Cài đặt lại từ trạng thái sạch</strong></li>
</ol>
<p><strong>Tối ưu hóa pin đang tắt router:</strong></p>
<p>Android mạnh tay đóng các ứng dụng chạy nền để tiết kiệm pin. I2P cần được đưa vào danh sách ngoại lệ:</p>
<ol>
<li>Cài đặt → Pin → Tối ưu hóa pin (hoặc Sử dụng pin của ứng dụng)</li>
<li>Tìm I2P → Không tối ưu hóa (hoặc Cho phép hoạt động nền)</li>
<li>Cài đặt → Ứng dụng → I2P → Pin → Cho phép hoạt động nền + Gỡ bỏ hạn chế</li>
</ol>
<p><strong>Sự cố kết nối trên di động:</strong></p>
<ul>
<li><strong>Khởi tạo cần WiFi:</strong> Lần reseed (tải danh sách nút ban đầu) tải xuống một lượng dữ liệu đáng kể - hãy dùng WiFi, không dùng mạng di động</li>
<li><strong>Thay đổi mạng:</strong> I2P không xử lý việc chuyển mạng tốt - hãy khởi động lại ứng dụng sau khi chuyển giữa WiFi/mạng di động</li>
<li><strong>Băng thông cho di động:</strong> Cấu hình thận trọng ở mức 64-128 KB/giây để tránh hết dữ liệu di động</li>
</ul>
<p><strong>Tối ưu hóa hiệu năng cho thiết bị di động:</strong></p>
<ol>
<li>I2P app → Menu → Settings → Bandwidth</li>
<li>Đặt giới hạn phù hợp: 64 KB/sec vào, 32 KB/sec ra cho mạng di động</li>
<li>Giảm số lượng tunnels tham gia: Settings → Advanced → Max participating tunnels: 100-200</li>
<li>Bật &ldquo;Stop I2P when screen off&rdquo; để tiết kiệm pin</li>
</ol>
<p><strong>Tải torrent trên Android:</strong></p>
<ul>
<li>Giới hạn tối đa 2-3 torrent chạy đồng thời</li>
<li>Giảm mức độ tích cực của DHT</li>
<li>Chỉ dùng WiFi để torrent</li>
<li>Chấp nhận tốc độ chậm hơn trên phần cứng di động</li>
</ul>
<h2 id="các-vấn-đề-về-reseed-tải-dữ-liệu-khởi-tạo-mạng-và-bootstrap-khởi-tạo-ban-đầu">Các vấn đề về Reseed (tải dữ liệu khởi tạo mạng) và bootstrap (khởi tạo ban đầu)</h2>
<p>Cài đặt I2P mới cần <strong>reseeding</strong> (tải thông tin peer ban đầu) - lấy thông tin peer ban đầu từ các máy chủ HTTPS công khai để tham gia mạng. Sự cố reseed khiến người dùng bị kẹt trong tình trạng không có peer nào và không thể truy cập mạng.</p>
<p><strong>&ldquo;No active peers&rdquo; sau khi cài đặt mới</strong> thường cho thấy việc reseed (tải dữ liệu khởi tạo) thất bại. Triệu chứng:</p>
<ul>
<li>Peer đã biết: 0 hoặc luôn dưới 5</li>
<li>&ldquo;Network: Testing&rdquo; vẫn hiển thị sau hơn 15 phút</li>
<li>Nhật ký cho thấy &ldquo;Reseed failed&rdquo; (reseed: tải danh sách peer khởi tạo) hoặc lỗi kết nối tới máy chủ reseed</li>
</ul>
<p><strong>Vì sao reseed (tải dữ liệu khởi tạo mạng) thất bại:</strong></p>
<ol>
<li><strong>Tường lửa chặn HTTPS:</strong> Tường lửa của doanh nghiệp/ISP chặn kết nối tới reseed server (máy chủ khởi tạo mạng I2P) (port 443)</li>
<li><strong>Lỗi chứng chỉ SSL:</strong> Hệ thống thiếu các chứng chỉ gốc được cập nhật</li>
<li><strong>Yêu cầu proxy:</strong> Mạng yêu cầu proxy HTTP/SOCKS cho các kết nối ra ngoài</li>
<li><strong>Sai lệch đồng hồ:</strong> Xác thực chứng chỉ SSL thất bại khi thời gian hệ thống sai</li>
<li><strong>Kiểm duyệt theo địa lý:</strong> Một số quốc gia/ISP chặn các reseed server đã biết</li>
</ol>
<p><strong>Buộc reseed (tải lại dữ liệu khởi tạo mạng) thủ công:</strong></p>
<ol>
<li>Truy cập http://127.0.0.1:7657/configreseed</li>
<li>Nhấp &ldquo;Save changes and reseed now&rdquo;</li>
<li>Theo dõi http://127.0.0.1:7657/logs để tìm &ldquo;Reseed got XX router infos&rdquo;</li>
<li>Chờ 5-10 phút để xử lý</li>
<li>Kiểm tra http://127.0.0.1:7657 - Known peers nên tăng lên 50+</li>
</ol>
<p><strong>Cấu hình proxy reseed</strong> cho các mạng bị hạn chế:</p>
<p>http://127.0.0.1:7657/configreseed → Cấu hình proxy:</p>
<ul>
<li>HTTP Proxy: [proxy-server]:[port]</li>
<li>Hoặc SOCKS5: [socks-server]:[port]</li>
<li>Bật &ldquo;Use proxy for reseed only&rdquo;</li>
<li>Thông tin đăng nhập (nếu cần)</li>
<li>Lưu và buộc reseed (tải lại dữ liệu khởi tạo mạng)</li>
</ul>
<p><strong>Lựa chọn thay thế: Proxy Tor cho reseed (khởi tạo netDb):</strong></p>
<p>Nếu Tor Browser hoặc Tor daemon (trình nền Tor) đang chạy:</p>
<ul>
<li>Loại proxy: SOCKS5</li>
<li>Máy chủ: 127.0.0.1</li>
<li>Cổng: 9050 (cổng SOCKS mặc định của Tor)</li>
<li>Bật và reseed (tải lại dữ liệu khởi tạo mạng)</li>
</ul>
<p><strong>Tái gieo (reseed) thủ công qua tệp su3</strong> (biện pháp cuối cùng):</p>
<p>Khi tất cả các phương thức reseed (quy trình tải dữ liệu khởi tạo netDb) tự động đều thất bại, hãy lấy tệp reseed qua kênh out-of-band (ngoài băng):</p>
<ol>
<li>Tải i2pseeds.su3 từ nguồn đáng tin cậy trên kết nối không bị hạn chế (<a href="https://reseed.i2p.rocks/i2pseeds.su3">https://reseed.i2p.rocks/i2pseeds.su3</a>
, <a href="https://reseed-fr.i2pd.xyz/i2pseeds.su3">https://reseed-fr.i2pd.xyz/i2pseeds.su3</a>
)</li>
<li>Dừng I2P hoàn toàn</li>
<li>Sao chép i2pseeds.su3 vào thư mục ~/.i2p/</li>
<li>Khởi động I2P - tự động giải nén và xử lý tệp</li>
<li>Xóa i2pseeds.su3 sau khi xử lý</li>
<li>Xác minh số lượng nút tăng tại http://127.0.0.1:7657</li>
</ol>
<p><strong>Lỗi chứng chỉ SSL trong quá trình reseed (khởi tạo dữ liệu mạng ban đầu):</strong></p>
<pre tabindex="0"><code>Error: &#34;Reseed: Certificate verification failed&#34;  
Cause: System root certificates outdated or missing
</code></pre><p>Giải pháp:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Linux - update certificates</span>
</span></span><span style="display:flex;"><span>sudo apt install ca-certificates
</span></span><span style="display:flex;"><span>sudo update-ca-certificates
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Windows - install KB updates for root certificate trust</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Or install .NET Framework (includes certificate updates)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># macOS - update system</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Software Update includes certificate trust updates</span>
</span></span></code></pre></div><p><strong>Bị kẹt ở 0 nút ngang hàng đã biết quá 30 phút:</strong></p>
<p>Cho biết việc reseed (khởi tạo netDb ban đầu từ các máy chủ reseed) đã thất bại hoàn toàn. Trình tự khắc phục sự cố:</p>
<ol>
<li><strong>Xác minh thời gian hệ thống là chính xác</strong> (sự cố phổ biến nhất - sửa TRƯỚC)</li>
<li><strong>Kiểm tra kết nối HTTPS:</strong> Thử truy cập <a href="https://reseed.i2p.rocks">https://reseed.i2p.rocks</a>
 trong trình duyệt - nếu thất bại, là sự cố mạng</li>
<li><strong>Kiểm tra nhật ký I2P</strong> tại http://127.0.0.1:7657/logs để tìm các lỗi reseed (nạp danh sách nút ban đầu) cụ thể</li>
<li><strong>Thử URL reseed khác:</strong> http://127.0.0.1:7657/configreseed → thêm URL reseed tùy chỉnh: <a href="https://reseed-fr.i2pd.xyz/">https://reseed-fr.i2pd.xyz/</a>
</li>
<li><strong>Sử dụng phương pháp tệp su3 thủ công</strong> nếu đã thử hết các cách tự động</li>
</ol>
<p><strong>Máy chủ reseed đôi khi ngoại tuyến:</strong> I2P bao gồm nhiều máy chủ reseed được hardcoded (ghi cứng trong mã). Nếu một máy chủ gặp lỗi, router sẽ tự động thử các máy chủ khác. Trường hợp tất cả các máy chủ reseed đều thất bại hoàn toàn là cực kỳ hiếm nhưng vẫn có thể xảy ra.</p>
<p><strong>Các reseed servers (máy chủ cung cấp dữ liệu ban đầu cho netDb) hiện đang hoạt động</strong> (tính đến tháng 10 năm 2025):</p>
<ul>
<li><a href="https://reseed.i2p.rocks/">https://reseed.i2p.rocks/</a>
</li>
<li><a href="https://reseed-fr.i2pd.xyz/">https://reseed-fr.i2pd.xyz/</a>
</li>
<li><a href="https://i2p.novg.net/">https://i2p.novg.net/</a>
</li>
<li><a href="https://i2p-projekt.de/">https://i2p-projekt.de/</a>
</li>
</ul>
<p>Thêm dưới dạng URL tùy chỉnh nếu gặp sự cố với các thiết lập mặc định.</p>
<p><strong>Dành cho người dùng ở các khu vực bị kiểm duyệt gắt gao:</strong></p>
<p>Cân nhắc sử dụng các cầu Snowflake/Meek qua Tor cho reseed (tải dữ liệu khởi tạo mạng I2P) ban đầu, rồi chuyển sang I2P trực tiếp khi đã hòa mạng xong. Hoặc nhận i2pseeds.su3 qua steganography (giấu tin), email hoặc USB từ bên ngoài vùng kiểm duyệt.</p>
<h2 id="khi-nào-nên-tìm-kiếm-thêm-sự-trợ-giúp">Khi nào nên tìm kiếm thêm sự trợ giúp</h2>
<p>Hướng dẫn này bao quát đại đa số các vấn đề về I2P, nhưng một số vấn đề cần sự chú ý của nhà phát triển hoặc chuyên môn của cộng đồng.</p>
<p><strong>Nhờ cộng đồng I2P hỗ trợ khi:</strong></p>
<ul>
<li>Router liên tục bị sập sau khi đã thực hiện tất cả các bước khắc phục sự cố</li>
<li>Rò rỉ bộ nhớ khiến mức sử dụng tăng đều, vượt quá heap (vùng nhớ heap) đã cấp phát</li>
<li>Tỷ lệ thành công của Tunnel vẫn dưới 20% mặc dù đã cấu hình phù hợp</li>
<li>Các lỗi mới trong nhật ký không được đề cập trong hướng dẫn này</li>
<li>Lỗ hổng bảo mật được phát hiện</li>
<li>Yêu cầu tính năng hoặc đề xuất cải tiến</li>
</ul>
<p><strong>Trước khi yêu cầu trợ giúp, hãy thu thập thông tin chẩn đoán:</strong></p>
<ol>
<li>Phiên bản I2P: http://127.0.0.1:7657 (ví dụ: &ldquo;2.10.0&rdquo;)</li>
<li>Phiên bản Java: đầu ra của <code>java -version</code></li>
<li>Hệ điều hành và phiên bản</li>
<li>Tình trạng router: Trạng thái mạng, Số lượng peer (nút ngang hàng) đang hoạt động, Các tunnel tham gia</li>
<li>Cấu hình băng thông: Giới hạn vào/ra</li>
<li>Trạng thái chuyển tiếp cổng (port forwarding): Bị tường lửa chặn hoặc OK</li>
<li>Trích đoạn nhật ký liên quan: 50 dòng cuối hiển thị lỗi từ http://127.0.0.1:7657/logs</li>
</ol>
<p><strong>Các kênh hỗ trợ chính thức:</strong></p>
<ul>
<li><strong>Diễn đàn:</strong> <a href="https://i2pforum.net">https://i2pforum.net</a>
 (clearnet — Internet thông thường) hoặc <a href="http://i2pforum.i">http://i2pforum.i</a>
2p (bên trong I2P)</li>
<li><strong>IRC:</strong> #i2p trên Irc2P (irc.postman.i2p qua I2P) hoặc irc.freenode.net (clearnet)</li>
<li><strong>Reddit:</strong> <a href="https://reddit.com/r/i2p">https://reddit.com/r/i2p</a>
 dành cho thảo luận của cộng đồng</li>
<li><strong>Trình theo dõi lỗi:</strong> <a href="https://i2pgit.org/i2p-hackers/i2p.i2p/-/issues">https://i2pgit.org/i2p-hackers/i2p.i2p/-/issues</a>
 dành cho các lỗi đã được xác nhận</li>
<li><strong>Danh sách thư:</strong> <a href="mailto:i2p-dev@lists.i2p-projekt.de">i2p-dev@lists.i2p-projekt.de</a>
 dành cho các câu hỏi về phát triển</li>
</ul>
<p><strong>Kỳ vọng thực tế rất quan trọng.</strong> I2P chậm hơn clearnet (mạng Internet công khai) do thiết kế nền tảng - tunneling được mã hóa đa hop tạo ra độ trễ vốn có. Một I2P router có thời gian tải trang 30 giây và tốc độ torrent 50 KB/sec là <strong>đang hoạt động đúng</strong>, không bị hỏng. Người dùng kỳ vọng tốc độ clearnet sẽ thất vọng, bất kể tối ưu cấu hình.</p>
<h2 id="kết-luận">Kết luận</h2>
<p>Phần lớn các vấn đề I2P xuất phát từ ba nhóm: thiếu kiên nhẫn trong giai đoạn bootstrap (khởi động ban đầu) (cần 10–15 phút), phân bổ tài nguyên không đủ (tối thiểu 512 MB RAM, 256 KB/giây băng thông), hoặc cấu hình chuyển tiếp cổng sai. Việc hiểu kiến trúc phân tán và thiết kế tập trung vào tính ẩn danh của I2P giúp người dùng phân biệt hành vi mong đợi với các vấn đề thực sự.</p>
<p>Trạng thái &ldquo;Firewalled&rdquo; của router, tuy không tối ưu, không ngăn cản việc sử dụng I2P - chỉ hạn chế mức độ đóng góp cho mạng và làm giảm nhẹ hiệu năng. Người dùng mới nên ưu tiên <strong>tính ổn định hơn tối ưu hóa</strong>: hãy chạy router liên tục trong vài ngày trước khi điều chỉnh các cài đặt nâng cao, vì mức độ hòa nhập với mạng sẽ tự nhiên cải thiện theo thời gian hoạt động.</p>
<p>Khi khắc phục sự cố, hãy luôn kiểm tra các yếu tố cơ bản trước: thời gian hệ thống chính xác, băng thông đầy đủ, router chạy liên tục và tối thiểu 10 nút ngang hàng đang hoạt động. Phần lớn sự cố được giải quyết bằng cách xử lý những điều cơ bản này thay vì chỉnh các tham số cấu hình khó hiểu. I2P sẽ đền đáp sự kiên nhẫn và việc vận hành liên tục bằng hiệu năng được cải thiện, khi router xây dựng uy tín và tối ưu hóa việc chọn nút ngang hàng qua nhiều ngày và nhiều tuần hoạt động.</p>

                </article>

                
                <nav class="page-nav">
                    
                        <a href="../../../vi/docs/writing-guidelines/" class="page-nav-link prev">
                            <span class="nav-label">← Previous</span>
                            <span class="nav-title">Hướng dẫn viết tài liệu I2P</span>
                        </a>
                    
                    
                </nav>

                
                <div class="docs-feedback">
                    <p>Was this page helpful?</p>
                    <div class="feedback-buttons" id="feedback-buttons">
                        <button class="feedback-btn" id="feedback-yes">👍 Yes</button>
                        <button class="feedback-btn" id="feedback-no">👎 No</button>
                    </div>

                    
                    <div class="feedback-form-container" id="feedback-form-container" style="display: none;">
                        <p class="feedback-form-title">We're sorry to hear that. How can we improve this page?</p>
                        <form id="feedback-form">
                            <div class="form-group">
                                <label for="feedback-email">Email (optional - if you'd like a response)</label>
                                <input type="email" id="feedback-email" name="email" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label for="feedback-message">Feedback *</label>
                                <textarea id="feedback-message" name="message" rows="4" required placeholder="Tell us what we can improve..."></textarea>
                            </div>
                            <button type="submit" class="btn-submit-feedback" id="feedback-submit-btn">
                                <span class="btn-text">Submit Feedback</span>
                                <span class="btn-loading" style="display: none;">Sending...</span>
                            </button>
                        </form>
                    </div>

                    
                    <div class="feedback-message" id="feedback-success" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2"/>
                        </svg>
                        <span id="feedback-success-text">Thanks for your feedback!</span>
                    </div>
                    <div class="feedback-message feedback-error" id="feedback-error" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <path d="M12 8v4M12 16h.01" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span id="feedback-error-text">Something went wrong. Please try again.</span>
                    </div>

                    <p class="feedback-note">
                        Found an issue? <a href="https://gitlab.com/stormycloud-group/i-2-p-www-v-2/-/blob/main/hugo-site/content/vi/docs/troubleshooting.md?ref_type=heads" target="_blank">Edit this page on GitLab</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.docs-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.article-header {
    margin-bottom: var(--spacing-2xl);
}

.article-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--color-text);
}

.article-description {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-md);
}

.article-meta {
    display: flex;
    gap: var(--spacing-lg);
    flex-wrap: wrap;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.meta-item svg {
    color: var(--color-primary);
}

 
.docs-layout {
    display: block;
}

.docs-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.docs-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.docs-main {
    min-width: 0;
    max-width: 900px;
}

 
.article-content {
    line-height: 1.8;
    color: var(--color-text);
}

.article-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.article-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.article-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.article-content p {
    margin-bottom: var(--spacing-md);
}

.article-content ul,
.article-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.article-content li {
    margin-bottom: var(--spacing-xs);
}

.article-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.article-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
}

.article-content pre code {
    background: none;
    padding: 0;
}

.article-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

.article-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.article-content a:hover {
    border-bottom-color: var(--color-primary);
}

 
.page-nav {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
}

.page-nav-link {
    display: flex;
    flex-direction: column;
    padding: var(--spacing-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
}

.page-nav-link.next {
    text-align: right;
}

.nav-label {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xs);
}

.nav-title {
    font-weight: 600;
    color: var(--color-text);
}

 
.docs-feedback {
    margin-top: var(--spacing-2xl);
    padding: var(--spacing-lg);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-md);
    text-align: center;
}

.feedback-buttons {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    margin: var(--spacing-md) 0;
}

.feedback-btn {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.feedback-btn:hover {
    border-color: var(--color-primary);
    background: var(--color-primary);
    color: white;
}

.feedback-note {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-top: var(--spacing-md);
}

.feedback-note a {
    color: var(--color-primary);
    text-decoration: none;
}

.feedback-note a:hover {
    text-decoration: underline;
}

 
.feedback-form-container {
    margin-top: var(--spacing-lg);
    padding: var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-align: left;
}

.feedback-form-title {
    font-weight: 600;
    margin-bottom: var(--spacing-md);
    color: var(--color-text);
}

.form-group {
    margin-bottom: var(--spacing-md);
}

.form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--color-text);
}

.form-group input[type="email"],
.form-group textarea {
    width: 100%;
    padding: var(--spacing-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg);
    color: var(--color-text);
    font-family: inherit;
    font-size: 0.9375rem;
    transition: border-color var(--transition-fast);
}

.form-group input[type="email"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color-primary);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

.btn-submit-feedback {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.btn-submit-feedback:hover:not(:disabled) {
    background: var(--color-primary-dark);
    transform: translateY(-1px);
}

.btn-submit-feedback:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

 
.feedback-message {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background: #d1fae5;
    color: #065f46;
    border-radius: var(--radius-md);
    margin-top: var(--spacing-md);
}

.feedback-message.feedback-error {
    background: #fee2e2;
    color: #991b1b;
}

.feedback-message svg {
    flex-shrink: 0;
}

 
@media (max-width: 1024px) {
    .docs-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .docs-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .article-title {
        font-size: 1.75rem;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



<script>
(function() {
    'use strict';
    
    
    let baseUrl = window.feedbackBaseUrl;
    if (!baseUrl) {
        const hostname = window.location.hostname;
        
        if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
            baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
        } else if (hostname.endsWith('.onion')) {
            baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
        } else {
            baseUrl = 'https://feedback.i2p.net';
        }
    }
    
    const script = document.createElement('script');
    script.src = baseUrl + '/widgets/docs-feedback.js';
    script.async = true;
    script.onerror = function() {
        console.error('[Docs Feedback] Failed to load docs-feedback.js from:', baseUrl);
    };
    document.body.appendChild(script);
})();
</script>


    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">Cập nhật tin tức I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="Nhập email của bạn" required>
                            <button type="submit">Đăng ký</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>Liên kết nhanh</h3>
                <ul>
                    <li><a href="../../../vi/financial-support/">Quyên góp</a></li>
                    <li><a href="../../../vi/docs/overview/intro/">Giới thiệu I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Cộng đồng</h3>
                <ul>
                    <li><a href="../../../vi/get-involved/">Tham Gia</a></li>
                    <li><a href="../../../vi/blog/">Blog</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">Diễn đàn chính thức</a></li>
                    <li><a href="../../../vi/contact/">Liên hệ</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Tài nguyên</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">Thống kê I2P</a></li>
                    <li><a href="../../../vi/papers/">Nghiên cứu</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">StormyCloud</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 Dự án Internet Vô hình. Được cấp phép theo Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../vi/privacy/">Quyền riêng tư</a>
                <a href="../../../vi/terms/">Điều khoản</a>
                <a href="../../../vi/about/media/">Báo chí</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="Đóng">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>Thăm dò ý kiến cộng đồng</h2>
            <p class="modal-subtitle">Chúng tôi rất muốn nghe ý kiến từ bạn</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                Phiếu bầu của bạn giúp định hình tương lai của I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>