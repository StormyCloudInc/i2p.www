<!DOCTYPE html>
<html lang="vi" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Giao thức Datagram2 | I2P - Dự án Internet vô hình</title>

    <meta name="description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="Giao thức Datagram2 | I2P - Dự án Internet vô hình">
    <meta property="og:description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/vi/proposals/163-datagram2/">

    
    <link rel="icon" type="image/svg+xml" href="../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">Trang I2P Beta Đã Hoạt Động Gửi báo cáo lỗi tới stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="Đóng banner" title="Đóng banner">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../vi/" class="logo-link">
                    <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../vi/about/" class="">Giới thiệu</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../vi/about/">Tổng quan</a></li>
                            <li><a href="../../../vi/papers/">Bài Nghiên Cứu</a></li>
                            <li><a href="../../../vi/about/media/">Báo chí</a></li>
                            <li><a href="../../../vi/contact/">Liên hệ</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../vi/docs/" class="">Tài liệu</a></li>
                    <li><a href="../../../vi/downloads/" class="">Tải xuống</a></li>
                    <li><a href="../../../vi/blog/" class="">Blog</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../vi/get-involved/" class="">Tham gia</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../vi/get-involved/">Tổng quan</a></li>
                            <li><a href="../../../vi/feedback/">Đề xuất Tính năng</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">vi</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../en/proposals/163-datagram2/"
                                class="lang-option">Tiếng Anh</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../es/proposals/163-datagram2/"
                                class="lang-option">Tiếng Tây Ban Nha</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ko/proposals/163-datagram2/"
                                class="lang-option">Tiếng Hàn</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../zh/proposals/163-datagram2/"
                                class="lang-option">Tiếng Trung</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ru/proposals/163-datagram2/"
                                class="lang-option">Tiếng Nga</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../cs/proposals/163-datagram2/"
                                class="lang-option">Tiếng Séc</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../de/proposals/163-datagram2/"
                                class="lang-option">Tiếng Đức</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../fr/proposals/163-datagram2/"
                                class="lang-option">Tiếng Pháp</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../tr/proposals/163-datagram2/"
                                class="lang-option">Tiếng Thổ Nhĩ Kỳ</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../vi/proposals/163-datagram2/"
                                class="lang-option active">Tiếng Việt</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../hi/proposals/163-datagram2/"
                                class="lang-option">Tiếng Hindi</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ar/proposals/163-datagram2/"
                                class="lang-option">Tiếng Ả Rập</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../pt/proposals/163-datagram2/"
                                class="lang-option">Tiếng Bồ Đào Nha</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../vi/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../vi/downloads/" class="btn btn-primary">Tải I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        



<div class="proposals-page">
    <div class="container">
        
        <nav class="breadcrumbs">
            <a href="../../../vi/">Home</a>
            <span class="separator">/</span>
            <a href="../../../vi/proposals/">Proposals</a>
            <span class="separator">/</span>
            <span class="current">Giao thức Datagram2</span>
        </nav>

        
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">Bản dịch này được tạo bằng máy học và có thể không chính xác 100%.</span>
    
    
    <a href="../../../en/proposals/163-datagram2/" class="disclaimer-link">Xem phiên bản tiếng Anh</a>
    
</div>



        
        <header class="proposal-header">
            <div class="proposal-title-section">
                <h1 class="proposal-title">Giao thức Datagram2</h1>
                <div class="proposal-number">Proposal 163</div>
            </div>

            
            <div class="proposal-meta-box">
                <div class="proposal-status status-closed">
                    Closed
                </div>

                
                <div class="proposal-info-grid">
                    
                    <div class="info-item">
                        <span class="info-label">Author</span>
                        <span class="info-value">zzz, orignal, drzed, eyedeekay</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Created</span>
                        <span class="info-value">2023-01-24</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Last Updated</span>
                        <span class="info-value">2025-04-16</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Target Version</span>
                        <span class="info-value">0.9.66</span>
                    </div>
                    

                    
                </div>

                
                
            </div>
        </header>

        
        <div class="proposal-layout proposal-layout--with-toc">
            
            
            <aside class="proposal-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#trạng-thái">Trạng thái</a></li>
    <li><a href="#tổng-quan">Tổng quan</a></li>
    <li><a href="#mục-tiêu">Mục tiêu</a></li>
    <li><a href="#không-phải-mục-tiêu">Không phải mục tiêu</a></li>
    <li><a href="#động-lực">Động lực</a></li>
    <li><a href="#đặc-tả-datagram-có-thể-phát-lại">Đặc tả Datagram có thể phát lại</a></li>
    <li><a href="#thiết-kế">Thiết kế</a></li>
    <li><a href="#đặc-tả">Đặc tả</a>
      <ul>
        <li><a href="#giao-thức">Giao thức</a></li>
        <li><a href="#định-dạng-datagram2">Định dạng Datagram2</a></li>
        <li><a href="#chữ-ký">Chữ ký</a></li>
        <li><a href="#xác-minh-tohash">Xác minh ToHash</a></li>
        <li><a href="#định-dạng-datagram3">Định dạng Datagram3</a></li>
        <li><a href="#sam">SAM</a></li>
        <li><a href="#chi-phí-bổ-sung">Chi phí bổ sung</a></li>
      </ul>
    </li>
    <li><a href="#phân-tích-bảo-mật">Phân tích Bảo mật</a></li>
    <li><a href="#ghi-chú">Ghi chú</a></li>
    <li><a href="#tương-thích">Tương thích</a></li>
    <li><a href="#di-chuyển">Di chuyển</a>
      <ul>
        <li><a href="#bittorrent">Bittorrent</a></li>
        <li><a href="#khác">Khác</a></li>
      </ul>
    </li>
    <li><a href="#tham-khảo">Tham khảo</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="proposal-main">
                <article class="proposal-content">
                    <h2 id="trạng-thái">Trạng thái</h2>
<p>Đã được chấp thuận tại đánh giá ngày 2025-04-15.
Các thay đổi đã được tích hợp vào đặc tả.
Đã được triển khai trong Java I2P tính đến API 0.9.66.
Kiểm tra tài liệu triển khai để biết trạng thái.</p>
<h2 id="tổng-quan">Tổng quan</h2>
<p>Được tách ra từ <a href="../../../vi/proposals/123-new-netdb-entries/">Prop123</a>
 như một đề xuất riêng biệt.</p>
<p>Chữ ký ngoại tuyến không thể được xác minh trong quá trình xử lý datagram có thể phát lại.
Cần có một cờ để chỉ ra chữ ký ngoại tuyến nhưng không có chỗ để đặt cờ.</p>
<p>Sẽ cần một số giao thức I2CP hoàn toàn mới và định dạng mới,
để được thêm vào đặc tả <a href="../../../vi/docs/api/datagrams/">DATAGRAMS</a>
.
Chúng ta hãy gọi nó là &ldquo;Datagram2&rdquo;.</p>
<h2 id="mục-tiêu">Mục tiêu</h2>
<ul>
<li>Thêm hỗ trợ cho chữ ký ngoại tuyến</li>
<li>Thêm ngăn chặn phát lại</li>
<li>Thêm kiểu không có chữ ký</li>
<li>Thêm các trường cờ và tuỳ chọn để mở rộng</li>
</ul>
<h2 id="không-phải-mục-tiêu">Không phải mục tiêu</h2>
<p>Hỗ trợ giao thức từ đầu đến cuối đối với kiểm soát tắc nghẽn, v.v.
Điều đó sẽ được xây dựng trên hoặc là một thay thế cho Datagram2, là một giao thức cấp thấp.
Sẽ không có ý nghĩa nếu thiết kế một giao thức hiệu suất cao chỉ dựa trên
Datagram2, do trường nguồn và chi phí chữ ký.
Bất kỳ giao thức nào như vậy nên thực hiện một cuộc gặp gỡ đầu tiên với Datagram2 và sau đó
chuyển sang datagram RAW.</p>
<h2 id="động-lực">Động lực</h2>
<p>Được để lại từ công việc LS2 vốn đã hoàn thành vào năm 2019.</p>
<p>Ứng dụng đầu tiên sử dụng Datagram2 dự kiến sẽ là
thông báo UDP bittorrent, như đã triển khai trong i2psnark và zzzot,
xem <a href="../../../vi/proposals/160-udp-trackers/">Prop160</a>
.</p>
<h2 id="đặc-tả-datagram-có-thể-phát-lại">Đặc tả Datagram có thể phát lại</h2>
<p>Để tham khảo,
sau đây là đánh giá của đặc tả cho các datagram có thể phát lại,
sao chép từ <a href="../../../vi/docs/api/datagrams/">Datagrams</a>
.
Số giao thức I2CP tiêu chuẩn cho các datagram có thể phát lại là PROTO_DATAGRAM (17).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  | from                                  |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  | signature                             |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  | payload...
</span></span><span style="display:flex;"><span>  +----+----+----+----//
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  from :: một `Destination`
</span></span><span style="display:flex;"><span>          chiều dài: 387+ byte
</span></span><span style="display:flex;"><span>          Người khởi tạo và người ký của datagram
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  signature :: một `Signature`
</span></span><span style="display:flex;"><span>               Loại chữ ký phải khớp với loại khóa công khai ký của $from
</span></span><span style="display:flex;"><span>               chiều dài: 40+ byte, như được ngụ ý bởi loại Chữ ký.
</span></span><span style="display:flex;"><span>               Đối với loại khóa DSA_SHA1 mặc định:
</span></span><span style="display:flex;"><span>                  Chữ ký DSA của băm SHA-256 của dụng liệu tải.
</span></span><span style="display:flex;"><span>               Đối với các loại khóa khác:
</span></span><span style="display:flex;"><span>                  Chữ ký của dụng liệu tải.
</span></span><span style="display:flex;"><span>               Chữ ký có thể được xác minh bởi khóa công khai ký của $from
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  payload :: Dữ liệu
</span></span><span style="display:flex;"><span>              Chiều dài: 0 đến khoảng 31,5 KB (xem lưu ý)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Tổng chiều dài: Chiều dài tải + 423+
</span></span></code></pre></div><h2 id="thiết-kế">Thiết kế</h2>
<ul>
<li>Định nghĩa giao thức mới 19 - Datagram có thể phát lại với tùy chọn.</li>
<li>Định nghĩa giao thức mới 20 - Datagram có thể phát lại không có chữ ký.</li>
<li>Thêm trường cờ cho chữ ký ngoại tuyến và mở rộng trong tương lai</li>
<li>Di chuyển chữ ký sau tải để xử lý dễ dàng hơn</li>
<li>Đặc tả chữ ký mới khác với datagram có thể phát lại hoặc truyền tải, vì vậy
xác minh chữ ký sẽ thất bại nếu được giải thích là datagram có thể phát lại hoặc truyền tải.
Điều này được thực hiện bằng cách di chuyển chữ ký sau tải,
và bằng cách bao gồm băm đích trong chức năng chữ ký.</li>
<li>Thêm phòng ngừa phát lại cho các datagram, như đã được thực hiện trong <a href="../../../vi/proposals/164-streaming/">Prop164</a>
 cho truyền tải.</li>
<li>Thêm phần cho các tùy chọn tùy ý</li>
<li>Tái sử dụng định dạng chữ ký ngoại tuyến từ <a href="../../../vi/docs/specs/common-structures/">Common</a>
 và <a href="../../../vi/docs/specs/streaming/">Streaming</a>
.</li>
<li>Phần chữ ký ngoại tuyến phải trước phần tải
và phần chữ ký có chiều dài thay đổi, vì nó chỉ định chiều dài
của chữ ký.</li>
</ul>
<h2 id="đặc-tả">Đặc tả</h2>
<h3 id="giao-thức">Giao thức</h3>
<p>Số giao thức I2CP mới cho Datagram2 là 19.
Thêm nó làm PROTO_DATAGRAM2 vào <a href="../../../vi/docs/specs/i2cp/">I2CP</a>
.</p>
<p>Số giao thức I2CP mới cho Datagram3 là 20.
Thêm nó làm PROTO_DATAGRAM2 vào <a href="../../../vi/docs/specs/i2cp/">I2CP</a>
.</p>
<h3 id="định-dạng-datagram2">Định dạng Datagram2</h3>
<p>Thêm Datagram2 vào <a href="../../../vi/docs/api/datagrams/">DATAGRAMS</a>
 như sau:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            from                       ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |  flags  |     options (optional)      |
</span></span><span style="display:flex;"><span>  +----+----+                             +
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~     offline_signature (optional)      ~
</span></span><span style="display:flex;"><span>  ~   expires, sigtype, pubkey, offsig    ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            payload                    ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            signature                  ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  from :: một `Destination`
</span></span><span style="display:flex;"><span>          chiều dài: 387+ byte
</span></span><span style="display:flex;"><span>          Người khởi tạo và (nếu không ký ngoại tuyến) ký của datagram
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  flags :: (2 byte)
</span></span><span style="display:flex;"><span>           Thứ tự bit: 15 14 ... 3 2 1 0
</span></span><span style="display:flex;"><span>           Các bit 3-0: Phiên bản: 0x02 (0 0 1 0)
</span></span><span style="display:flex;"><span>           Bit 4: Nếu 0, không có tùy chọn; nếu 1, ánh xạ tùy chọn được bao gồm
</span></span><span style="display:flex;"><span>           Bit 5: Nếu 0, không có chữ ký ngoại tuyến; nếu 1, ký ngoại tuyến
</span></span><span style="display:flex;"><span>           Các bit 15-6: không sử dụng, đặt thành 0 để tương thích với các sử dụng trong tương lai
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  options :: (2+ byte nếu có)
</span></span><span style="display:flex;"><span>           Nếu lá cờ chỉ ra rằng có các tùy chọn, một `Mapping`
</span></span><span style="display:flex;"><span>           chứa các tùy chọn văn bản tùy ý
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  offline_signature ::
</span></span><span style="display:flex;"><span>               Nếu cờ chỉ ra khóa ngoại tuyến, phần chữ ký ngoại tuyến,
</span></span><span style="display:flex;"><span>               như được chỉ định trong Đặc tả Cấu trúc Chung,
</span></span><span style="display:flex;"><span>               với các trường dưới đây. Chiều dài: thay đổi theo loại chữ ký trực tuyến và ngoại tuyến,
</span></span><span style="display:flex;"><span>               thường là 102 byte cho loại chữ ký Ed25519
</span></span><span style="display:flex;"><span>               Phần này có thể và nên được tạo ngoại tuyến.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    expires :: Thời hạn hết hạn
</span></span><span style="display:flex;"><span>               (4 byte, big endian, giây từ epoch, lăn qua vào năm 2106)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sigtype :: Loại chữ ký tạm thời (2 byte, big endian)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pubkey :: Khóa công khai ký tạm thời (chiều dài theo loại chữ ký),
</span></span><span style="display:flex;"><span>              thường là 32 byte cho loại chữ ký Ed25519.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    offsig :: một `Signature`
</span></span><span style="display:flex;"><span>              Chữ ký của thời hạn hết hạn, loại chữ ký tạm thời,
</span></span><span style="display:flex;"><span>              và khóa công khai, bởi khóa công khai đích,
</span></span><span style="display:flex;"><span>              chiều dài: 40+ byte, như được ngụ ý bởi loại chữ ký, thường
</span></span><span style="display:flex;"><span>              là 64 byte cho loại chữ ký Ed25519.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  payload :: Dữ liệu
</span></span><span style="display:flex;"><span>              Chiều dài: 0 đến khoảng 61 KB (xem ghi chú)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  signature :: một `Signature`
</span></span><span style="display:flex;"><span>               Loại chữ ký phải khớp với loại khóa công khai ký của $from
</span></span><span style="display:flex;"><span>               (nếu không có chữ ký ngoại tuyến) hoặc loại sig tạm thời
</span></span><span style="display:flex;"><span>               (nếu đã ký ngoại tuyến)
</span></span><span style="display:flex;"><span>               chiều dài: 40+ byte, như được ngụý bởi loại chữ ký, thường
</span></span><span style="display:flex;"><span>               64 byte cho loại chữ ký Ed25519.
</span></span><span style="display:flex;"><span>               Chữ ký của tải và các trường khác như được chỉ định dưới đây.
</span></span><span style="display:flex;"><span>               Chữ ký được xác minh bởi khóa công khai ký của $from
</span></span><span style="display:flex;"><span>               (nếu không có chữ ký ngoại tuyến) hoặc khóa công khai tạm thời
</span></span><span style="display:flex;"><span>               (nếu đã ký ngoại tuyến)
</span></span></code></pre></div><p>Tổng chiều dài: tối thiểu 433 + chiều dài tải;
chiều dài điển hình cho người gửi X25519 và không có chữ ký ngoại tuyến:
457 + chiều dài tải.
Lưu ý rằng tin nhắn sẽ thường được nén với gzip ở lớp I2CP,
điều sẽ mang lại tiết kiệm đáng kể nếu bích đích từ có thể nén được.</p>
<p>Ghi chú: Định dạng chữ ký ngoại tuyến giống như trong đặc tả Cấu trúc Chung <a href="../../../vi/docs/specs/common-structures/">Common</a>
 và <a href="../../../vi/docs/specs/streaming/">Streaming</a>
.</p>
<h3 id="chữ-ký">Chữ ký</h3>
<p>Chữ ký là trên các trường sau.</p>
<ul>
<li>Phần trên: Băm 32 byte của bích đích (không bao gồm trong datagram)</li>
<li>flags</li>
<li>options (nếu có)</li>
<li>offline_signature (nếu có)</li>
<li>payload</li>
</ul>
<p>Trong datagram có thể phát lại, đối với loại khóa DSA_SHA1, chữ ký là trên băm SHA-256 của tải, không phải tải thực tế; đây, chữ ký luôn là trên các trường trên (KHÔNG phải băm), bất kể loại khóa.</p>
<h3 id="xác-minh-tohash">Xác minh ToHash</h3>
<p>Người nhận phải xác minh chữ ký (sử dụng băm đích của họ)
và loại bỏ datagram khi thất bại, để ngăn chặn phát lại.</p>
<h3 id="định-dạng-datagram3">Định dạng Datagram3</h3>
<p>Thêm Datagram3 vào <a href="../../../vi/docs/api/datagrams/">DATAGRAMS</a>
 như sau:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            fromhash                   ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |  flags  |     options (optional)      |
</span></span><span style="display:flex;"><span>  +----+----+                             +
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            payload                    ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  fromhash :: một `Hash`
</span></span><span style="display:flex;"><span>              chiều dài: 32 byte
</span></span><span style="display:flex;"><span>              Người khởi tạo của datagram
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  flags :: (2 byte)
</span></span><span style="display:flex;"><span>           Thứ tự bit: 15 14 ... 3 2 1 0
</span></span><span style="display:flex;"><span>           Các bit 3-0: Phiên bản: 0x03 (0 0 1 1)
</span></span><span style="display:flex;"><span>           Bit 4: Nếu 0, không có tùy chọn; nếu 1, ánh xạ tùy chọn được bao gồm
</span></span><span style="display:flex;"><span>           Các bit 15-5: không sử dụng, đặt thành 0 để tương thích với các sử dụng trong tương lai
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  options :: (2+ byte nếu có)
</span></span><span style="display:flex;"><span>           Nếu lá cờ chỉ ra rằng có các tùy chọn, một `Mapping`
</span></span><span style="display:flex;"><span>           chứa các tùy chọn văn bản tùy ý
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  payload :: Dữ liệu
</span></span><span style="display:flex;"><span>              Chiều dài: 0 đến khoảng 61 KB (xem ghi chú)
</span></span></code></pre></div><p>Tổng chiều dài: tối thiểu 34 + chiều dài tải.</p>
<h3 id="sam">SAM</h3>
<p>Thêm STYLE=DATAGRAM2 và STYLE=DATAGRAM3 vào đặc tả SAMv3.
Cập nhật thông tin về chữ ký ngoại tuyến.</p>
<h3 id="chi-phí-bổ-sung">Chi phí bổ sung</h3>
<p>Thiết kế này thêm 2 byte chi phí bổ sung cho datagram có thể phát lại cho các cờ.
Điều này chấp nhận được.</p>
<h2 id="phân-tích-bảo-mật">Phân tích Bảo mật</h2>
<p>Việc bao gồm băm đích trong chữ ký nên có hiệu quả trong việc ngăn chặn các cuộc tấn công phát lại.</p>
<p>Định dạng Datagram3 thiếu chữ ký, do đó người gửi không thể được xác minh,
và các cuộc tấn công phát lại là có thể xảy ra. Mọi xác thực cần thiết phải được thực hiện ở lớp ứng dụng,
hoặc bởi router ở lớp ratchet.</p>
<h2 id="ghi-chú">Ghi chú</h2>
<ul>
<li>Chiều dài thực tế bị giới hạn bởi các lớp dưới của các giao thức - đặc tả thông điệp hầm <a href="../../../vi/docs/specs/implementation/#notes">TUNMSG</a>
 giới hạn các thông điệp khoảng 61.2 KB và các phương tiện truyền thông <a href="../../../vi/docs/overview/transport/">TRANSPORT</a>
 hiện tại giới hạn các thông điệp khoảng 64 KB, do đó chiều dài dữ liệu ở đây
bị giới hạn khoảng 61 KB.</li>
<li>Xem các ghi chú quan trọng về độ tin cậy của các datagram lớn <a href="../../../vi/docs/api/datagrams/">API</a>
. Để
đạt được kết quả tốt nhất, hãy giới hạn tải khoảng 10 KB hoặc ít hơn.</li>
</ul>
<h2 id="tương-thích">Tương thích</h2>
<p>Không có. Các ứng dụng phải được viết lại để chuyển hướng các thông điệp Datagram2 I2CP
dựa trên giao thức và/hoặc cổng.
Các thông điệp Datagram2 bị điều hướng sai và được giải thích
như là datagram có thể phát lại hoặc các thông điệp truyền streaming sẽ thất bại dựa trên chữ ký, định dạng hoặc cả hai.</p>
<h2 id="di-chuyển">Di chuyển</h2>
<p>Mỗi ứng dụng UDP phải phát hiện hỗ trợ và di chuyển riêng.
Ứng dụng UDP nổi bật nhất là bittorrent.</p>
<h3 id="bittorrent">Bittorrent</h3>
<p>Bittorrent DHT: Có thể cần cờ mở rộng,
ví dụ: i2p_dg2, điều phối với BiglyBT</p>
<p>Thông báo UDP Bittorrent <a href="../../../vi/proposals/160-udp-trackers/">Prop160</a>
: Thiết kế trong từ đầu.
Điều phối với BiglyBT, i2psnark, zzzot</p>
<h3 id="khác">Khác</h3>
<p>Bote: Khó có khả năng di chuyển, không được duy trì tích cực</p>
<p>Streamr: Không ai sử dụng nó, không có kế hoạch di chuyển</p>
<p>Ứng dụng SAM UDP: Không biết</p>
<h2 id="tham-khảo">Tham khảo</h2>
<ul>
<li><a href="../../../vi/docs/api/datagrams/">API</a>
</li>
<li><a href="../../../vi/docs/applications/bittorrent/">BT-SPEC</a>
</li>
<li><a href="../../../vi/docs/specs/common-structures/">Common</a>
</li>
<li><a href="../../../vi/docs/api/datagrams/">DATAGRAMS</a>
</li>
<li><a href="../../../vi/docs/specs/i2cp/">I2CP</a>
</li>
<li><a href="../../../vi/proposals/123-new-netdb-entries/">Prop123</a>
</li>
<li><a href="../../../vi/proposals/160-udp-trackers/">Prop160</a>
</li>
<li><a href="../../../vi/proposals/164-streaming/">Prop164</a>
</li>
<li><a href="../../../vi/docs/specs/streaming/">Streaming</a>
</li>
<li><a href="../../../vi/docs/overview/transport/">TRANSPORT</a>
</li>
<li><a href="../../../vi/docs/specs/implementation/#notes">TUNMSG</a>
</li>
</ul>

                </article>

                
                <nav class="page-nav">
                    <a href="../../../vi/proposals/" class="page-nav-link">
                        ← Back to Proposals
                    </a>
                    
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    <a href="../../../proposals/163-datagram2.txt" class="page-nav-link" download>
                        Download Source (.txt)
                    </a>
                    
                </nav>
            </div>
        </div>
    </div>
</div>

<style>
.proposals-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.proposal-header {
    margin-bottom: var(--spacing-2xl);
}

.proposal-title-section {
    margin-bottom: var(--spacing-lg);
}

.proposal-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-sm) 0;
    color: var(--color-text);
}

.proposal-number {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    font-weight: 600;
}

 
.proposal-meta-box {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg);
}

.proposal-status {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 0.875rem;
    margin-bottom: var(--spacing-md);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

 
.status-open {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-open {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-accepted {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-accepted {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-finished {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-finished {
    background: #164e63;
    color: #86efac;
}

.status-closed {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-closed {
    background: #164e63;
    color: #86efac;
}

.status-rejected {
    background: #fee2e2;
    color: #991b1b;
}

.dark .status-rejected {
    background: #7f1d1d;
    color: #fca5a5;
}

.status-draft,
.status-needs-revision,
.status-dead,
.status-needs-research {
    background: #fef3c7;
    color: #92400e;
}

.dark .status-draft,
.dark .status-needs-revision,
.dark .status-dead,
.dark .status-needs-research {
    background: #78350f;
    color: #fde047;
}

.status-meta,
.status-informational,
.status-reserve {
    background: #e9d5ff;
    color: #6b21a8;
}

.dark .status-meta,
.dark .status-informational,
.dark .status-reserve {
    background: #581c87;
    color: #e879f9;
}

 
.proposal-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

.info-label {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
}

.info-value {
    font-size: 0.9375rem;
    color: var(--color-text);
    font-weight: 500;
}

 
.proposal-relationships {
    border-top: 1px solid var(--color-border);
    padding-top: var(--spacing-md);
}

.relationship {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
}

.relationship:last-child {
    margin-bottom: 0;
}

.relationship-label {
    font-weight: 600;
    color: var(--color-text-muted);
    min-width: 120px;
}

.relationship-value {
    color: var(--color-text);
}

 
.proposal-layout {
    display: block;
}

.proposal-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.proposal-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.proposal-main {
    min-width: 0;
}

 
.proposal-content {
    line-height: 1.8;
    color: var(--color-text);
    max-width: 900px;
}

.proposal-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.proposal-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.proposal-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.proposal-content p {
    margin-bottom: var(--spacing-md);
}

.proposal-content ul,
.proposal-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.proposal-content li {
    margin-bottom: var(--spacing-xs);
}

.proposal-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.proposal-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
    font-size: 0.875rem;
}

.proposal-content pre code {
    background: none;
    padding: 0;
}

.proposal-content blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: var(--spacing-md);
    margin-left: 0;
    margin-bottom: var(--spacing-md);
    font-style: italic;
    color: var(--color-text-secondary);
}

.proposal-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.proposal-content a:hover {
    border-bottom-color: var(--color-primary);
}

.proposal-content table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--spacing-md);
}

.proposal-content table th {
    background: var(--color-bg-secondary);
    padding: var(--spacing-sm);
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid var(--color-border);
}

.proposal-content table td {
    padding: var(--spacing-sm);
    border-bottom: 1px solid var(--color-border);
}

.proposal-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

 
.page-nav {
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.page-nav-link {
    display: inline-block;
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    color: var(--color-text);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
}

 
@media (max-width: 1024px) {
    .proposal-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .proposal-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .proposal-title {
        font-size: 1.75rem;
    }

    .proposal-info-grid {
        grid-template-columns: 1fr;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">Cập nhật tin tức I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="Nhập email của bạn" required>
                            <button type="submit">Đăng ký</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>Liên kết nhanh</h3>
                <ul>
                    <li><a href="../../../vi/financial-support/">Quyên góp</a></li>
                    <li><a href="../../../vi/docs/overview/intro/">Giới thiệu I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Cộng đồng</h3>
                <ul>
                    <li><a href="../../../vi/get-involved/">Tham Gia</a></li>
                    <li><a href="../../../vi/blog/">Blog</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">Diễn đàn chính thức</a></li>
                    <li><a href="../../../vi/contact/">Liên hệ</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Tài nguyên</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">Thống kê I2P</a></li>
                    <li><a href="../../../vi/papers/">Nghiên cứu</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">StormyCloud</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 Dự án Internet Vô hình. Được cấp phép theo Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../vi/privacy/">Quyền riêng tư</a>
                <a href="../../../vi/terms/">Điều khoản</a>
                <a href="../../../vi/about/media/">Báo chí</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="Đóng">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>Thăm dò ý kiến cộng đồng</h2>
            <p class="modal-subtitle">Chúng tôi rất muốn nghe ý kiến từ bạn</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                Phiếu bầu của bạn giúp định hình tương lai của I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>