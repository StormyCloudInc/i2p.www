<!DOCTYPE html>
<html lang="vi" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Hồ Sơ Dịch Vụ trong LS2 | I2P - Dự án Internet vô hình</title>

    <meta name="description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="Hồ Sơ Dịch Vụ trong LS2 | I2P - Dự án Internet vô hình">
    <meta property="og:description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/vi/proposals/167-service-records/">

    
    <link rel="icon" type="image/svg+xml" href="../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">Trang I2P Beta Đã Hoạt Động Gửi báo cáo lỗi tới stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="Đóng banner" title="Đóng banner">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../vi/" class="logo-link">
                    <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../vi/about/" class="">Giới thiệu</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../vi/about/">Tổng quan</a></li>
                            <li><a href="../../../vi/papers/">Bài Nghiên Cứu</a></li>
                            <li><a href="../../../vi/about/media/">Báo chí</a></li>
                            <li><a href="../../../vi/contact/">Liên hệ</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../vi/docs/" class="">Tài liệu</a></li>
                    <li><a href="../../../vi/downloads/" class="">Tải xuống</a></li>
                    <li><a href="../../../vi/blog/" class="">Blog</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../vi/get-involved/" class="">Tham gia</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../vi/get-involved/">Tổng quan</a></li>
                            <li><a href="../../../vi/feedback/">Đề xuất Tính năng</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">vi</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../en/proposals/167-service-records/"
                                class="lang-option">Tiếng Anh</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../es/proposals/167-service-records/"
                                class="lang-option">Tiếng Tây Ban Nha</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ko/proposals/167-service-records/"
                                class="lang-option">Tiếng Hàn</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../zh/proposals/167-service-records/"
                                class="lang-option">Tiếng Trung</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ru/proposals/167-service-records/"
                                class="lang-option">Tiếng Nga</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../cs/proposals/167-service-records/"
                                class="lang-option">Tiếng Séc</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../de/proposals/167-service-records/"
                                class="lang-option">Tiếng Đức</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../fr/proposals/167-service-records/"
                                class="lang-option">Tiếng Pháp</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../tr/proposals/167-service-records/"
                                class="lang-option">Tiếng Thổ Nhĩ Kỳ</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../vi/proposals/167-service-records/"
                                class="lang-option active">Tiếng Việt</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../hi/proposals/167-service-records/"
                                class="lang-option">Tiếng Hindi</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ar/proposals/167-service-records/"
                                class="lang-option">Tiếng Ả Rập</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../pt/proposals/167-service-records/"
                                class="lang-option">Tiếng Bồ Đào Nha</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../vi/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../vi/downloads/" class="btn btn-primary">Tải I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        



<div class="proposals-page">
    <div class="container">
        
        <nav class="breadcrumbs">
            <a href="../../../vi/">Home</a>
            <span class="separator">/</span>
            <a href="../../../vi/proposals/">Proposals</a>
            <span class="separator">/</span>
            <span class="current">Hồ Sơ Dịch Vụ trong LS2</span>
        </nav>

        
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">Bản dịch này được tạo bằng máy học và có thể không chính xác 100%.</span>
    
    
    <a href="../../../en/proposals/167-service-records/" class="disclaimer-link">Xem phiên bản tiếng Anh</a>
    
</div>



        
        <header class="proposal-header">
            <div class="proposal-title-section">
                <h1 class="proposal-title">Hồ Sơ Dịch Vụ trong LS2</h1>
                <div class="proposal-number">Proposal 167</div>
            </div>

            
            <div class="proposal-meta-box">
                <div class="proposal-status status-đã đóng">
                    Đã Đóng
                </div>

                
                <div class="proposal-info-grid">
                    
                    <div class="info-item">
                        <span class="info-label">Author</span>
                        <span class="info-value">zzz, hoặc là, eyedeekay</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Created</span>
                        <span class="info-value">2024-06-22</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Last Updated</span>
                        <span class="info-value">2025-04-03</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Target Version</span>
                        <span class="info-value">0.9.66</span>
                    </div>
                    

                    
                </div>

                
                
            </div>
        </header>

        
        <div class="proposal-layout proposal-layout--with-toc">
            
            
            <aside class="proposal-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#trạng-thái">Trạng Thái</a></li>
    <li><a href="#tổng-quan">Tổng Quan</a></li>
    <li><a href="#đề-xuất-liên-quan-và-các-thay-thế">Đề Xuất Liên Quan và Các Thay Thế</a>
      <ul>
        <li><a href="#danh-sách-dịch-vụ">Danh Sách Dịch Vụ</a></li>
        <li><a href="#gns">GNS</a></li>
        <li><a href="#dot-well-known">Dot well-known</a></li>
        <li><a href="#bản-ghi-mx">Bản Ghi MX</a></li>
      </ul>
    </li>
    <li><a href="#thiết-kế">Thiết Kế</a></li>
    <li><a href="#đặc-tả">Đặc Tả</a>
      <ul>
        <li><a href="#đặc-tả-tùy-chọn-ls2">Đặc Tả Tùy Chọn LS2</a></li>
        <li><a href="#ví-dụ">Ví dụ</a></li>
        <li><a href="#giới-hạn">Giới Hạn</a></li>
        <li><a href="#khác-biệt-so-với-rfc2782">Khác biệt so với <a href="https://datatracker.ietf.org/doc/html/rfc2782">RFC2782</a></a></li>
        <li><a href="#ghi-chú">Ghi chú</a></li>
        <li><a href="#đăng-ký-tên-dịch-vụ">Đăng Ký Tên Dịch Vụ</a></li>
        <li><a href="#đặc-tả-i2cp">Đặc Tả I2CP</a></li>
        <li><a href="#tùy-chọn-cấu-hình">Tùy chọn cấu hình</a></li>
        <li><a href="#bản-tin-hostlookup">Bản Tin HostLookup</a></li>
        <li><a href="#bản-tin-hostreply">Bản Tin HostReply</a></li>
        <li><a href="#đặc-tả-sam">Đặc Tả SAM</a></li>
      </ul>
    </li>
    <li><a href="#thay-thế-tra-cứu-tên">Thay Thế Tra Cứu Tên</a></li>
    <li><a href="#khuyến-nghị">Khuyến Nghị</a></li>
    <li><a href="#các-tính-năng-nâng-cao">Các Tính Năng Nâng Cao</a>
      <ul>
        <li><a href="#tra-cứu-đệ-quy">Tra Cứu Đệ Quy</a></li>
        <li><a href="#các-trường-cụ-thể-theo-ứng-dụng">Các trường cụ thể theo ứng dụng</a></li>
        <li><a href="#các-thay-đổi-cần-thiết-cho-email">Các thay đổi cần thiết cho Email</a></li>
      </ul>
    </li>
    <li><a href="#ghi-chú-triển-khai">Ghi Chú Triển Khai</a></li>
    <li><a href="#phân-tích-bảo-mật">Phân Tích Bảo Mật</a></li>
    <li><a href="#khả-năng-tương-thích">Khả Năng Tương Thích</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="proposal-main">
                <article class="proposal-content">
                    <h2 id="trạng-thái">Trạng Thái</h2>
<p>Được chấp thuận ở lần xem xét thứ 2 ngày 2025-04-01; đặc tả đã được cập nhật; chưa được triển khai.</p>
<h2 id="tổng-quan">Tổng Quan</h2>
<p>I2P không có hệ thống DNS tập trung.
Tuy nhiên, sổ địa chỉ, cùng với hệ thống tên miền b32, cho phép
router tra cứu các đích đến đầy đủ và lấy bộ cho thuê, chứa
danh sách các cổng và khóa để khách hàng có thể kết nối đến đích đó.</p>
<p>Vậy nên, các bộ cho thuê tương tự như một bản ghi DNS. Nhưng hiện tại không có cách nào
để biết nếu máy chủ đó hỗ trợ bất kỳ dịch vụ nào, dù ở đích đó hay ở một đích khác,
theo kiểu tương tự như bản ghi DNS SRV <a href="https://en.wikipedia.org/wiki/SRV_record">SRV</a>
 <a href="https://datatracker.ietf.org/doc/html/rfc2782">RFC2782</a>
.</p>
<p>Ứng dụng đầu tiên có thể là email ngang hàng.
Các ứng dụng khả thi khác: DNS, GNS, máy chủ khóa, cơ quan chứng nhận, máy chủ thời gian,
bittorrent, tiền điện tử, các ứng dụng ngang hàng khác.</p>
<h2 id="đề-xuất-liên-quan-và-các-thay-thế">Đề Xuất Liên Quan và Các Thay Thế</h2>
<h3 id="danh-sách-dịch-vụ">Danh Sách Dịch Vụ</h3>
<p>Đề xuất LS2 123 <a href="../../../vi/proposals/123-new-netdb-entries/">Prop123</a>
 đã định nghĩa &lsquo;hồ sơ dịch vụ&rsquo; mà biểu thị một đích đến
đang tham gia vào một dịch vụ toàn cầu. Các floodfill sẽ tổng hợp các hồ sơ này
thành các &lsquo;danh sách dịch vụ&rsquo; toàn cầu.
Điều này chưa từng được triển khai vì độ phức tạp, thiếu xác thực,
và các lo ngại về bảo mật và spam.</p>
<p>Đề xuất này khác biệt ở chỗ cung cấp tra cứu cho một dịch vụ cho một đích đến cụ thể,
không phải một nhóm các đích toàn cầu cho một dịch vụ toàn cầu.</p>
<h3 id="gns">GNS</h3>
<p>GNS <a href="http://zzz.i2p/topcs/1545">GNS</a>
 đề xuất rằng mọi người điều hành máy chủ DNS của riêng họ.
Đề xuất này mang tính bổ sung, với khả năng sử dụng hồ sơ dịch vụ để chỉ rõ
rằng GNS (hoặc DNS) được hỗ trợ, với tên dịch vụ chuẩn là &ldquo;domain&rdquo; trên cổng 53.</p>
<h3 id="dot-well-known">Dot well-known</h3>
<p>Trong <a href="http://i2pforum.i2p/viewtopic.php?p=3102">DOTWELLKNOWN</a>
 có đề xuất rằng dịch vụ được tra cứu qua một yêu cầu HTTP tới
/.well-known/i2pmail.key. Điều này yêu cầu rằng mỗi dịch vụ phải có một trang web liên quan
để lưu trữ khóa. Hầu hết người dùng không chạy các trang web.</p>
<p>Một cách giải quyết là giả định rằng một dịch vụ cho một địa chỉ b32 thực sự
đang chạy trên địa chỉ b32 đó. Như vậy việc tìm kiếm dịch vụ cho example.i2p yêu cầu
lấy dữ liệu HTTP từ <a href="http://example.i">http://example.i</a>
2p/.well-known/i2pmail.key, nhưng
một dịch vụ cho aaa&hellip;aaa.b32.i2p không cần tra cứu đó, nó có thể chỉ cần kết nối trực tiếp.</p>
<p>Nhưng có sự mơ hồ ở đó, bởi vì example.i2p cũng có thể được địa chỉ bởi b32 của nó.</p>
<h3 id="bản-ghi-mx">Bản Ghi MX</h3>
<p>Bản ghi SRV chỉ đơn giản là một phiên bản tổng quát của bản ghi MX cho bất kỳ dịch vụ nào.
&ldquo;_smtp._tcp&rdquo; là bản ghi &ldquo;MX&rdquo;.
Không cần có bản ghi MX nếu chúng ta có bản ghi SRV, và các bản ghi MX
không đơn độc cung cấp một bản ghi tổng quát cho bất kỳ dịch vụ nào.</p>
<h2 id="thiết-kế">Thiết Kế</h2>
<p>Hồ sơ dịch vụ được đặt trong phần tùy chọn trong LS2 <a href="../../../vi/docs/specs/common-structures/">LS2</a>
.
Phần tùy chọn LS2 hiện đang không được sử dụng.
Không được hỗ trợ cho LS1.
Điều này tương tự như đề xuất băng thông đường hầm <a href="../../../vi/proposals/168-tunnel-bandwidth/">Prop168</a>
,
định nghĩa các tùy chọn cho các bản ghi dịch xây dựng đường hầm.</p>
<p>Để tra cứu địa chỉ dịch vụ cho một hostname cụ thể hoặc b32, router lấy
bộ cho thuê và tra cứu hồ sơ dịch vụ trong các thuộc tính.</p>
<p>Dịch vụ có thể được lưu trữ trên cùng đích với bản thân LS, hoặc có thể tham chiếu
đến một hostname/b32 khác.</p>
<p>Nếu đích đến mục tiêu cho dịch vụ là khác nhau, thì LS mục tiêu cũng phải
bao gồm một hồ sơ dịch vụ, chỉ về chính nó, chỉ ra rằng nó hỗ trợ dịch vụ.</p>
<p>Thiết kế không yêu cầu hỗ trợ đặc biệt hoặc bộ nhớ đệm hay bất kỳ sự thay đổi nào trong floodfills.
Chỉ người xuất bản bộ cho thuê, và khách hàng tra cứu hồ sơ dịch vụ,
phải hỗ trợ những thay đổi này.</p>
<p>Các mở rộng nhỏ I2CP và SAM được đề xuất để hỗ trợ truy xuất
hồ sơ dịch vụ bởi khách hàng.</p>
<h2 id="đặc-tả">Đặc Tả</h2>
<h3 id="đặc-tả-tùy-chọn-ls2">Đặc Tả Tùy Chọn LS2</h3>
<p>Các tùy chọn của LS2 PHẢI được sắp xếp theo khóa, để chữ ký không thay đổi.</p>
<p>Định nghĩa như sau:</p>
<ul>
<li>tùy chọnDịchVụ := khóaTùyChọn giáTrịTùyChọn</li>
<li>khóaTùyChọn := _service._proto</li>
<li>dịch vụ := Tên tượng trưng của dịch vụ mong muốn. Phải viết bằng chữ thường. Ví dụ: &ldquo;smtp&rdquo;.
Các ký tự được phép là [a-z0-9-] và không được bắt đầu hoặc kết thúc bằng &lsquo;-&rsquo;.
Các nhận dạng chuẩn từ <a href="http://www.dns-sd.org/ServiceTypes.html">REGISTRY</a>
 hoặc Linux /etc/services phải được sử dụng nếu có định nghĩa trong đó.</li>
<li>proto := Giao thức truyền của dịch vụ mong muốn. Phải viết bằng chữ thường, hoặc &ldquo;tcp&rdquo; hoặc &ldquo;udp&rdquo;.
&ldquo;tcp&rdquo; có nghĩa là truyền tải dòng và &ldquo;udp&rdquo; có nghĩa là gói dữ liệu có thể đối đáp.
Các chỉ thị giao thức cho gói dữ liệu thô và datagram2 có thể được định nghĩa sau.
Các ký tự được phép là [a-z0-9-] và không được bắt đầu hoặc kết thúc bằng &lsquo;-&rsquo;.</li>
<li>giáTrịTùyChọn := self | srvrecord[,srvrecord]*</li>
<li>self := &ldquo;0&rdquo; ttl port [appoptions]</li>
<li>srvrecord := &ldquo;1&rdquo; ttl priority weight port target [appoptions]</li>
<li>ttl := thời gian sống, số nguyên giây. Số nguyên dương. Ví dụ: &ldquo;86400&rdquo;.
Tối thiểu là 86400 (một ngày) được khuyên dùng, xem Phần Khuyến Nghị bên dưới để biết chi tiết.</li>
<li>priority := Ưu tiên của máy chủ mục tiêu, giá trị thấp hơn có nghĩa là ưu tiên hơn. Số nguyên không âm. Ví dụ: &ldquo;0&rdquo;
Chỉ hữu ích nếu có nhiều hơn một bản ghi, nhưng vẫn cần ngay cả khi chỉ có một bản ghi.</li>
<li>weight := Trọng số tương đối cho các bản ghi cùng một ưu tiên. Giá trị cao hơn có nghĩa là khả năng được chọn cao hơn. Số nguyên không âm. Ví dụ: &ldquo;0&rdquo;
Chỉ hữu ích nếu có nhiều hơn một bản ghi, nhưng vẫn cần ngay cả khi chỉ có một bản ghi.</li>
<li>port := Cổng I2CP mà dịch vụ được tìm thấy. Số nguyên không âm. Ví dụ: &ldquo;25&rdquo;
Cổng 0 được hỗ trợ nhưng không được khuyến nghị.</li>
<li>target := Hostname hoặc b32 của đích cung cấp dịch vụ. Một hostname hợp lệ như trong <a href="../../../vi/docs/overview/naming/">NAMING</a>
. Phải viết bằng chữ thường.
Ví dụ: &ldquo;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.b32.i2p&rdquo; hoặc &ldquo;example.i2p&rdquo;.
b32 được khuyến khích trừ khi hostname là &ldquo;rất quen thuộc&rdquo;, ví dụ trong sổ địa chỉ chính thức hoặc mặc định.</li>
<li>appoptions := văn bản tùy ý cụ thể cho ứng dụng, không được chứa &quot; &quot; hoặc &ldquo;,&rdquo;. Mã hóa là UTF-8.</li>
</ul>
<h3 id="ví-dụ">Ví dụ</h3>
<p>Trong LS2 cho aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.b32.i2p, chỉ về một máy chủ SMTP:</p>
<pre><code>&quot;_smtp._tcp&quot; &quot;1 86400 0 0 25 bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p&quot;
</code></pre>
<p>Trong LS2 cho aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.b32.i2p, chỉ về hai máy chủ SMTP:</p>
<pre><code>&quot;_smtp._tcp&quot; &quot;1 86400 0 0 25 bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p,86400 1 0 25 cccccccccccccccccccccccccccccccccccccccccccc.b32.i2p&quot;
</code></pre>
<p>Trong LS2 cho bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p, chỉ về chính nó như một máy chủ SMTP:</p>
<pre><code>&quot;_smtp._tcp&quot; &quot;0 999999 25&quot;
</code></pre>
<p>Định dạng khả thi cho chuyển tiếp email (xem bên dưới):</p>
<pre><code>&quot;_smtp._tcp&quot; &quot;1 86400 0 0 25 smtp.postman.i2p example@mail.i2p&quot;
</code></pre>
<h3 id="giới-hạn">Giới Hạn</h3>
<p>Định dạng cấu trúc dữ liệu Mapping được sử dụng cho các tùy chọn LS2 giới hạn các khóa và giá trị ở mức tối đa 255 byte (không phải ký tự).
Với một mục tiêu b32, giá trịTùyChọn khoảng 67 byte, nên chỉ có 3 bản ghi sẽ phù hợp.
Có thể chỉ một hoặc hai bản ghi với một trường appoptions dài, hoặc tối đa bốn hoặc năm bản ghi với một hostname ngắn.
Điều này nên đủ; nhiều bản ghi nên hiếm.</p>
<h3 id="khác-biệt-so-với-rfc2782">Khác biệt so với <a href="https://datatracker.ietf.org/doc/html/rfc2782">RFC2782</a>
</h3>
<ul>
<li>Không có dấu chấm ở cuối</li>
<li>Không có tên sau proto</li>
<li>Yêu cầu chữ thường</li>
<li>Ở định dạng văn bản với các bản ghi phân tách bằng dấu phẩy, không phải định dạng nhị phân DNS</li>
<li>Các chỉ báo loại bản ghi khác nhau</li>
<li>Thêm trường appoptions</li>
</ul>
<h3 id="ghi-chú">Ghi chú</h3>
<p>Không cho phép wildcard như (dấu sao), (dấu sao)._tcp, hay _tcp.
Mỗi dịch vụ được hỗ trợ phải có bản ghi riêng của mình.</p>
<h3 id="đăng-ký-tên-dịch-vụ">Đăng Ký Tên Dịch Vụ</h3>
<p>Các định danh không chuẩn mà không được liệt kê trong <a href="http://www.dns-sd.org/ServiceTypes.html">REGISTRY</a>
 hoặc Linux /etc/services
có thể được yêu cầu và thêm vào đặc tả cấu trúc chung <a href="../../../vi/docs/specs/common-structures/">LS2</a>
.</p>
<p>Các định dạng appoptions cụ thể cho dịch vụ cũng có thể được thêm vào đó.</p>
<h3 id="đặc-tả-i2cp">Đặc Tả I2CP</h3>
<p>Giao thức <a href="../../../vi/docs/specs/i2cp/">I2CP</a>
 phải được mở rộng để hỗ trợ tra cứu dịch vụ.
Các mã lỗi MessageStatusMessage và/hoặc HostReplyMessage liên quan đến tra cứu dịch vụ
cần thiết.
Để làm cho cơ sở tra cứu trở nên tổng quát, không chỉ hồ sơ dịch vụ cụ thể,
thiết kế là để hỗ trợ việc lấy tất cả các tùy chọn LS2.</p>
<p>Triển khai: Mở rộng HostLookupMessage để thêm yêu cầu cho
các tùy chọn LS2 cho hash, hostname, và đích đến (loại yêu cầu 2-4).
Mở rộng HostReplyMessage để thêm ánh xạ tùy chọn nếu được yêu cầu.
Mở rộng HostReplyMessage với các mã lỗi bổ sung.</p>
<p>Ánh xạ tùy chọn có thể được lưu đệm hoặc lưu đệm tiêu cực trong một thời gian ngắn ở cả phía khách hàng hoặc router,
tùy thuộc vào việc triển khai. Thời gian tối đa khuyến nghị là một giờ, trừ khi TTL hồ sơ dịch vụ ngắn hơn.
Các hồ sơ dịch vụ có thể được lưu đệm tối đa TTL được chỉ định bởi ứng dụng, khách hàng hoặc router.</p>
<p>Mở rộng đặc tả như sau:</p>
<h3 id="tùy-chọn-cấu-hình">Tùy chọn cấu hình</h3>
<p>Thêm những mục sau vào [I2CP-OPTIONS]</p>
<p>i2cp.leaseSetOption.nnn</p>
<p>Tùy chọn để đưa vào bộ cho thuê. Chỉ có sẵn cho LS2.
nnn bắt đầu với 0. Giá trị tùy chọn chứa &ldquo;key=value&rdquo;.
(không bao gồm ngoặc kép)</p>
<p>Ví dụ:</p>
<pre><code>i2cp.leaseSetOption.0=_smtp._tcp=1 86400 0 0 25 bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p
</code></pre>
<h3 id="bản-tin-hostlookup">Bản Tin HostLookup</h3>
<ul>
<li>Loại tra cứu 2: Tra cứu Hash, yêu cầu ánh xạ tùy chọn</li>
<li>Loại tra cứu 3: Tra cứu Hostname, yêu cầu ánh xạ tùy chọn</li>
<li>Loại tra cứu 4: Tra cứu Đích, yêu cầu ánh xạ tùy chọn</li>
</ul>
<p>Đối với loại tra cứu 4, mục 5 là một Đích.</p>
<h3 id="bản-tin-hostreply">Bản Tin HostReply</h3>
<p>Đối với các loại tra cứu 2-4, router phải lấy bộ cho thuê,
ngay cả khi khóa tra cứu có trong sổ địa chỉ.</p>
<p>Nếu thành công, HostReply sẽ chứa ánh xạ tùy chọn
từ bộ cho thuê và bao gồm nó là mục 5 sau đích đến.
Nếu không có tùy chọn nào trong ánh xạ, hoặc bộ cho thuê là phiên bản 1,
nó sẽ vẫn được bao gồm dưới dạng một ánh xạ rỗng (hai byte: 0 0).
Tất cả các tùy chọn từ bộ cho thuê sẽ được bao gồm, không chỉ các tùy chọn hồ sơ dịch vụ.
Ví dụ, các tùy chọn cho các tham số được định nghĩa trong tương lai có thể có mặt.</p>
<p>Trên lỗi tra cứu bộ cho thuê, câu trả lời sẽ chứa một mã lỗi mới 6 (Leaseset lookup failure)
và sẽ không bao gồm một ánh xạ.
Khi mã lỗi 6 được trả về, trường Đích có thể có hoặc không có mặt.
Nó sẽ có mặt nếu một tra cứu hostname trong sổ địa chỉ đã thành công,
hoặc nếu một tra cứu trước đó đã thành công và kết quả đã được lưu đệm,
hoặc nếu Đích có mặt trong tin nhắn tra cứu (loại tra cứu 4).</p>
<p>Nếu một loại tra cứu không được hỗ trợ,
câu trả lời sẽ chứa một mã lỗi mới 7 (lookup type unsupported).</p>
<h3 id="đặc-tả-sam">Đặc Tả SAM</h3>
<p>Giao thức <a href="../../../vi/docs/api/samv3/">SAMv3</a>
 phải được mở rộng để hỗ trợ tra cứu dịch vụ.</p>
<p>Mở rộng NAMING LOOKUP như sau:</p>
<p>NAMING LOOKUP NAME=example.i2p OPTIONS=true yêu cầu ánh xạ tùy chọn trong câu trả lời.</p>
<p>NAME có thể là một đích đầy đủ base64 khi OPTIONS=true.</p>
<p>Nếu việc tra cứu đích thành công và tùy chọn có mặt trong bộ cho thuê,
thì trong câu trả lời, sau đích đến,
sẽ là một hoặc nhiều tùy chọn dưới dạng OPTION:key=value.
Mỗi tùy chọn sẽ có một tiền tố OPTION: riêng biệt.
Tất cả các tùy chọn từ bộ cho thuê sẽ được bao gồm, không chỉ các tùy chọn hồ sơ dịch vụ.
Ví dụ, các tùy chọn cho các tham số được định nghĩa trong tương lai có thể có mặt.
Ví dụ:</p>
<pre><code>NAMING REPLY RESULT=OK NAME=example.i2p VALUE=base64dest OPTION:_smtp._tcp=&quot;1 86400 0 0 25 bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p&quot;
</code></pre>
<p>Các khóa chứa &lsquo;=&rsquo; và các khóa hoặc giá trị chứa một dòng mới,
được coi là không hợp lệ và cặp khóa/giá trị sẽ bị loại bỏ khỏi câu trả lời.</p>
<p>Nếu không có tùy chọn nào được tìm thấy trong bộ cho thuê, hoặc nếu bộ cho thuê là phiên bản 1,
thì câu trả lời sẽ không bao gồm bất kỳ tùy chọn nào.</p>
<p>Nếu OPTIONS=true có trong tra cứu, và bộ cho thuê không được tìm thấy, một giá trị kết quả mới LEASESET_NOT_FOUND sẽ được trả về.</p>
<h2 id="thay-thế-tra-cứu-tên">Thay Thế Tra Cứu Tên</h2>
<p>Một thiết kế thay thế đã được xem xét, để hỗ trợ tra cứu các dịch vụ
như một hostname đầy đủ, ví dụ: _smtp.<em>tcp.example.i2p,
bằng cách cập nhật <a href="../../../vi/docs/overview/naming/">NAMING</a>
 để chỉ định cách xử lý các hostname bắt đầu với &lsquo;</em>&rsquo;.
Điều này đã bị từ chối vì hai lý do:</p>
<ul>
<li>Các thay đổi I2CP và SAM vẫn cần thiết để truyền qua thông tin TTL và cổng cho khách hàng.</li>
<li>Nó sẽ không phải là một công cụ tổng quát có thể dùng để lấy các tùy chọn LS2 khác
có thể được định nghĩa trong tương lai.</li>
</ul>
<h2 id="khuyến-nghị">Khuyến Nghị</h2>
<p>Máy chủ nên chỉ định TTL ít nhất là 86400, và cổng chuẩn cho ứng dụng.</p>
<h2 id="các-tính-năng-nâng-cao">Các Tính Năng Nâng Cao</h2>
<h3 id="tra-cứu-đệ-quy">Tra Cứu Đệ Quy</h3>
<p>Có thể mong muốn hỗ trợ các tra cứu đệ quy, nơi mà mỗi bộ cho thuê liên tiếp
được kiểm tra cho hồ sơ dịch vụ chỉ đến một bộ cho thuê khác, theo kiểu DNS.
Điều này có lẽ không cần thiết, ít nhất trong một lần triển khai ban đầu.</p>
<p>TODO</p>
<h3 id="các-trường-cụ-thể-theo-ứng-dụng">Các trường cụ thể theo ứng dụng</h3>
<p>Có thể mong muốn có dữ liệu ứng dụng cụ thể trong hồ sơ dịch vụ.
Ví dụ, người điều hành example.i2p có thể muốn chỉ định rằng email nên
được chuyển tiếp đến <a href="mailto:example@mail.i2p">example@mail.i2p</a>
. Phần &ldquo;example@&rdquo; cần nằm trong một trường riêng
của hồ sơ dịch vụ, hoặc được loại bỏ khỏi mục tiêu.</p>
<p>Ngay cả khi người điều hành chạy dịch vụ email của riêng mình, anh ta có thể muốn chỉ định rằng
email nên được gửi đến <a href="mailto:example@example.i2p">example@example.i2p</a>
. Hầu hết các dịch vụ I2P do một người điều hành.
Vì vậy, có thể hữu ích có một trường riêng ở đây.</p>
<p>TODO làm thế nào để làm điều này theo cách tổng quát</p>
<h3 id="các-thay-đổi-cần-thiết-cho-email">Các thay đổi cần thiết cho Email</h3>
<p>Ngoài phạm vi của đề xuất này. Xem <a href="http://i2pforum.i2p/viewtopic.php?p=3102">DOTWELLKNOWN</a>
 để có thảo luận.</p>
<h2 id="ghi-chú-triển-khai">Ghi Chú Triển Khai</h2>
<p>Lưu đệm hồ sơ dịch vụ lên đến TTL có thể được thực hiện bởi router hoặc ứng dụng,
tùy thuộc vào việc triển khai. Có lưu đệm lâu dài hay không cũng tùy thuộc vào việc triển khai.</p>
<p>Các tra cứu cũng phải tra cứu bộ cho thuê mục tiêu và xác minh rằng nó chứa một hồ sơ &ldquo;self&rdquo;
trước khi trả về đích đến mục tiêu cho khách hàng.</p>
<h2 id="phân-tích-bảo-mật">Phân Tích Bảo Mật</h2>
<p>Vì bộ cho thuê được ký, bất kỳ hồ sơ dịch vụ nào trong đó đều được xác thực bởi khóa ký của đích đến.</p>
<p>Các hồ sơ dịch vụ là công khai và nhìn thấy được bởi floodfills, trừ khi bộ cho thuê được mã hóa.
Bất kỳ router nào yêu cầu bộ cho thuê sẽ có thể thấy các hồ sơ dịch vụ.</p>
<p>Một hồ sơ SRV khác &ldquo;self&rdquo; (tức là, một hồ sơ chỉ đến một mục tiêu hostname/b32 khác)
không yêu cầu sự đồng ý của hostname/b32 được chỉ định.
Không rõ nếu việc chuyển hướng một dịch vụ đến một đích tùy ý có thể tạo điều kiện cho một
cuộc tấn công nào đó, hay mục đích của một cuộc tấn công như vậy sẽ là gì.
Tuy nhiên, đề xuất này giảm thiểu một cuộc tấn công như vậy bằng cách yêu cầu rằng
mục tiêu cũng phải công bố một hồ sơ SRV &ldquo;self&rdquo;. Những người triển khai phải kiểm tra cho một hồ sơ &ldquo;self&rdquo;
trong bộ cho thuê của mục tiêu.</p>
<h2 id="khả-năng-tương-thích">Khả Năng Tương Thích</h2>
<p>LS2: Không có vấn đề. Tất cả các triển khai đã biết hiện tại đều bỏ qua trường tùy chọn trong LS2,
và bỏ qua chính xác một trường tùy chọn không rỗng.
Điều này đã được xác minh trong thử nghiệm bởi cả Java I2P và i2pd trong quá trình phát triển LS2.
LS2 đã được triển khai trong 0.9.38 vào năm 2016 và được hỗ trợ tốt bởi tất cả các triển khai router.
Thiết kế không yêu cầu hỗ trợ đặc biệt hoặc lưu đệm hay bất kỳ sự thay đổi nào trong floodfills.</p>
<p>Naming: &lsquo;_&rsquo; không phải là một ký tự hợp lệ trong các hostname của i2p.</p>
<p>I2CP: Các loại tra cứu 2-4 không nên được gửi đến các router dưới phiên bản API tối thiểu
mà nó được hỗ trợ (TBD).</p>
<p>SAM: Máy chủ Java SAM bỏ qua các khóa/giá trị bổ sung như OPTIONS=true.
i2pd cũng nên vậy, cần được xác minh.
Khách hàng SAM sẽ không nhận được các giá trị bổ sung trong câu trả lời trừ khi được yêu cầu với OPTIONS=true.
Không cần tăng phiên bản.</p>

                </article>

                
                <nav class="page-nav">
                    <a href="../../../vi/proposals/" class="page-nav-link">
                        ← Back to Proposals
                    </a>
                    
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    <a href="../../../proposals/167-service-records.txt" class="page-nav-link" download>
                        Download Source (.txt)
                    </a>
                    
                </nav>
            </div>
        </div>
    </div>
</div>

<style>
.proposals-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.proposal-header {
    margin-bottom: var(--spacing-2xl);
}

.proposal-title-section {
    margin-bottom: var(--spacing-lg);
}

.proposal-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-sm) 0;
    color: var(--color-text);
}

.proposal-number {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    font-weight: 600;
}

 
.proposal-meta-box {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg);
}

.proposal-status {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 0.875rem;
    margin-bottom: var(--spacing-md);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

 
.status-open {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-open {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-accepted {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-accepted {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-finished {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-finished {
    background: #164e63;
    color: #86efac;
}

.status-closed {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-closed {
    background: #164e63;
    color: #86efac;
}

.status-rejected {
    background: #fee2e2;
    color: #991b1b;
}

.dark .status-rejected {
    background: #7f1d1d;
    color: #fca5a5;
}

.status-draft,
.status-needs-revision,
.status-dead,
.status-needs-research {
    background: #fef3c7;
    color: #92400e;
}

.dark .status-draft,
.dark .status-needs-revision,
.dark .status-dead,
.dark .status-needs-research {
    background: #78350f;
    color: #fde047;
}

.status-meta,
.status-informational,
.status-reserve {
    background: #e9d5ff;
    color: #6b21a8;
}

.dark .status-meta,
.dark .status-informational,
.dark .status-reserve {
    background: #581c87;
    color: #e879f9;
}

 
.proposal-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

.info-label {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
}

.info-value {
    font-size: 0.9375rem;
    color: var(--color-text);
    font-weight: 500;
}

 
.proposal-relationships {
    border-top: 1px solid var(--color-border);
    padding-top: var(--spacing-md);
}

.relationship {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
}

.relationship:last-child {
    margin-bottom: 0;
}

.relationship-label {
    font-weight: 600;
    color: var(--color-text-muted);
    min-width: 120px;
}

.relationship-value {
    color: var(--color-text);
}

 
.proposal-layout {
    display: block;
}

.proposal-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.proposal-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.proposal-main {
    min-width: 0;
}

 
.proposal-content {
    line-height: 1.8;
    color: var(--color-text);
    max-width: 900px;
}

.proposal-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.proposal-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.proposal-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.proposal-content p {
    margin-bottom: var(--spacing-md);
}

.proposal-content ul,
.proposal-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.proposal-content li {
    margin-bottom: var(--spacing-xs);
}

.proposal-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.proposal-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
    font-size: 0.875rem;
}

.proposal-content pre code {
    background: none;
    padding: 0;
}

.proposal-content blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: var(--spacing-md);
    margin-left: 0;
    margin-bottom: var(--spacing-md);
    font-style: italic;
    color: var(--color-text-secondary);
}

.proposal-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.proposal-content a:hover {
    border-bottom-color: var(--color-primary);
}

.proposal-content table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--spacing-md);
}

.proposal-content table th {
    background: var(--color-bg-secondary);
    padding: var(--spacing-sm);
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid var(--color-border);
}

.proposal-content table td {
    padding: var(--spacing-sm);
    border-bottom: 1px solid var(--color-border);
}

.proposal-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

 
.page-nav {
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.page-nav-link {
    display: inline-block;
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    color: var(--color-text);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
}

 
@media (max-width: 1024px) {
    .proposal-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .proposal-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .proposal-title {
        font-size: 1.75rem;
    }

    .proposal-info-grid {
        grid-template-columns: 1fr;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">Cập nhật tin tức I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="Nhập email của bạn" required>
                            <button type="submit">Đăng ký</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>Liên kết nhanh</h3>
                <ul>
                    <li><a href="../../../vi/financial-support/">Quyên góp</a></li>
                    <li><a href="../../../vi/docs/overview/intro/">Giới thiệu I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Cộng đồng</h3>
                <ul>
                    <li><a href="../../../vi/get-involved/">Tham Gia</a></li>
                    <li><a href="../../../vi/blog/">Blog</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">Diễn đàn chính thức</a></li>
                    <li><a href="../../../vi/contact/">Liên hệ</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Tài nguyên</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">Thống kê I2P</a></li>
                    <li><a href="../../../vi/papers/">Nghiên cứu</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">StormyCloud</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 Dự án Internet Vô hình. Được cấp phép theo Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../vi/privacy/">Quyền riêng tư</a>
                <a href="../../../vi/terms/">Điều khoản</a>
                <a href="../../../vi/about/media/">Báo chí</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="Đóng">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>Thăm dò ý kiến cộng đồng</h2>
            <p class="modal-subtitle">Chúng tôi rất muốn nghe ý kiến từ bạn</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                Phiếu bầu của bạn giúp định hình tương lai của I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>