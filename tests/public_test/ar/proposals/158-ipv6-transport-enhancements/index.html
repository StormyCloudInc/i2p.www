<!DOCTYPE html>
<html lang="ar" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>تحسينات نقل IPv6 | I2P - مشروع الإنترنت غير المرئي</title>

    <meta name="description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="تحسينات نقل IPv6 | I2P - مشروع الإنترنت غير المرئي">
    <meta property="og:description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/ar/proposals/158-ipv6-transport-enhancements/">

    
    <link rel="icon" type="image/svg+xml" href="../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">موقع I2P التجريبي متاح الآن - أرسل المشاكل إلى stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="إغلاق الشريط" title="إغلاق الشريط">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../ar/" class="logo-link">
                    <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../ar/about/" class="">حول</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ar/about/">نظرة عامة</a></li>
                            <li><a href="../../../ar/papers/">أبحاث</a></li>
                            <li><a href="../../../ar/about/media/">الصحافة</a></li>
                            <li><a href="../../../ar/contact/">اتصل بنا</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../ar/docs/" class="">المستندات</a></li>
                    <li><a href="../../../ar/downloads/" class="">التنزيلات</a></li>
                    <li><a href="../../../ar/blog/" class="">مدونة</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../ar/get-involved/" class="">شارك معنا</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ar/get-involved/">نظرة عامة</a></li>
                            <li><a href="../../../ar/feedback/">اقتراحات الميزات</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">ar</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../en/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">الإنجليزية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../es/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">الإسبانية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ko/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">الكورية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../zh/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">الصينية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ru/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">الروسية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../cs/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">التشيكية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../de/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">الألمانية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../fr/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">الفرنسية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../tr/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">التركية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../vi/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">الفيتنامية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../hi/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">الهندية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ar/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option active">العربية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../pt/proposals/158-ipv6-transport-enhancements/"
                                class="lang-option">البرتغالية</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../ar/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../ar/downloads/" class="btn btn-primary">احصل على I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        



<div class="proposals-page">
    <div class="container">
        
        <nav class="breadcrumbs">
            <a href="../../../ar/">Home</a>
            <span class="separator">/</span>
            <a href="../../../ar/proposals/">Proposals</a>
            <span class="separator">/</span>
            <span class="current">تحسينات نقل IPv6</span>
        </nav>

        
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">تم إنشاء هذه الترجمة باستخدام التعلم الآلي وقد لا تكون دقيقة بنسبة 100%.</span>
    
    
    <a href="../../../en/proposals/158-ipv6-transport-enhancements/" class="disclaimer-link">عرض النسخة الإنجليزية</a>
    
</div>



        
        <header class="proposal-header">
            <div class="proposal-title-section">
                <h1 class="proposal-title">تحسينات نقل IPv6</h1>
                <div class="proposal-number">Proposal 158</div>
            </div>

            
            <div class="proposal-meta-box">
                <div class="proposal-status status-مغلق">
                    مغلق
                </div>

                
                <div class="proposal-info-grid">
                    
                    <div class="info-item">
                        <span class="info-label">Author</span>
                        <span class="info-value">zzz, orignal</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Created</span>
                        <span class="info-value">2021-03-19</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Last Updated</span>
                        <span class="info-value">2021-04-26</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Target Version</span>
                        <span class="info-value">0.9.50</span>
                    </div>
                    

                    
                </div>

                
                
            </div>
        </header>

        
        <div class="proposal-layout proposal-layout--with-toc">
            
            
            <aside class="proposal-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#ملاحظة">ملاحظة</a></li>
    <li><a href="#نظرة-عامة">نظرة عامة</a></li>
    <li><a href="#الدافع">الدافع</a>
      <ul>
        <li><a href="#فحص-الاتصال">فحص الاتصال</a></li>
        <li><a href="#مقدمو-ipv6">مقدمو IPv6</a></li>
        <li><a href="#مقدمات-ipv6">مقدمات IPv6</a></li>
        <li><a href="#مخططات-المقدمة">مخططات المقدمة</a></li>
      </ul>
    </li>
    <li><a href="#التصميم">التصميم</a></li>
    <li><a href="#المواصفات">المواصفات</a>
      <ul>
        <li><a href="#قدرات-46">قدرات 4/6</a></li>
        <li><a href="#مقدمي-ipv6-لـ-ipv4">مقدمي IPv6 لـ IPv4</a></li>
        <li><a href="#مقدمات-ipv6-1">مقدمات IPv6</a></li>
      </ul>
    </li>
    <li><a href="#الانتقال">الانتقال</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="proposal-main">
                <article class="proposal-content">
                    <h2 id="ملاحظة">ملاحظة</h2>
<p>نشر الشبكة والاختبار قيد التقدم.
عرضة لتعديلات طفيفة.</p>
<h2 id="نظرة-عامة">نظرة عامة</h2>
<p>الغرض من هذه المقترح هو تنفيذ تحسينات على وسائل النقل SSU وNTCP2 لـ IPv6.</p>
<h2 id="الدافع">الدافع</h2>
<p>مع نمو انتشار IPv6 حول العالم وزيادة انتشار إعدادات IPv6 فقط (خاصة على الأجهزة المحمولة)،
نحتاج إلى تحسين دعمنا لـ IPv6 وإزالة الافتراضات بأن
جميع الأجهزة الراوتير تدعم IPv4.</p>
<h3 id="فحص-الاتصال">فحص الاتصال</h3>
<p>عند اختيار الأقران لإنشاء الأنفاق، أو اختيار مسارات OBEP/IBGW لتوجيه الرسائل،
يساعد ذلك في حساب ما إذا كان يمكن للموجه A الاتصال بالموجه B.
بشكل عام، هذا يعني تحديد ما إذا كان A لديه القدرة على الإرسال الخارجي لنوع النقل والعنوان (IPv4/v6)
الذي يطابق أحد العناوين الداخل المحددة من B.</p>
<p>ومع ذلك، في كثير من الحالات لا نعرف قدرات A وعلينا افتراضها.
إذا كان A مخفياً أو خلف جدار ناري، فإن العناوين لا تُنشر، ولا نملك معرفة مباشرة -
لذلك نفترض أنه يدعم IPv4 ولا يدعم IPv6.
الحل هو إضافة &ldquo;قدرات&rdquo; أو قدرات جديدة في معلومات الموجه للإشارة إلى القدرة على الإرسال الخارجي لـ IPv4 وIPv6.</p>
<h3 id="مقدمو-ipv6">مقدمو IPv6</h3>
<p>تحتوي مواصفاتنا <a href="../../../ar/docs/specs/ssu2/">SSU</a>
 و<a href="../../../ar/docs/legacy/ssu/">SSU-SPEC</a>
 على أخطاء وعدم تناسق بشأن ما إذا كانت
دعم مقدمي IPv6 لمقدمات IPv4.
على أي حال، لم يتم تنفيذ ذلك في Java I2P أو i2pd.
يجب تصحيح هذا.</p>
<h3 id="مقدمات-ipv6">مقدمات IPv6</h3>
<p>توضح مواصفاتنا <a href="../../../ar/docs/specs/ssu2/">SSU</a>
 و<a href="../../../ar/docs/legacy/ssu/">SSU-SPEC</a>
 بوضوح أن
مقدمات IPv6 غير مدعومة.
كان هذا تحت افتراض أن IPv6 ليس خلف جدار ناري.
من الواضح أن هذا ليس صحيحًا، ونحتاج إلى تحسين دعم أجهزة التوجيه IPv6 الموجودة خلف جدار ناري.</p>
<h3 id="مخططات-المقدمة">مخططات المقدمة</h3>
<p>الأسطورة: &mdash;&ndash; هو IPv4, ====== هو IPv6</p>
<p>حاليًا فقط IPv4:</p>
<pre tabindex="0"><code>      Alice                         Bob                  Charlie
  RelayRequest ----------------------&gt;
       &lt;-------------- RelayResponse    RelayIntro -----------&gt;
       &lt;-------------------------------------------- HolePunch
  SessionRequest --------------------------------------------&gt;
       &lt;-------------------------------------------- SessionCreated
  SessionConfirmed ------------------------------------------&gt;
  Data &lt;--------------------------------------------------&gt; Data
</code></pre><p>تقديم IPv4، مقدم IPv6</p>
<pre tabindex="0"><code>Alice                         Bob                  Charlie
  RelayRequest ======================&gt;
       &lt;============== RelayResponse    RelayIntro -----------&gt;
       &lt;-------------------------------------------- HolePunch
  SessionRequest --------------------------------------------&gt;
       &lt;-------------------------------------------- SessionCreated
  SessionConfirmed ------------------------------------------&gt;
  Data &lt;--------------------------------------------------&gt; Data
</code></pre><p>تقديم IPv6، مقدم IPv6</p>
<pre tabindex="0"><code>Alice                         Bob                  Charlie
  RelayRequest ======================&gt;
       &lt;============== RelayResponse    RelayIntro ===========&gt;
       &lt;============================================ HolePunch
  SessionRequest ============================================&gt;
       &lt;============================================ SessionCreated
  SessionConfirmed ==========================================&gt;
  Data &lt;==================================================&gt; Data
</code></pre><p>تقديم IPv6، مقدم IPv4</p>
<pre tabindex="0"><code>Alice                         Bob                  Charlie
  RelayRequest ----------------------&gt;
       &lt;-------------- RelayResponse    RelayIntro ===========&gt;
       &lt;============================================ HolePunch
  SessionRequest ============================================&gt;
       &lt;============================================ SessionCreated
  SessionConfirmed ==========================================&gt;
  Data &lt;==================================================&gt; Data
</code></pre><h2 id="التصميم">التصميم</h2>
<p>هناك ثلاثة تغييرات يجب تنفيذها.</p>
<ul>
<li>إضافة قدرات &ldquo;4&rdquo; و&quot;6&quot; إلى قدرات عنوان الموجه للإشارة إلى دعم الإرسال الخارجي لـ IPv4 وIPv6</li>
<li>إضافة دعم لمقدمات IPv4 عبر مقدمي IPv6</li>
<li>إضافة دعم لمقدمات IPv6 عبر مقدمي IPv4 وIPv6</li>
</ul>
<h2 id="المواصفات">المواصفات</h2>
<h3 id="قدرات-46">قدرات 4/6</h3>
<p>تم تنفيذ هذا في الأصل دون اقتراح رسمي، لكنه مطلوب لـ
مقدمات IPv6، لذلك ندرجه هنا.
انظر أيضًا <a href="http://zzz.i2p/topics/3050">CAPS</a>
.</p>
<p>تم تعريف قدرات &ldquo;4&rdquo; و&quot;6&quot; جديدة.
ستتم إضافة هذه القدرات الجديدة إلى خاصية &ldquo;caps&rdquo; في عنوان الموجه، وليس في قدرات معلومات الموجه.
حاليًا، ليس لدينا خاصية &ldquo;caps&rdquo; محددة لـ NTCP2.
عنوان SSU مع مقدمي هو حاليًا، بتعريفه، IPv4. لا ندعم مقدمة IPv6 على الإطلاق.
ومع ذلك، فإن هذا المقترح متوافق مع مقدمات IPv6. انظر بالأسفل.</p>
<p>بالإضافة إلى ذلك، قد يدعم الموجه الاتصال عبر شبكة تراكب مثل I2P-over-Yggdrasil،
ولكن لا يرغب في نشر عنوان، أو أن هذا العنوان لا يحتوي على تنسيق IPv4 أو IPv6 قياسي.
يجب أن يكون هذا النظام القدرات الجديد مرنًا بما يكفي لدعم هذه الشبكات أيضًا.</p>
<p>نقوم بتعريف التغييرات التالية:</p>
<p>NTCP2: إضافة خاصية &ldquo;caps&rdquo;</p>
<p>SSU: إضافة دعم لعنوان الموجه بدون مضيف أو مقدمي، للإشارة إلى دعم الإرسال الخارجي
لـ IPv4 أو IPv6 أو كلاهما.</p>
<p>كلا النقلين: تعريف قيم القدرات الكمالية:</p>
<ul>
<li>&ldquo;4&rdquo;: دعم IPv4</li>
<li>&ldquo;6&rdquo;: دعم IPv6</li>
</ul>
<p>قد يتم دعم قيم متعددة في عنوان واحد. انظر بالأسفل.
على الأقل، يجب أن يكون واحد من هذه القدرات إلزاميًا إذا لم يتم تضمين قيمة &ldquo;المضيف&rdquo; في عنوان الموجه.
على الأكثر، يمكن اعتبار أحد هذه القدرات اختياريًا إذا تم تضمين قيمة &ldquo;المضيف&rdquo; في عنوان الموجه.
يمكن تعريف قدرات النقل الإضافية في المستقبل للإشارة إلى الدعم لشبكات التراكب أو للاتصال الآخر.</p>
<h4 id="حالات-الاستخدام-والأمثلة">حالات الاستخدام والأمثلة</h4>
<p>SSU:</p>
<p>SSU مع مضيف: 4/6 اختياري، ولا يتم تضمين أكثر من واحدة.
مثال: SSU caps=&ldquo;4&rdquo; host=&ldquo;1.2.3.4&rdquo; key=&hellip; port=&ldquo;1234&rdquo;</p>
<p>SSU للإرسال الخارجي فقط لواحدة، الأخر منشور: قدرات فقط، 4/6.
مثال: SSU caps=&ldquo;6&rdquo;</p>
<p>SSU مع مقدمي: لا يتم الدمج. 4 أو 6 مطلوب.
مثال: SSU caps=&ldquo;4&rdquo; iexp0=&hellip; ihost0=&hellip; iport0=&hellip; itag0=&hellip; key=&hellip;</p>
<p>SSU مخفي: قدرات فقط، 4 أو 6 أو 46. متعدد مسموح.
لا حاجة لعناوين اثنين واحد مع 4 وآخر مع 6.
مثال: SSU caps=&ldquo;46&rdquo;</p>
<p>NTCP2:</p>
<p>NTCP2 مع مضيف: 4/6 اختياري، ولا يتم تضمين أكثر من واحدة.
مثال: NTCP2 caps=&ldquo;4&rdquo; host=&ldquo;1.2.3.4&rdquo; i=&hellip; port=&ldquo;1234&rdquo; s=&hellip; v=&ldquo;2&rdquo;</p>
<p>NTCP2 للإرسال الخارجي فقط لواحدة، الأخرى منشورة: قدرات، s، v فقط، 4/6/y، مسموح متعدد.
مثال: NTCP2 caps=&ldquo;6&rdquo; i=&hellip; s=&hellip; v=&ldquo;2&rdquo;</p>
<p>NTCP2 مخفي: قدرات، s، v فقط 4/6، متعدد مسموح لا حاجة لعناوين اثنين واحد مع 4 وآخر مع 6.
مثال: NTCP2 caps=&ldquo;46&rdquo; i=&hellip; s=&hellip; v=&ldquo;2&rdquo;</p>
<h3 id="مقدمي-ipv6-لـ-ipv4">مقدمي IPv6 لـ IPv4</h3>
<p>التغييرات التالية مطلوبة لتصحيح الأخطاء وعدم الاتساق في المواصفات.
لقد وصفنا ذلك أيضًا بـ &ldquo;الجزء 1&rdquo; من المقترح.</p>
<h4 id="تغييرات-المواصفات">تغييرات المواصفات</h4>
<p><a href="../../../ar/docs/specs/ssu2/">SSU</a>
 يقول حاليًا (ملاحظات IPv6):</p>
<p>يدعم IPv6 اعتبارًا من الإصدار 0.9.8. قد تكون عناوين النشر إما IPv4 أو IPv6، ويمكن أن يكون الاتصال بين Alice وBob عبر IPv4 أو IPv6.</p>
<p>إضافة ما يلي:</p>
<p>بينما تم تغيير المواصفات اعتبارًا من الإصدار 0.9.8، لم يكن الاتصال بين Alice وBob عبر IPv6 مدعومًا حتى الإصدار 0.9.50.
نشرت الإصدارات الأقدم من أجهزة التوجيه جافا بطريقة خاطئة قدرات &ldquo;C&rdquo; لعناوين IPv6،
حتى وإن لم تكن في الواقع تعمل كمقدم عبر IPv6.
لذلك، يجب أن تثق أجهزة التوجيه فقط في قدرة &ldquo;C&rdquo; على عنوان IPv6 إذا كان إصدار الجهاز 0.9.50 أو أعلى.</p>
<p><a href="../../../ar/docs/legacy/ssu/">SSU-SPEC</a>
 يقول حاليًا (طلب التوجيه):</p>
<p>يتم تضمين عنوان IP فقط إذا كان مختلفًا عن عنوان المصدر ورقم المنفذ للحزمة.
في التنفيذ الحالي، طول IP دائماً 0 ورقم المنفذ دائماً 0،
ويجب أن يستخدم المستلم عنوان المصدر ورقم المنفذ للحزمة.
يمكن إرسال هذه الرسالة عبر IPv4 أو IPv6. إذا كان IPv6، يجب أن يتضمن Alice عنوان IPv4 ورقم المنفذ.</p>
<p>إضافة ما يلي:</p>
<p>يجب تضمين عنوان IP ورقم المنفذ لتقديم عنوان IPv4 عند إرسال هذه الرسالة عبر IPv6.
يتم دعم هذا اعتبارًا من الإصدار 0.9.50.</p>
<h3 id="مقدمات-ipv6-1">مقدمات IPv6</h3>
<p>تحتوي جميع الرسائل التوجيهية الثلاثة لـ SSU (RelayRequest وRelayResponse وRelayIntro) على حقول طول IP
لتحديد طول عنوان IP (Alice أو Bob أو Charlie) الذي يليه.</p>
<p>لذلك، لا حاجة لتغيير تنسيق الرسائل.
فقط تغييرات نصية على المواصفات، مشيرة إلى أن عناوين IP بطول 16 بايت مسموحة.</p>
<p>التغييرات التالية مطلوبة للمواصفات.
لقد وصفنا ذلك أيضًا بـ &ldquo;الجزء 2&rdquo; من المقترح.</p>
<h4 id="تغييرات-المواصفات-1">تغييرات المواصفات</h4>
<p><a href="../../../ar/docs/specs/ssu2/">SSU</a>
 يقول حاليًا (ملاحظات IPv6):</p>
<p>الاتصال بين Bob وCharlie وبين Alice وCharlie عن طريق IPv4 فقط.</p>
<p><a href="../../../ar/docs/legacy/ssu/">SSU-SPEC</a>
 يقول حاليًا (طلب التوجيه):</p>
<p>لا توجد خطط لتنفيذ التوجيه لـ IPv6.</p>
<p>تغيير ليقول:</p>
<p>يتم دعم التوجيه لـ IPv6 اعتبارًا من الإصدار 0.9.xx</p>
<p><a href="../../../ar/docs/legacy/ssu/">SSU-SPEC</a>
 يقول حاليًا (استجابة التوجيه):</p>
<p>يجب أن يكون عنوان IP لشخصية Charlie هو IPv4، حيث أن هذا هو العنوان الذي سترسل إليه Alice طلب الجلسة بعد ثقبة الجدار.
لا توجد خطط لتنفيذ التوجيه لـ IPv6.</p>
<p>تغيير ليقول:</p>
<p>يمكن أن يكون عنوان IP لشخصية Charlie هو IPv4 أو، اعتبارًا من الإصدار 0.9.xx، IPv6.
هذا هو العنوان الذي سترسل إليه Alice طلب الجلسة بعد ثقبة الجدار.
يتم دعم التوجيه لـ IPv6 اعتبارًا من الإصدار 0.9.xx</p>
<p><a href="../../../ar/docs/legacy/ssu/">SSU-SPEC</a>
 يقول حاليًا (مقدمة التوجيه):</p>
<p>عنوان IP لـAlice هو دائمًا 4 بايت في التنفيذ الحالي، لأن Alice تحاول الاتصال بـCharlie عبر IPv4.
يجب إرسال هذه الرسالة عبر اتصال IPv4، لأن هذا هو السبيل الوحيد الذي يعرف Bob فيه عنوان IPv4 لـCharlie للعودة إلى Alice في استجابة التوجيه.</p>
<p>تغيير ليقول:</p>
<p>بالنسبة لـ IPv4، عنوان IP لـAlice يكون دائمًا 4 بايت، لأن Alice تحاول الاتصال بـCharlie عبر IPv4.
اعتبارًا من الإصدار 0.9.xx، يتم دعم IPv6، ويمكن أن يكون عنوان IP لـAlice 16 بايت.</p>
<p>بالنسبة لـ IPv4، يجب إرسال هذه الرسالة عبر اتصال IPv4، لأن هذا هو السبيل الوحيد الذي يعرف Bob فيه عنوان IPv4 لـCharlie للعودة إلى Alice في استجابة التوجيه.
اعتبارًا من الإصدار 0.9.xx، يتم دعم IPv6، ويمكن إرسال هذه الرسالة عبر اتصال IPv6.</p>
<p>إضافة أيضًا:</p>
<p>اعتبارًا من الإصدار 0.9.xx، يجب أن يحتوي أي عنوان SSU منشور مع مقدمي على &ldquo;4&rdquo; أو &ldquo;6&rdquo; في خيار &ldquo;caps&rdquo;.</p>
<h2 id="الانتقال">الانتقال</h2>
<p>يجب على جميع الأجهزة القديمة تجاهل خاصية القدرات في NTCP2، والشخصيات القدرات غير المعروفة في خاصية القدرات SSU.</p>
<p>أي عنوان SSU مع مقدمي لا يحتوي على قدرات &ldquo;4&rdquo; أو &ldquo;6&rdquo; يفترض أنه إعدادات IPv4 فقط.</p>

                </article>

                
                <nav class="page-nav">
                    <a href="../../../ar/proposals/" class="page-nav-link">
                        ← Back to Proposals
                    </a>
                    
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    <a href="../../../proposals/158-ipv6-transport-enhancements.txt" class="page-nav-link" download>
                        Download Source (.txt)
                    </a>
                    
                </nav>
            </div>
        </div>
    </div>
</div>

<style>
.proposals-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.proposal-header {
    margin-bottom: var(--spacing-2xl);
}

.proposal-title-section {
    margin-bottom: var(--spacing-lg);
}

.proposal-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-sm) 0;
    color: var(--color-text);
}

.proposal-number {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    font-weight: 600;
}

 
.proposal-meta-box {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg);
}

.proposal-status {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 0.875rem;
    margin-bottom: var(--spacing-md);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

 
.status-open {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-open {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-accepted {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-accepted {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-finished {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-finished {
    background: #164e63;
    color: #86efac;
}

.status-closed {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-closed {
    background: #164e63;
    color: #86efac;
}

.status-rejected {
    background: #fee2e2;
    color: #991b1b;
}

.dark .status-rejected {
    background: #7f1d1d;
    color: #fca5a5;
}

.status-draft,
.status-needs-revision,
.status-dead,
.status-needs-research {
    background: #fef3c7;
    color: #92400e;
}

.dark .status-draft,
.dark .status-needs-revision,
.dark .status-dead,
.dark .status-needs-research {
    background: #78350f;
    color: #fde047;
}

.status-meta,
.status-informational,
.status-reserve {
    background: #e9d5ff;
    color: #6b21a8;
}

.dark .status-meta,
.dark .status-informational,
.dark .status-reserve {
    background: #581c87;
    color: #e879f9;
}

 
.proposal-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

.info-label {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
}

.info-value {
    font-size: 0.9375rem;
    color: var(--color-text);
    font-weight: 500;
}

 
.proposal-relationships {
    border-top: 1px solid var(--color-border);
    padding-top: var(--spacing-md);
}

.relationship {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
}

.relationship:last-child {
    margin-bottom: 0;
}

.relationship-label {
    font-weight: 600;
    color: var(--color-text-muted);
    min-width: 120px;
}

.relationship-value {
    color: var(--color-text);
}

 
.proposal-layout {
    display: block;
}

.proposal-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.proposal-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.proposal-main {
    min-width: 0;
}

 
.proposal-content {
    line-height: 1.8;
    color: var(--color-text);
    max-width: 900px;
}

.proposal-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.proposal-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.proposal-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.proposal-content p {
    margin-bottom: var(--spacing-md);
}

.proposal-content ul,
.proposal-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.proposal-content li {
    margin-bottom: var(--spacing-xs);
}

.proposal-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.proposal-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
    font-size: 0.875rem;
}

.proposal-content pre code {
    background: none;
    padding: 0;
}

.proposal-content blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: var(--spacing-md);
    margin-left: 0;
    margin-bottom: var(--spacing-md);
    font-style: italic;
    color: var(--color-text-secondary);
}

.proposal-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.proposal-content a:hover {
    border-bottom-color: var(--color-primary);
}

.proposal-content table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--spacing-md);
}

.proposal-content table th {
    background: var(--color-bg-secondary);
    padding: var(--spacing-sm);
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid var(--color-border);
}

.proposal-content table td {
    padding: var(--spacing-sm);
    border-bottom: 1px solid var(--color-border);
}

.proposal-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

 
.page-nav {
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.page-nav-link {
    display: inline-block;
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    color: var(--color-text);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
}

 
@media (max-width: 1024px) {
    .proposal-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .proposal-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .proposal-title {
        font-size: 1.75rem;
    }

    .proposal-info-grid {
        grid-template-columns: 1fr;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">ابقَ على اطلاع بأخبار I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="أدخل بريدك الإلكتروني" required>
                            <button type="submit">اشترك</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>روابط سريعة</h3>
                <ul>
                    <li><a href="../../../ar/financial-support/">تبرع</a></li>
                    <li><a href="../../../ar/docs/overview/intro/">مقدمة I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>المجتمع</h3>
                <ul>
                    <li><a href="../../../ar/get-involved/">شارك معنا</a></li>
                    <li><a href="../../../ar/blog/">مدونة</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">المنتديات الرسمية</a></li>
                    <li><a href="../../../ar/contact/">اتصل بنا</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>الموارد</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">إحصائيات I2P</a></li>
                    <li><a href="../../../ar/papers/">بحث</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">ستورمي كلاود</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 مشروع الإنترنت الخفي. مرخص تحت Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../ar/privacy/">الخصوصية</a>
                <a href="../../../ar/terms/">الشروط</a>
                <a href="../../../ar/about/media/">الصحافة</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="إغلاق">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>استطلاع المجتمع</h2>
            <p class="modal-subtitle">نود أن نسمع منك</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                يساعد تصويتك في تشكيل مستقبل I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>