<!DOCTYPE html>
<html lang="ar" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>سجلات الخدمة في LS2 | I2P - مشروع الإنترنت غير المرئي</title>

    <meta name="description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="سجلات الخدمة في LS2 | I2P - مشروع الإنترنت غير المرئي">
    <meta property="og:description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/ar/proposals/167-service-records/">

    
    <link rel="icon" type="image/svg+xml" href="../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">موقع I2P التجريبي متاح الآن - أرسل المشاكل إلى stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="إغلاق الشريط" title="إغلاق الشريط">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../ar/" class="logo-link">
                    <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../ar/about/" class="">حول</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ar/about/">نظرة عامة</a></li>
                            <li><a href="../../../ar/papers/">أبحاث</a></li>
                            <li><a href="../../../ar/about/media/">الصحافة</a></li>
                            <li><a href="../../../ar/contact/">اتصل بنا</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../ar/docs/" class="">المستندات</a></li>
                    <li><a href="../../../ar/downloads/" class="">التنزيلات</a></li>
                    <li><a href="../../../ar/blog/" class="">مدونة</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../ar/get-involved/" class="">شارك معنا</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ar/get-involved/">نظرة عامة</a></li>
                            <li><a href="../../../ar/feedback/">اقتراحات الميزات</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">ar</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../en/proposals/167-service-records/"
                                class="lang-option">الإنجليزية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../es/proposals/167-service-records/"
                                class="lang-option">الإسبانية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ko/proposals/167-service-records/"
                                class="lang-option">الكورية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../zh/proposals/167-service-records/"
                                class="lang-option">الصينية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ru/proposals/167-service-records/"
                                class="lang-option">الروسية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../cs/proposals/167-service-records/"
                                class="lang-option">التشيكية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../de/proposals/167-service-records/"
                                class="lang-option">الألمانية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../fr/proposals/167-service-records/"
                                class="lang-option">الفرنسية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../tr/proposals/167-service-records/"
                                class="lang-option">التركية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../vi/proposals/167-service-records/"
                                class="lang-option">الفيتنامية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../hi/proposals/167-service-records/"
                                class="lang-option">الهندية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ar/proposals/167-service-records/"
                                class="lang-option active">العربية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../pt/proposals/167-service-records/"
                                class="lang-option">البرتغالية</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../ar/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../ar/downloads/" class="btn btn-primary">احصل على I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        



<div class="proposals-page">
    <div class="container">
        
        <nav class="breadcrumbs">
            <a href="../../../ar/">Home</a>
            <span class="separator">/</span>
            <a href="../../../ar/proposals/">Proposals</a>
            <span class="separator">/</span>
            <span class="current">سجلات الخدمة في LS2</span>
        </nav>

        
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">تم إنشاء هذه الترجمة باستخدام التعلم الآلي وقد لا تكون دقيقة بنسبة 100%.</span>
    
    
    <a href="../../../en/proposals/167-service-records/" class="disclaimer-link">عرض النسخة الإنجليزية</a>
    
</div>



        
        <header class="proposal-header">
            <div class="proposal-title-section">
                <h1 class="proposal-title">سجلات الخدمة في LS2</h1>
                <div class="proposal-number">Proposal 167</div>
            </div>

            
            <div class="proposal-meta-box">
                <div class="proposal-status status-مغلق">
                    مغلق
                </div>

                
                <div class="proposal-info-grid">
                    
                    <div class="info-item">
                        <span class="info-label">Author</span>
                        <span class="info-value">zzz، orignal، eyedeekay</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Created</span>
                        <span class="info-value">2024-06-22</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Last Updated</span>
                        <span class="info-value">2025-04-03</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Target Version</span>
                        <span class="info-value">0.9.66</span>
                    </div>
                    

                    
                </div>

                
                
            </div>
        </header>

        
        <div class="proposal-layout proposal-layout--with-toc">
            
            
            <aside class="proposal-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#الحالة">الحالة</a></li>
    <li><a href="#نظرة-عامة">نظرة عامة</a></li>
    <li><a href="#الاقتراحات-والبدائل-المتعلقة">الاقتراحات والبدائل المتعلقة</a>
      <ul>
        <li><a href="#قوائم-الخدمة">قوائم الخدمة</a></li>
        <li><a href="#gns">GNS</a></li>
        <li><a href="#dot-well-known">Dot well-known</a></li>
        <li><a href="#سجلات-mx">سجلات MX</a></li>
      </ul>
    </li>
    <li><a href="#التصميم">التصميم</a></li>
    <li><a href="#المواصفات">المواصفات</a>
      <ul>
        <li><a href="#مواصفات-خيار-ls2">مواصفات خيار LS2</a></li>
        <li><a href="#أمثلة">أمثلة</a></li>
        <li><a href="#الحدود">الحدود</a></li>
        <li><a href="#الاختلافات-عن-rfc2782">الاختلافات عن <a href="https://datatracker.ietf.org/doc/html/rfc2782">RFC2782</a></a></li>
        <li><a href="#ملاحظات">ملاحظات</a></li>
        <li><a href="#سجل-أسماء-الخدمة">سجل أسماء الخدمة</a></li>
        <li><a href="#مواصفات-i2cp">مواصفات I2CP</a></li>
        <li><a href="#خيارات-الإعداد">خيارات الإعداد</a></li>
        <li><a href="#رسالة-hostlookup">رسالة HostLookup</a></li>
        <li><a href="#رسالة-hostreply">رسالة HostReply</a></li>
        <li><a href="#مواصفات-sam">مواصفات SAM</a></li>
      </ul>
    </li>
    <li><a href="#بديل-lookup-naming">بديل Lookup Naming</a></li>
    <li><a href="#التوصيات">التوصيات</a></li>
    <li><a href="#الميزات-المتقدمة">الميزات المتقدمة</a>
      <ul>
        <li><a href="#عمليات-البحث-المتكررة">عمليات البحث المتكررة</a></li>
        <li><a href="#الحقول-الخاصة-بالتطبيق">الحقول الخاصة بالتطبيق</a></li>
        <li><a href="#التغييرات-المطلوبة-للبريد-الإلكتروني">التغييرات المطلوبة للبريد الإلكتروني</a></li>
      </ul>
    </li>
    <li><a href="#ملاحظات-التنفيذ">ملاحظات التنفيذ</a></li>
    <li><a href="#تحليل-الأمان">تحليل الأمان</a></li>
    <li><a href="#التوافق">التوافق</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="proposal-main">
                <article class="proposal-content">
                    <h2 id="الحالة">الحالة</h2>
<p>تمت الموافقة في المراجعة الثانية 2025-04-01؛ تم تحديث المواصفات؛ لم يتم تنفيذها بعد.</p>
<h2 id="نظرة-عامة">نظرة عامة</h2>
<p>لا يوجد نظام DNS مركزي في I2P. ومع ذلك، يتيح دفتر العناوين، جنبًا إلى جنب مع نظام اسم المضيف b32، لجهاز التوجيه البحث عن وجهات كاملة وجلب مجموعات الإيجار، التي تحتوي على قائمة بالبوابات والمفاتيح بحيث يمكن للعملاء الاتصال بتلك الوجهة.</p>
<p>لذا، فإن مجموعات الإيجار تشبه إلى حد ما سجل DNS. لكن لا يوجد حاليًا وسيلة لمعرفة ما إذا كان ذلك المضيف يدعم أي خدمات، سواء على تلك الوجهة أو على وجهة مختلفة، بطريقة مشابهة لسجلات DNS SRV <a href="https://en.wikipedia.org/wiki/SRV_record">SRV</a>
 <a href="https://datatracker.ietf.org/doc/html/rfc2782">RFC2782</a>
.</p>
<p>قد يكون التطبيق الأول لهذا هو البريد الإلكتروني النظير للنظير. تطبيقات أخرى محتملة: DNS، GNS، خوادم المفاتيح، سلطات الشهادات، خوادم الوقت، تورنت، العملات المشفرة، تطبيقات نظير لنظير أخرى.</p>
<h2 id="الاقتراحات-والبدائل-المتعلقة">الاقتراحات والبدائل المتعلقة</h2>
<h3 id="قوائم-الخدمة">قوائم الخدمة</h3>
<p>عرّف اقتراح LS2 123 <a href="../../../ar/proposals/123-new-netdb-entries/">Prop123</a>
 سجلات الخدمة التي أشارت إلى أن الوجهة كانت تشارك في خدمة عالمية. كانت الفودفيل تجمع هذه السجلات في قوائم خدمة عالمية. لم يتم تنفيذ هذا أبدًا بسبب التعقيد، ونقص المصادقة، والمخاوف الأمنية، والبريد العشوائي.</p>
<p>هذا الاقتراح يختلف في أنه يوفر البحث عن خدمة لوجهة محددة، وليس مجموعة وجهات عالمية لخدمة عالمية ما.</p>
<h3 id="gns">GNS</h3>
<p>يقترح GNS <a href="http://zzz.i2p/topcs/1545">GNS</a>
 أن يدير الجميع خادم DNS خاص بهم. هذا الاقتراح مكمل، حيث يمكننا استخدام سجلات الخدمة لتحديد ما إذا كان يتم دعم GNS (أو DNS)، مع اسم خدمة قياسي &ldquo;domain&rdquo; على المنفذ 53.</p>
<h3 id="dot-well-known">Dot well-known</h3>
<p>في <a href="http://i2pforum.i2p/viewtopic.php?p=3102">DOTWELLKNOWN</a>
 يُقترح أن يتم البحث عن الخدمات عبر طلب HTTP إلى /.well-known/i2pmail.key. يتطلب ذلك أن يكون لكل خدمة موقع ويب ذو صلة لاستضافة المفتاح. معظم المستخدمين لا يديرون مواقع ويب.</p>
<p>إحدى الحلول البديلة هي افتراض أن خدمة لعنوان b32 تعمل فعليًا على ذلك العنوان b32. بحيث أن البحث عن الخدمة للــ example.i2p يتطلب جلب HTTP من <a href="http://example.i">http://example.i</a>
2p/.well-known/i2pmail.key، ولكن الخدمة للـ aaa&hellip;aaa.b32.i2p لا تتطلب ذلك البحث، يمكن فقط الاتصال مباشرة.</p>
<p>لكن هناك غموض هنا، لأن example.i2p يمكن الإشارة إليه أيضًا بواسطة b32.</p>
<h3 id="سجلات-mx">سجلات MX</h3>
<p>سجلات SRV هي ببساطة نسخة عامة من سجلات MX لأي خدمة. &ldquo;_smtp._tcp&rdquo; هو سجل &ldquo;MX&rdquo;. لا حاجة لسجلات MX إذا كان لدينا سجلات SRV، وسجلات MX وحدها لا توفر سجلًا عامًا لأي خدمة.</p>
<h2 id="التصميم">التصميم</h2>
<p>يتم وضع سجلات الخدمة في قسم الخيارات في LS2 <a href="../../../ar/docs/specs/common-structures/">LS2</a>
. قسم خيارات LS2 حاليًا غير مستخدم. غير مدعوم لـ LS1. هذا مشابه لاقتراح عرض النفق [Prop168]، الذي يحدد الخيارات لسجلات بناء النفق.</p>
<p>للبحث عن عنوان خدمة لاسم مضيف محدد أو b32، يقوم الراوتر بجلب مجموعة الإيجار ويبحث عن سجل الخدمة في الخصائص.</p>
<p>قد يتم استضافة الخدمة على نفس الوجهة مثل LS نفسها، أو قد تشير إلى اسم مضيف/b32 مختلف.</p>
<p>إذا كانت الوجهة المستهدفة للخدمة مختلفة، فيجب أن تتضمن أيضًا مجموعة الأهداف المستهدفة أيضًا سجل الخدمة، مشيرة إلى نفسها، وأنها تدعم الخدمة.</p>
<p>التصميم لا يتطلب دعمًا خاصًا أو تخزينًا مؤقتًا أو أي تغييرات في الفودفيل. يجب فقط أن يقوم ناشر مجموعة الإيجار والعميل الذي يبحث عن سجل الخدمة بدعم هذه التغييرات.</p>
<p>يتم اقتراح امتدادات طفيفة لـ I2CP وSAM لتسهيل استرجاع سجلات الخدمة من قبل العملاء.</p>
<h2 id="المواصفات">المواصفات</h2>
<h3 id="مواصفات-خيار-ls2">مواصفات خيار LS2</h3>
<p>يجب أن تكون خيارات LS2 مرتبة حسب المفتاح، بحيث تكون التوقيع غير متغير.</p>
<p>يتم تعريفها كالتالي:</p>
<ul>
<li>serviceoption := optionkey optionvalue</li>
<li>optionkey := _service._proto</li>
<li>service := اسم رمزي للخدمة المطلوبة. يجب أن يكون بأحرف صغيرة. مثال: &ldquo;smtp&rdquo;. يُسمح بالأحرف [a-z0-9-] ولا يجب أن تبدأ أو تنتهي بـ &lsquo;-&rsquo;. يجب استخدام المعرفات القياسية من <a href="http://www.dns-sd.org/ServiceTypes.html">REGISTRY</a>
 أو /etc/services في Linux إذا كانت معرفة هناك.</li>
<li>proto := بروتوكول النقل للخدمة المطلوبة. يجب أن يكون بأحرف صغيرة، إما &ldquo;tcp&rdquo; أو &ldquo;udp&rdquo;. &ldquo;tcp&rdquo; تعني التدفق و&quot;udp&quot; تعني رزم يمكن الرد عليها. قد يتم تعريف مؤشرات البروتوكول للرزم الخام وdatagram2 لاحقًا. يُسمح بالأحرف [a-z0-9-] ولا يجب أن تبدأ أو تنتهي بـ &lsquo;-&rsquo;.</li>
<li>optionvalue := self | srvrecord[,srvrecord]*</li>
<li>self := &ldquo;0&rdquo; ttl port [appoptions]</li>
<li>srvrecord := &ldquo;1&rdquo; ttl priority weight port target [appoptions]</li>
<li>ttl := عمر البقاء، عدد صحيح بالثواني. عدد صحيح موجب. مثال: &ldquo;86400&rdquo;. يوصى بحد أدنى قدره 86400 (يوم واحد)، راجع قسم التوصيات أدناه للحصول على التفاصيل.</li>
<li>priority := أولوية المضيف المستهدف، القيمة الأدنى تعني تفضيلاً أكبر. عدد صحيح غير سالب. مثال: &ldquo;0&rdquo;. مفيد فقط إذا كان هناك أكثر من سجل واحد، لكن مطلوب حتى إذا كان هناك سجل واحد فقط.</li>
<li>weight := وزن نسبي للسجلات ذات نفس الأولوية. القيمة الأعلى تعني فرصة أكبر في الاقتناء. عدد صحيح غير سالب. مثال: &ldquo;0&rdquo;. مفيد فقط إذا كان هناك أكثر من سجل واحد، لكن مطلوب حتى إذا كان هناك سجل واحد فقط.</li>
<li>port := منفذ I2CP الذي يمكن العثور فيه على الخدمة. عدد صحيح غير سالب. مثال: &ldquo;25&rdquo;. المنفذ 0 مدعوم ولكن غير موصى به.</li>
<li>target := اسم المضيف أو b32 للوجهة التي تقدم الخدمة. اسم المضيف صالح كما في <a href="../../../ar/docs/overview/naming/">NAMING</a>
. يجب أن يكون بأحرف صغيرة. مثال: &ldquo;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.b32.i2p&rdquo; أو &ldquo;example.i2p&rdquo;. يوصى باستخدام b32 ما لم يكن اسم المضيف &ldquo;معروفًا&rdquo;، أي في دفاتر العناوين الرسمية أو الافتراضية.</li>
<li>appoptions := نص تعسفي خاص بالتطبيق، يجب أن لا يحتوي على &quot; &quot; أو &ldquo;,&rdquo;. الترميز هو UTF-8.</li>
</ul>
<h3 id="أمثلة">أمثلة</h3>
<p>في LS2 لـ aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.b32.i2p، تشير إلى خادم SMTP واحد:</p>
<pre><code>&quot;_smtp._tcp&quot; &quot;1 86400 0 0 25 bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p&quot;
</code></pre>
<p>في LS2 لـ aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.b32.i2p، تشير إلى خادمين SMTP:</p>
<pre><code>&quot;_smtp._tcp&quot; &quot;1 86400 0 0 25 bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p,86400 1 0 25 cccccccccccccccccccccccccccccccccccccccccccc.b32.i2p&quot;
</code></pre>
<p>في LS2 لـ bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p، تشير إلى نفسها كخادم SMTP:</p>
<pre><code>&quot;_smtp._tcp&quot; &quot;0 999999 25&quot;
</code></pre>
<p>التنسيق المحتمل لإعادة توجيه البريد الإلكتروني (انظر أدناه):</p>
<pre><code>&quot;_smtp._tcp&quot; &quot;1 86400 0 0 25 smtp.postman.i2p example@mail.i2p&quot;
</code></pre>
<h3 id="الحدود">الحدود</h3>
<p>صيغة هيكل البيانات المستخدمة لخيارات LS2 تحد الحدود للمفاتيح والقيم إلى 255 بايت (وليس رموز) بحد أقصى. مع هدف b32، تكون قيمة الخيار حوالي 67 بايت، لذلك يمكن فقط لثلاثة سجلات أن تتسع. ربما سجل واحد أو اثنان مع حقل appoptions طويل، أو حتى أربعة أو خمسة مع اسم مضيف قصير. ينبغي أن يكون ذلك كافياً؛ يجب أن تكون السجلات المتعددة نادرة.</p>
<h3 id="الاختلافات-عن-rfc2782">الاختلافات عن <a href="https://datatracker.ietf.org/doc/html/rfc2782">RFC2782</a>
</h3>
<ul>
<li>لا نقاط لاحقة</li>
<li>لا يوجد اسم بعد الـ proto</li>
<li>يتطلب أحرفًا صغيرة</li>
<li>في صيغة نصية مع سجلات مفصولة بفواصل، وليس في صيغة DNS الثنائية</li>
<li>مؤشرات نوع سجل مختلفة</li>
<li>حقل appoptions إضافي</li>
</ul>
<h3 id="ملاحظات">ملاحظات</h3>
<p>لا يُسمح بأي تعميم مثل (asterisk)، (asterisk)._tcp، أو _tcp. يجب أن يكون لكل خدمة مدعومة سجل خاص بها.</p>
<h3 id="سجل-أسماء-الخدمة">سجل أسماء الخدمة</h3>
<p>المعرفات غير القياسية التي ليست مدرجة في <a href="http://www.dns-sd.org/ServiceTypes.html">REGISTRY</a>
 أو /etc/services في Linux يمكن طلبها وإضافتها إلى مواصفات الهيكل المشترك <a href="../../../ar/docs/specs/common-structures/">LS2</a>
.</p>
<p>يمكن أيضًا إضافة تنسيقات حقل appoptions خاصة بالخدمة هناك.</p>
<h3 id="مواصفات-i2cp">مواصفات I2CP</h3>
<p>يجب توسيع بروتوكول <a href="../../../ar/docs/specs/i2cp/">I2CP</a>
 لدعم عمليات البحث عن الخدمة. مطلوب رموز خطأ إضافية لـ MessageStatusMessage أو HostReplyMessage المتعلقة ببحث الخدمة. لجعل ميزة البحث عامة، وليست محددة بسجلات الخدمة فقط، التصميم هو دعم استرجاع جميع خيارات LS2.</p>
<p>التنفيذ: تمديد HostLookupMessage لإضافة طلب للحصول على خيارات LS2 للهاش، اسم المضيف، والوجهة (أنواع الطلب 2-4). تمديد HostReplyMessage لإضافة تعيين الخيارات إذا طُلب. تمديد HostReplyMessage مع رموز خطأ إضافية.</p>
<p>يمكن تخزين تعيينات الخيارات مؤقتًا أو بشكل مؤقت لقصير الوقت على جانب العميل أو جهاز التوجيه، حسب تنفيذ القرار. الحد الأقصى الموصى به للوقت هو ساعة واحدة، إلا إذا كان TTL سجل الخدمة أقصر. يمكن تخزين سجلات الخدمة مؤقتًا حتى TTL المحدد بواسطة التطبيق أو العميل أو جهاز التوجيه.</p>
<p>مدد المواصفات كالتالي:</p>
<h3 id="خيارات-الإعداد">خيارات الإعداد</h3>
<p>إضافة ما يلي إلى [I2CP-OPTIONS]</p>
<p>i2cp.leaseSetOption.nnn</p>
<p>الخيارات المراد وضعها في مجموعة الإيجار. متاح فقط لـ LS2. يبدأ nnn من 0. تحتوي قيمة الخيار على &ldquo;key=value&rdquo;. (لا تشمل الاقتباسات)</p>
<p>مثال:</p>
<pre><code>i2cp.leaseSetOption.0=_smtp._tcp=1 86400 0 0 25 bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p
</code></pre>
<h3 id="رسالة-hostlookup">رسالة HostLookup</h3>
<ul>
<li>نوع البحث 2: البحث عن الهاش، طلب تعيين الخيارات</li>
<li>نوع البحث 3: البحث عن اسم المضيف، طلب تعيين الخيارات</li>
<li>نوع البحث 4: البحث عن الوجهة، طلب تعيين الخيارات</li>
</ul>
<p>لن تكون الوجهة</p>
<ul>
<li>مطلب نوع البحث 4، البند 5 هو أحد الوجهات</li>
</ul>
<h3 id="رسالة-hostreply">رسالة HostReply</h3>
<p>بالنسبة لأنواع البحث 2-4، يجب أن يجلب جهاز الراوتر مجموعة الإيجار، حتى لو كان مفتاح البحث موجودًا في دفتر العناوين.</p>
<p>إذا كان ناجحًا، ستحتوي رسالت روزلة الاستضافة على تعيين الخيارات من مجموعة الإيجار، وتضمينه كبند 5 بعد الوجهة. إذا لم تكن هناك خيارات في مجموعة التعيين، أو كانت مجموعة الإيجار في الإصدار 1، فستبقى مشمولة كتعيين فارغ (بايتان: 0 0). سيتم تضمين جميع الخيارات من مجموعة الإيجار، وليس فقط خيارات سجل الخدمة. على سبيل المثال، قد تكون الخيارات للمعاملات المحددة في المستقبل موجودة.</p>
<p>في حالة فشل البحث في مجموعة الإيجار، ستكون الاستجابة تحتوي على رمز خطأ جديد 6 (فشل البحث في مجموعة الإيجار) ولن تشمل التعيين. عند إرجاع رمز الخطأ 6، قد تكون الحقل الوجهة موجودًا أو لا. سيكون موجودًا إذا كان بحث الاسم المضيف في دفتر العناوين ناجحًا، أو إذا كان بحث سابق ناجح ونتج عنه التخزين المؤقت، أو إذا كانت الوجهة موجودة في رسالة البحث (نوع البحث 4).</p>
<p>إذا لم يكن نوع البحث مدعومًا، فستكون الاستجابة تحتوي على رمز خطأ جديد 7 (نوع البحث غير مدعوم).</p>
<h3 id="مواصفات-sam">مواصفات SAM</h3>
<p>يجب توسيع بروتوكول <a href="../../../ar/docs/api/samv3/">SAMv3</a>
 لدعم عمليات البحث عن الخدمة.</p>
<p>يمد NAMING LOOKUP كما يلي:</p>
<p>NAMING LOOKUP NAME=example.i2p OPTIONS=true يطلب تعيين الخيارات في الرد.</p>
<p>قد يكون NAME هو وجهة base64 كاملة عندما OPTIONS=true.</p>
<p>إذا كانت البحث عن الوجهة ناجحًا وكانت الخيارات موجودة في مجموعة الإيجار، فإنه في الرد، ستأتي بعد الوجهة، خيارات في شكل OPTION:key=value. كل خيار سيكون لديه Prefix OPTION: منفصل. سيتم تضمين جميع الخيارات من مجموعة الإيجار، وليس فقط خيارات سجل الخدمة. على سبيل المثال، قد تكون الخيارات للمعاملات المحددة في المستقبل موجودة. مثال:</p>
<pre><code>NAMING REPLY RESULT=OK NAME=example.i2p VALUE=base64dest OPTION:_smtp._tcp=&quot;1 86400 0 0 25 bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.b32.i2p&quot;
</code></pre>
<p>المفاتيح التي تحتوي على &lsquo;=&rsquo;، والمفاتيح أو القيم التي تحتوي على سطر جديد، تعتبر غير صالحة وسيتم إزالة زوج المفتاح والقيمة من الرد.</p>
<p>إذا لم تكن هناك خيارات موجودة في مجموعة الإيجار، أو كانت مجموعة الإيجار الإصدار 1، فلن تتضمن الاستجابة أي خيارات.</p>
<p>إذا كانت OPTIONS=true موجودة في البحث، ولم يتم العثور على مجموعة الإيجار، سيتم إرجاع قيمة نتيجة جديدة LEASESET_NOT_FOUND.</p>
<h2 id="بديل-lookup-naming">بديل Lookup Naming</h2>
<p>تم النظر في تصميم بديل، لدعم البحث عن الخدمات كاسم مضيف كامل، على سبيل المثال _smtp.<em>tcp.example.i2p، عن طريق تحديث <a href="../../../ar/docs/overview/naming/">NAMING</a>
 لتحديد معالجة لأسماء المضيفين التي تبدأ بـ &lsquo;</em>&rsquo;. تم رفض ذلك لسببين:</p>
<ul>
<li>لا تزال تغييرات I2CP وSAM ضرورية لتمرير معلومات TTL والمنفذ إلى العميل.</li>
<li>لن يكون مرفقًا عامًا يمكن استخدامه لاسترجاع خيارات LS2 الأخرى التي يمكن تعريفها في المستقبل.</li>
</ul>
<h2 id="التوصيات">التوصيات</h2>
<p>ينبغي أن تحدد الخوادم TTL لا يقل عن 86400، و المنفذ القياسي للتطبيق.</p>
<h2 id="الميزات-المتقدمة">الميزات المتقدمة</h2>
<h3 id="عمليات-البحث-المتكررة">عمليات البحث المتكررة</h3>
<p>قد يكون من المرغوب دعم عمليات البحث المتكررة، حيث يتم التحقق من كل مجموعة إجار متتالية لسجل الخدمة الذي يشير إلى مجموعة إجار أخرى، على طريقة DNS. هذا ربما ليس ضروريًا، على الأقل في التنفيذ المبدئي.</p>
<p>TODO</p>
<h3 id="الحقول-الخاصة-بالتطبيق">الحقول الخاصة بالتطبيق</h3>
<p>قد يكون من المرغوب وجود بيانات خاصة بالتطبيق في سجل الخدمة. على سبيل المثال، قد يرغب مشغل example.i2p في الإشارة إلى أن البريد الإلكتروني يجب أن يُعاد توجيهه إلى <a href="mailto:example@mail.i2p">example@mail.i2p</a>
. الجزء &ldquo;example@&rdquo; قد يحتاج إلى أن يكون في حقل منفصل في سجل الخدمة، أو أن يتم تجريده من الهدف.</p>
<p>حتى إذا كان المشغل يدير خدمته البريدية الخاصة به، قد يرغب في الإشارة إلى أن البريد الإلكتروني يجب أن يتم إرساله إلى <a href="mailto:example@example.i2p">example@example.i2p</a>
. معظم خدمات I2P تدار بواسطة شخص واحد. لذا قد يكون حقل منفصل مساعدًا هنا أيضًا.</p>
<p>TODO كيفية القيام بذلك بطريقة عامة</p>
<h3 id="التغييرات-المطلوبة-للبريد-الإلكتروني">التغييرات المطلوبة للبريد الإلكتروني</h3>
<p>خارج نطاق هذا الاقتراح. انظر <a href="http://i2pforum.i2p/viewtopic.php?p=3102">DOTWELLKNOWN</a>
 لمناقشة.</p>
<h2 id="ملاحظات-التنفيذ">ملاحظات التنفيذ</h2>
<p>يمكن أن يتم تخزين سجلات الخدمة مؤقتًا حتى TTL بواسطة الراوتر أو التطبيق، حسب تنفيذ القرار. سواء لتخزينها مؤقتًا بشكل دائم يعتمد أيضًا على تنفيذ القرار.</p>
<p>يجب أن تتم عمليات البحث أيضًا على مجموعة الإيجار المستهدفة والتحقق من أنها تحتوي على سجل &ldquo;self&rdquo; قبل إرجاع الوجهة المستهدفة إلى العميل.</p>
<h2 id="تحليل-الأمان">تحليل الأمان</h2>
<p>حيث أن مجموعة الإيجار موقعة، فأي سجل خدمة ضمنها مصادق بواسطة مفتاح توقيع الوجهة.</p>
<p>سجلات الخدمة تكون عامة ومرئية للفودفيل، ما لم تكن مجموعة الإيجار مشفرة. سيكون أي راوتر يطلب مجموعة الإيجار قادرًا على رؤية سجلات الخدمة.</p>
<p>لا يتطلب سجل SRV بخلاف &ldquo;self&rdquo; (بمعنى آخر، الذي يشير إلى هدف اسم مضيف/b32 مختلف) موافقة من اسم المضيف/b32 المستهدف. من غير الواضح ما إذا كان إعادة توجيه للخدمة إلى وجهة عشوائية يمكن أن يسهل نوعًا ما من الهجوم، أو ما هو هدف مثل هذا الهجوم. ومع ذلك، يُخفف هذا الاقتراح من مثل هذا الهجوم بمتطلبات أن تقوم أيضًا مجموعة الهدف بإصدار سجل SRV &ldquo;self&rdquo;. يجب على المنفذين فحص وجود سجل &ldquo;self&rdquo; في مجموعة الإيجار الخاصة بالهدف.</p>
<h2 id="التوافق">التوافق</h2>
<p>LS2: لا توجد قضايا. تتجاهل جميع تنفيذات المعروفة حاليًا الحقل الخيارات في LS2، وتخطي بشكل صحيح عبر حقل الخيارات غير الفارغ. تم التحقق من ذلك في الاختبار بواسطة كل من Java I2P وi2pd خلال تطوير LS2. تم تنفيذ LS2 في 0.9.38 في عام 2016 ويدعمها بشكل جيد جميع تنفيذات الراوتر. التصميم لا يتطلب دعمًا خاصًا أو تخزينًا مؤقتًا أو أي تغييرات في الفودفيل.</p>
<p>التسمية: &lsquo;_&rsquo; ليس رمزًا صالحًا في أسماء المضيفين في i2p.</p>
<p>I2CP: أنواع البحث 2-4 يجب ألا تُرسل إلى أجهزة التوجيه أدناه الإصدار API الأدنى الذي يدعمها (سيتم تحديده لاحقًا).</p>
<p>SAM: يتجاهل خادم سام جافا المفاتيح/القيم الإضافية مثل OPTIONS=true. ينبغي على i2pd كذلك، يجب التحقق من ذلك. لن يحصل عملاء سام على القيم الإضافية في الرد إلا إذا طُلبت مع OPTIONS=true. لا ينبغي أن يكون هناك حاجة إلى زيادة في الإصدار.</p>

                </article>

                
                <nav class="page-nav">
                    <a href="../../../ar/proposals/" class="page-nav-link">
                        ← Back to Proposals
                    </a>
                    
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    <a href="../../../proposals/167-service-records.txt" class="page-nav-link" download>
                        Download Source (.txt)
                    </a>
                    
                </nav>
            </div>
        </div>
    </div>
</div>

<style>
.proposals-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.proposal-header {
    margin-bottom: var(--spacing-2xl);
}

.proposal-title-section {
    margin-bottom: var(--spacing-lg);
}

.proposal-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-sm) 0;
    color: var(--color-text);
}

.proposal-number {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    font-weight: 600;
}

 
.proposal-meta-box {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg);
}

.proposal-status {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 0.875rem;
    margin-bottom: var(--spacing-md);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

 
.status-open {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-open {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-accepted {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-accepted {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-finished {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-finished {
    background: #164e63;
    color: #86efac;
}

.status-closed {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-closed {
    background: #164e63;
    color: #86efac;
}

.status-rejected {
    background: #fee2e2;
    color: #991b1b;
}

.dark .status-rejected {
    background: #7f1d1d;
    color: #fca5a5;
}

.status-draft,
.status-needs-revision,
.status-dead,
.status-needs-research {
    background: #fef3c7;
    color: #92400e;
}

.dark .status-draft,
.dark .status-needs-revision,
.dark .status-dead,
.dark .status-needs-research {
    background: #78350f;
    color: #fde047;
}

.status-meta,
.status-informational,
.status-reserve {
    background: #e9d5ff;
    color: #6b21a8;
}

.dark .status-meta,
.dark .status-informational,
.dark .status-reserve {
    background: #581c87;
    color: #e879f9;
}

 
.proposal-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

.info-label {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
}

.info-value {
    font-size: 0.9375rem;
    color: var(--color-text);
    font-weight: 500;
}

 
.proposal-relationships {
    border-top: 1px solid var(--color-border);
    padding-top: var(--spacing-md);
}

.relationship {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
}

.relationship:last-child {
    margin-bottom: 0;
}

.relationship-label {
    font-weight: 600;
    color: var(--color-text-muted);
    min-width: 120px;
}

.relationship-value {
    color: var(--color-text);
}

 
.proposal-layout {
    display: block;
}

.proposal-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.proposal-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.proposal-main {
    min-width: 0;
}

 
.proposal-content {
    line-height: 1.8;
    color: var(--color-text);
    max-width: 900px;
}

.proposal-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.proposal-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.proposal-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.proposal-content p {
    margin-bottom: var(--spacing-md);
}

.proposal-content ul,
.proposal-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.proposal-content li {
    margin-bottom: var(--spacing-xs);
}

.proposal-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.proposal-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
    font-size: 0.875rem;
}

.proposal-content pre code {
    background: none;
    padding: 0;
}

.proposal-content blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: var(--spacing-md);
    margin-left: 0;
    margin-bottom: var(--spacing-md);
    font-style: italic;
    color: var(--color-text-secondary);
}

.proposal-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.proposal-content a:hover {
    border-bottom-color: var(--color-primary);
}

.proposal-content table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--spacing-md);
}

.proposal-content table th {
    background: var(--color-bg-secondary);
    padding: var(--spacing-sm);
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid var(--color-border);
}

.proposal-content table td {
    padding: var(--spacing-sm);
    border-bottom: 1px solid var(--color-border);
}

.proposal-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

 
.page-nav {
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.page-nav-link {
    display: inline-block;
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    color: var(--color-text);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
}

 
@media (max-width: 1024px) {
    .proposal-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .proposal-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .proposal-title {
        font-size: 1.75rem;
    }

    .proposal-info-grid {
        grid-template-columns: 1fr;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">ابقَ على اطلاع بأخبار I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="أدخل بريدك الإلكتروني" required>
                            <button type="submit">اشترك</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>روابط سريعة</h3>
                <ul>
                    <li><a href="../../../ar/financial-support/">تبرع</a></li>
                    <li><a href="../../../ar/docs/overview/intro/">مقدمة I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>المجتمع</h3>
                <ul>
                    <li><a href="../../../ar/get-involved/">شارك معنا</a></li>
                    <li><a href="../../../ar/blog/">مدونة</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">المنتديات الرسمية</a></li>
                    <li><a href="../../../ar/contact/">اتصل بنا</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>الموارد</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">إحصائيات I2P</a></li>
                    <li><a href="../../../ar/papers/">بحث</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">ستورمي كلاود</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 مشروع الإنترنت الخفي. مرخص تحت Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../ar/privacy/">الخصوصية</a>
                <a href="../../../ar/terms/">الشروط</a>
                <a href="../../../ar/about/media/">الصحافة</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="إغلاق">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>استطلاع المجتمع</h2>
            <p class="modal-subtitle">نود أن نسمع منك</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                يساعد تصويتك في تشكيل مستقبل I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>