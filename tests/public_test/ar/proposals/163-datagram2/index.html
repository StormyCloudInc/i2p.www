<!DOCTYPE html>
<html lang="ar" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>بروتوكول Datagram2 | I2P - مشروع الإنترنت غير المرئي</title>

    <meta name="description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="بروتوكول Datagram2 | I2P - مشروع الإنترنت غير المرئي">
    <meta property="og:description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/ar/proposals/163-datagram2/">

    
    <link rel="icon" type="image/svg+xml" href="../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">موقع I2P التجريبي متاح الآن - أرسل المشاكل إلى stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="إغلاق الشريط" title="إغلاق الشريط">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../ar/" class="logo-link">
                    <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../ar/about/" class="">حول</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ar/about/">نظرة عامة</a></li>
                            <li><a href="../../../ar/papers/">أبحاث</a></li>
                            <li><a href="../../../ar/about/media/">الصحافة</a></li>
                            <li><a href="../../../ar/contact/">اتصل بنا</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../ar/docs/" class="">المستندات</a></li>
                    <li><a href="../../../ar/downloads/" class="">التنزيلات</a></li>
                    <li><a href="../../../ar/blog/" class="">مدونة</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../ar/get-involved/" class="">شارك معنا</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ar/get-involved/">نظرة عامة</a></li>
                            <li><a href="../../../ar/feedback/">اقتراحات الميزات</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">ar</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../en/proposals/163-datagram2/"
                                class="lang-option">الإنجليزية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../es/proposals/163-datagram2/"
                                class="lang-option">الإسبانية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ko/proposals/163-datagram2/"
                                class="lang-option">الكورية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../zh/proposals/163-datagram2/"
                                class="lang-option">الصينية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ru/proposals/163-datagram2/"
                                class="lang-option">الروسية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../cs/proposals/163-datagram2/"
                                class="lang-option">التشيكية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../de/proposals/163-datagram2/"
                                class="lang-option">الألمانية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../fr/proposals/163-datagram2/"
                                class="lang-option">الفرنسية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../tr/proposals/163-datagram2/"
                                class="lang-option">التركية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../vi/proposals/163-datagram2/"
                                class="lang-option">الفيتنامية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../hi/proposals/163-datagram2/"
                                class="lang-option">الهندية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ar/proposals/163-datagram2/"
                                class="lang-option active">العربية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../pt/proposals/163-datagram2/"
                                class="lang-option">البرتغالية</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../ar/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../ar/downloads/" class="btn btn-primary">احصل على I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        



<div class="proposals-page">
    <div class="container">
        
        <nav class="breadcrumbs">
            <a href="../../../ar/">Home</a>
            <span class="separator">/</span>
            <a href="../../../ar/proposals/">Proposals</a>
            <span class="separator">/</span>
            <span class="current">بروتوكول Datagram2</span>
        </nav>

        
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">تم إنشاء هذه الترجمة باستخدام التعلم الآلي وقد لا تكون دقيقة بنسبة 100%.</span>
    
    
    <a href="../../../en/proposals/163-datagram2/" class="disclaimer-link">عرض النسخة الإنجليزية</a>
    
</div>



        
        <header class="proposal-header">
            <div class="proposal-title-section">
                <h1 class="proposal-title">بروتوكول Datagram2</h1>
                <div class="proposal-number">Proposal 163</div>
            </div>

            
            <div class="proposal-meta-box">
                <div class="proposal-status status-مغلق">
                    مغلق
                </div>

                
                <div class="proposal-info-grid">
                    
                    <div class="info-item">
                        <span class="info-label">Author</span>
                        <span class="info-value">zzz، orignal، drzed، eyedeekay</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Created</span>
                        <span class="info-value">2023-01-24</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Last Updated</span>
                        <span class="info-value">2025-04-16</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Target Version</span>
                        <span class="info-value">0.9.66</span>
                    </div>
                    

                    
                </div>

                
                
            </div>
        </header>

        
        <div class="proposal-layout proposal-layout--with-toc">
            
            
            <aside class="proposal-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#الحالة">الحالة</a></li>
    <li><a href="#نظرة-عامة">نظرة عامة</a></li>
    <li><a href="#الأهداف">الأهداف</a></li>
    <li><a href="#الأهداف-الغير-مطلوبة">الأهداف الغير مطلوبة</a></li>
    <li><a href="#الدافع">الدافع</a></li>
    <li><a href="#مواصفات-مخطط-البيانات-القابلة-للاسترجاع">مواصفات مخطط البيانات القابلة للاسترجاع</a></li>
    <li><a href="#التصميم">التصميم</a></li>
    <li><a href="#المواصفات">المواصفات</a>
      <ul>
        <li><a href="#البروتوكول">البروتوكول</a></li>
        <li><a href="#تنسيق-datagram2">تنسيق Datagram2</a></li>
        <li><a href="#التوقيعات">التوقيعات</a></li>
        <li><a href="#التحقق-من-tohash">التحقق من ToHash</a></li>
        <li><a href="#تنسيق-datagram3">تنسيق Datagram3</a></li>
        <li><a href="#sam">SAM</a></li>
        <li><a href="#التكاليف-المضافة">التكاليف المضافة</a></li>
      </ul>
    </li>
    <li><a href="#تحليل-الأمان">تحليل الأمان</a></li>
    <li><a href="#ملاحظات">ملاحظات</a></li>
    <li><a href="#التوافق">التوافق</a></li>
    <li><a href="#الهجرة">الهجرة</a>
      <ul>
        <li><a href="#بروتوكول-تورنت">بروتوكول تورنت</a></li>
        <li><a href="#أخرى">أخرى</a></li>
      </ul>
    </li>
    <li><a href="#المراجع">المراجع</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="proposal-main">
                <article class="proposal-content">
                    <h2 id="الحالة">الحالة</h2>
<p>تمت الموافقة في المراجعة بتاريخ 2025-04-15.
تم دمج التغييرات في المواصفات.
تم تنفيذها في Java I2P اعتبارًا من API 0.9.66.
راجع وثائق التنفيذ للحصول على الحالة.</p>
<h2 id="نظرة-عامة">نظرة عامة</h2>
<p>خرجت من <a href="../../../ar/proposals/123-new-netdb-entries/">Prop123</a>
 كتقديم منفصل.</p>
<p>لا يمكن التحقق من التوقيعات غير المتصلة في معالجة مخطط البيانات القابلة للاسترجاع.
يحتاج إلى علم للإشارة إلى توقيع غير متصل ولكن لا يوجد مكان لوضع علم.</p>
<p>سيتطلب بروتوكول I2CP جديد تمامًا ورقم تنسيق،
ليتم إضافته إلى مواصفات <a href="../../../ar/docs/api/datagrams/">DATAGRAMS</a>
.
دعونا نسميه &ldquo;Datagram2&rdquo;.</p>
<h2 id="الأهداف">الأهداف</h2>
<ul>
<li>إضافة دعم للتوقيعات غير المتصلة</li>
<li>إضافة مقاومة الإعادة</li>
<li>إضافة نكهة بدون توقيعات</li>
<li>إضافة حقول للأعلام والخيارات للمرونة</li>
</ul>
<h2 id="الأهداف-الغير-مطلوبة">الأهداف الغير مطلوبة</h2>
<p>الدعــم الكـامـل للبروتوكول من الطرف إلى الطرف للتحكم في الاختناق، إلخ.
سيتم بناؤه فوق، أو كبديل لـ Datagram2، وهو بروتوكول منخفض المستوى.
لن يكون من المنطقي تصميم بروتوكول عالي الأداء يعتمد فقط على
Datagram2، بسبب حقل الإرسال وتكاليف التوقيع.
أي بروتوكول من هذا القبيل يجب أن يقوم بإجراء مصافحة أولية مع Datagram2 ثم
التبديل إلى مخططات البيانات RAW.</p>
<h2 id="الدافع">الدافع</h2>
<p>باقي من عمل LS2 الذي تم الانتهاء منه خلاف ذلك في عام 2019.</p>
<p>من المتوقع أن يكون التطبيق الأول لاستخدام Datagram2
إعلانات تقديم bittorrent عبر بروتوكول UDP، كما هو مطبق في i2psnark و zzzot،
انظر <a href="../../../ar/proposals/160-udp-trackers/">Prop160</a>
.</p>
<h2 id="مواصفات-مخطط-البيانات-القابلة-للاسترجاع">مواصفات مخطط البيانات القابلة للاسترجاع</h2>
<p>للإشارة،
فيما يلي مراجعة للمواصفات لمخططات البيانات القابلة للاسترجاع،
مأخوذة من <a href="../../../ar/docs/api/datagrams/">Datagrams</a>
.
رقم بروتوكول I2CP القياسي لمخططات البيانات القابلة للاسترجاع هو PROTO_DATAGRAM (17).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  | from                                  |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  | signature                             |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +                                       +
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  | payload...
</span></span><span style="display:flex;"><span>  +----+----+----+----//
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  from :: a `Destination`
</span></span><span style="display:flex;"><span>          length: 387+ bytes
</span></span><span style="display:flex;"><span>          المرسل والموقع لمخطط البيانات
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  signature :: توقيع `Signature`
</span></span><span style="display:flex;"><span>               يجب أن يتطابق نوع التوقيع مع نوع المفتاح العام للتوقيع الخاص بـ $from
</span></span><span style="display:flex;"><span>               الطول: 40+ بايتات، كما يتطلب نوع التوقيع.
</span></span><span style="display:flex;"><span>               لنوع المفتاح DSA_SHA1 الافتراضي:
</span></span><span style="display:flex;"><span>                  توقيع DSA للهاش SHA-256 للحمولة.
</span></span><span style="display:flex;"><span>               لأنواع المفاتيح الأخرى:
</span></span><span style="display:flex;"><span>                  `التوقيع` للحمولة.
</span></span><span style="display:flex;"><span>               يمكن التحقق من التوقيع بالمفتاح العام للتوقيع الخاص بـ $from
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  payload ::  البيانات
</span></span><span style="display:flex;"><span>              الطول: من 0 إلى حوالي 31.5 كيلوبايت (انظر الملاحظات)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  الطول الإجمالي: طول الحمولة + 423+
</span></span></code></pre></div><h2 id="التصميم">التصميم</h2>
<ul>
<li>تحديد بروتوكول جديد 19 - مخطط بيانات قابل للاسترجاع مع خيارات.</li>
<li>تحديد بروتوكول جديد 20 - مخطط بيانات قابل للاسترجاع بدون توقيع.</li>
<li>إضافة حقل للأعلام للتوقيعات غير المتصلة والتوسع المستقبلي</li>
<li>نقل التوقيع بعد الحمولة لسهولة المعالجة</li>
<li>مواصفات توقيع جديدة مختلفة عن مخطط البيانات القابل للاسترجاع أو البث، بحيث
يفشل التحقق من التوقيع إذا تم تفسيره كمخطط بيانات قابل للاسترجاع أو لبث.
يتم تحقيق ذلك عن طريق نقل التوقيع بعد الحمولة،
وبإدخال هاش الوجهة في دالة التوقيع.</li>
<li>إضافة منع الإعادة للمخططات، كما تم في <a href="../../../ar/proposals/164-streaming/">Prop164</a>
 للبث.</li>
<li>إضافة قسم للخيارات التعسفية</li>
<li>إعادة استخدام تنسيق التوقيع غير المتصل من <a href="../../../ar/docs/specs/common-structures/">Common</a>
 و<a href="../../../ar/docs/specs/streaming/">Streaming</a>
.</li>
<li>قسم التوقيع غير المتصل يجب أن يكون قبل الحمولة المتغيرة الطول والـ
توقيع، حيث يتم تحديد طول التوقيع.</li>
</ul>
<h2 id="المواصفات">المواصفات</h2>
<h3 id="البروتوكول">البروتوكول</h3>
<p>رقم بروتوكول I2CP الجديد لـ Datagram2 هو 19.
أضفه كـ PROTO_DATAGRAM2 إلى <a href="../../../ar/docs/specs/i2cp/">I2CP</a>
.</p>
<p>رقم بروتوكول I2CP الجديد لـ Datagram3 هو 20.
أضفه كـ PROTO_DATAGRAM2 إلى <a href="../../../ar/docs/specs/i2cp/">I2CP</a>
.</p>
<h3 id="تنسيق-datagram2">تنسيق Datagram2</h3>
<p>أضف Datagram2 إلى <a href="../../../ar/docs/api/datagrams/">DATAGRAMS</a>
 على النحو التالي:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            from                       ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |  flags  |     options (optional)      |
</span></span><span style="display:flex;"><span>  +----+----+                             +
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~     offline_signature (optional)      ~
</span></span><span style="display:flex;"><span>  ~   expires, sigtype, pubkey, offsig    ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            payload                    ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            signature                  ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  from :: a `Destination`
</span></span><span style="display:flex;"><span>          length: 387+ bytes
</span></span><span style="display:flex;"><span>          المرسل و(ما لم يتم التوقيع بطريقة غير متصلة) موقع مخطط البيانات
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  flags :: (2 بايتات)
</span></span><span style="display:flex;"><span>           ترتيب البتات: 15 14 ... 3 2 1 0
</span></span><span style="display:flex;"><span>           بتات 3-0: الإصدار: 0x02 (0 0 1 0)
</span></span><span style="display:flex;"><span>           البتة 4: إذا كانت 0، لا توجد خيارات؛ إذا كانت 1، يتم تضمين تخطيط الخيارات
</span></span><span style="display:flex;"><span>           البتة 5: إذا كانت 0، لا يوجد توقيع غير متصل؛ إذا كانت 1، موقعة بشكل غير متصل
</span></span><span style="display:flex;"><span>           البتات 15-6: غير مستخدمة، اضبط على 0 للتوافق مع الاستخدامات المستقبلية
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  options :: (2+ بايتات إذا كانت موجودة)
</span></span><span style="display:flex;"><span>           إذا كان العلم يشير إلى وجود الخيارات، فإن `Mapping`
</span></span><span style="display:flex;"><span>           يحتوي على خيارات نصية تعسفية
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  offline_signature ::
</span></span><span style="display:flex;"><span>               إذا كان العلم يشير إلى المفاتيح غير المتصلة، فقسم التوقيع غير المتصل،
</span></span><span style="display:flex;"><span>               كما هو محدد في المواصفات المشتركة لهياكل البيانات،
</span></span><span style="display:flex;"><span>               مع الحقول الأربعة التالية. الطول: يختلف حسب أنواع التوقيع
</span></span><span style="display:flex;"><span>               عبر الإنترنت وغير المتصل، عادةً 102 بايتات لأنواع التوقيع
</span></span><span style="display:flex;"><span>               Ed25519
</span></span><span style="display:flex;"><span>               يمكن، ويجب، إنشاء هذا القسم بشكل غير متصل.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    expires :: الطابع الزمني لانقضاء الصلاحية
</span></span><span style="display:flex;"><span>               (4 بايتات، ترتيب بايتات الكبير، ثوانٍ منذ البداية، ينتهي في 2106)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sigtype :: نوع التوقيع الانتقالي (2 بايتات، ترتيب بايتات الكبير)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pubkey :: المفتاح العام للتوقيع الانتقالي (الطول كما يقتضيه نوع التوقيع)،
</span></span><span style="display:flex;"><span>              عادةً 32 بايتات لأنواع التوقيع Ed25519.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    offsig :: توقيع `Signature`
</span></span><span style="display:flex;"><span>              توقيع للطابع الزمني لانقضاء الصلاحية، نوع التوقيع الانتقالي،
</span></span><span style="display:flex;"><span>              والمفتاح العام، بواسطة المفتاح العام للوجهة،
</span></span><span style="display:flex;"><span>              الطول: 40+ بايتات، كما يقتضيه نوع التوقيع، عادةً
</span></span><span style="display:flex;"><span>              64 بايتات لأنواع التوقيع Ed25519.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  payload ::  البيانات
</span></span><span style="display:flex;"><span>              الطول: من 0 إلى حوالي 61 كيلوبايت (انظر الملاحظات)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  signature :: توقيع `Signature`
</span></span><span style="display:flex;"><span>               يجب أن يتطابق نوع التوقيع مع نوع المفتاح العام للتوقيع الخاص بـ $from
</span></span><span style="display:flex;"><span>               (إذا لم يكن هناك توقيع غير متصل) أو نوع التوقيع الانتقالي
</span></span><span style="display:flex;"><span>               (إذا كان موقعة بطريقة غير متصلة)
</span></span><span style="display:flex;"><span>               الطول: 40+ بايتات، كما يقتضيه نوع التوقيع، عادةً
</span></span><span style="display:flex;"><span>               64 بايتات لأنواع التوقيع Ed25519.
</span></span><span style="display:flex;"><span>               `التوقيع` للحمولة والحقول الأخرى كما هو محدد أدناه.
</span></span><span style="display:flex;"><span>               يتم التحقق من التوقيع بالمفتاح العام للتوقيع الخاص بـ $from
</span></span><span style="display:flex;"><span>               (إذا لم يكن هناك توقيع غير متصل) أو المفتاح العام الانتقالي
</span></span><span style="display:flex;"><span>               (إذا كان موقعة بطريقة غير متصلة)
</span></span></code></pre></div><p>الإجمالي الطول: 433 + طول الحمولة على الأقل؛
الطول المعتاد للمُرسلين X25519 وبدون توقيعات غير متصلة:
457 + طول الحمولة.
لاحظ أن الرسالة سيتم ضغطها عادةً باستخدام gzip عند طبقة I2CP،
مما سيؤدي إلى توفيرات كبيرة إذا كانت الوجهة من نوع from قابلة للضغط.</p>
<p>ملاحظة: تنسيق التوقيع غير المتصل هو نفسه في مواصفات الهياكل المشتركة <a href="../../../ar/docs/specs/common-structures/">Common</a>
 و<a href="../../../ar/docs/specs/streaming/">Streaming</a>
.</p>
<h3 id="التوقيعات">التوقيعات</h3>
<p>التوقيع يشمل الحقول التالية.</p>
<ul>
<li>المقدمة: هاش بطول 32 بايت للوجهة المستهدفة (غير مضمن في مخطط البيانات)</li>
<li>الأعلام</li>
<li>الخيارات (إذا كانت موجودة)</li>
<li>التوقيع غير المتصل (إذا كان موجودًا)</li>
<li>الحمولة</li>
</ul>
<p>في مخطط البيانات القابل للاسترجاع، لنوع المفتاح DSA_SHA1، كان التوقيع على
هاش SHA-256 للحمولة، وليس الحمولة نفسها؛ هنا، التوقيع دائمًا على
الحقول أعلاه (ليس على الهاش)، بغض النظر عن نوع المفتاح.</p>
<h3 id="التحقق-من-tohash">التحقق من ToHash</h3>
<p>يجب على المستقبلين التحقق من التوقيع (باستخدام هاش الوجهة لديهم)
والتخلص من مخطط البيانات حالما يفشل، لمنع الإعادة.</p>
<h3 id="تنسيق-datagram3">تنسيق Datagram3</h3>
<p>أضف Datagram3 إلى <a href="../../../ar/docs/api/datagrams/">DATAGRAMS</a>
 كما يلي:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            fromhash                   ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |  flags  |     options (optional)      |
</span></span><span style="display:flex;"><span>  +----+----+                             +
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  ~            payload                    ~
</span></span><span style="display:flex;"><span>  ~                                       ~
</span></span><span style="display:flex;"><span>  |                                       |
</span></span><span style="display:flex;"><span>  +----+----+----+----+----+----+----+----+
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  fromhash :: هاش `Hash`
</span></span><span style="display:flex;"><span>              الطول: 32 بايت
</span></span><span style="display:flex;"><span>              مرسل مخطط البيانات
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  flags :: (2 بايتات)
</span></span><span style="display:flex;"><span>           ترتيب البتات: 15 14 ... 3 2 1 0
</span></span><span style="display:flex;"><span>           بتات 3-0: الإصدار: 0x03 (0 0 1 1)
</span></span><span style="display:flex;"><span>           البتة 4: إذا كانت 0، لا توجد خيارات؛ إذا كانت 1، يتم تضمين تخطيط الخيارات
</span></span><span style="display:flex;"><span>           بتات 15-5: غير مستخدمة، اضبط على 0 للتوافق مع الاستخدامات المستقبلية
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  options :: (2+ بايتات إذا كانت موجودة)
</span></span><span style="display:flex;"><span>           إذا أشار العلم إلى وجود الخيارات، فإن `Mapping`
</span></span><span style="display:flex;"><span>           يحتوي على خيارات نصية تعسفية
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  payload :: البيانات
</span></span><span style="display:flex;"><span>              الطول: من 0 إلى حوالي 61 كيلوبايت (انظر الملاحظات)
</span></span></code></pre></div><p>الطول الإجمالي: 34 + طول الحمولة على الأقل.</p>
<h3 id="sam">SAM</h3>
<p>أضف STYLE=DATAGRAM2 وSTYLE=DATAGRAM3 إلى مواصفات SAMv3.
تحديث المعلومات حول التوقيعات غير المتصلة.</p>
<h3 id="التكاليف-المضافة">التكاليف المضافة</h3>
<p>يضيف هذا التصميم 2 بايتات كمصاريف إضافية لمخططات البيانات القابلة للاسترجاع للأعلام.
هذا مقبول.</p>
<h2 id="تحليل-الأمان">تحليل الأمان</h2>
<p>يجب أن يكون إدخال هاش الوجهة في التوقيع فعالًا في منع هجمات الإعادة.</p>
<p>تنسيق Datagram3 يفتقر إلى التوقيعات، لذا لا يمكن التحقق من المرسل،
وهجمات الإعادة ممكنة. يجب أن يتم التحقق المطلوب في طبقة التطبيق،
أو بواسطة الراوتر في طبقة ratchet.</p>
<h2 id="ملاحظات">ملاحظات</h2>
<ul>
<li>الطول العملي محدود بالطبقات الأدنى من البروتوكولات - مواصفات رسالة النفق <a href="../../../ar/docs/specs/implementation/#notes">TUNMSG</a>
 تحدد الرسائل بحوالي 61.2 كيلوبايت والوسائط الناقلة تحد الرسائل حاليًا بحوالي 64 كيلوبايت، لذا فإن طول البيانات هنا
محدود بحوالي 61 كيلوبايت.</li>
<li>انظر الملاحظات الهامة حول موثوقية المخططات الكبيرة <a href="../../../ar/docs/api/datagrams/">API</a>
. للحصول
على أفضل النتائج، حدد الحمولة بحوالي 10 كيلوبايت أو أقل.</li>
</ul>
<h2 id="التوافق">التوافق</h2>
<p>لا يوجد. يجب إعادة كتابة التطبيقات لتوجيه رسائل I2CP الخاصة بـ Datagram2
استنادًا إلى البروتوكول و/أو المنفذ.
الرسائل المحورة بشكل خاطئ من Datagram2 والمفسرة كمخططات بيانات قابلة للاسترجاع أو
رسائل تدفق ستفشل بناءً على التوقيع أو التنسيق أو كليهما.</p>
<h2 id="الهجرة">الهجرة</h2>
<p>كل تطبيق UDP يجب أن يكتشف الدعم وينتقل بشكل منفصل.
أبرز تطبيق UDP هو بروتوكول تورنت.</p>
<h3 id="بروتوكول-تورنت">بروتوكول تورنت</h3>
<p>بروتوكول DHT: يحتاج إلى علم تمديد ربما،
مثل i2p_dg2، التنسيق مع BiglyBT</p>
<p>الإعلانات عبر بروتوكول UDP في تورنت <a href="../../../ar/proposals/160-udp-trackers/">Prop160</a>
: قم بتصميمها من البداية.
التنسيق مع BiglyBT وi2psnark وzzzot</p>
<h3 id="أخرى">أخرى</h3>
<p>Bote: غير مرجح أن ينتقل، غير مدعوم بنشاط</p>
<p>Streamr: لا أحد يستخدمه، لا توجد خطة للهجرة</p>
<p>SAM لتطبيقات UDP: لا توجد معروفة</p>
<h2 id="المراجع">المراجع</h2>
<ul>
<li><a href="../../../ar/docs/api/datagrams/">API</a>
</li>
<li><a href="../../../ar/docs/applications/bittorrent/">BT-SPEC</a>
</li>
<li><a href="../../../ar/docs/specs/common-structures/">Common</a>
</li>
<li><a href="../../../ar/docs/api/datagrams/">DATAGRAMS</a>
</li>
<li><a href="../../../ar/docs/specs/i2cp/">I2CP</a>
</li>
<li><a href="../../../ar/proposals/123-new-netdb-entries/">Prop123</a>
</li>
<li><a href="../../../ar/proposals/160-udp-trackers/">Prop160</a>
</li>
<li><a href="../../../ar/proposals/164-streaming/">Prop164</a>
</li>
<li><a href="../../../ar/docs/specs/streaming/">Streaming</a>
</li>
<li><a href="../../../ar/docs/overview/transport/">TRANSPORT</a>
</li>
<li><a href="../../../ar/docs/specs/implementation/#notes">TUNMSG</a>
</li>
</ul>

                </article>

                
                <nav class="page-nav">
                    <a href="../../../ar/proposals/" class="page-nav-link">
                        ← Back to Proposals
                    </a>
                    
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    <a href="../../../proposals/163-datagram2.txt" class="page-nav-link" download>
                        Download Source (.txt)
                    </a>
                    
                </nav>
            </div>
        </div>
    </div>
</div>

<style>
.proposals-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.proposal-header {
    margin-bottom: var(--spacing-2xl);
}

.proposal-title-section {
    margin-bottom: var(--spacing-lg);
}

.proposal-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-sm) 0;
    color: var(--color-text);
}

.proposal-number {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    font-weight: 600;
}

 
.proposal-meta-box {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg);
}

.proposal-status {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 0.875rem;
    margin-bottom: var(--spacing-md);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

 
.status-open {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-open {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-accepted {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-accepted {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-finished {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-finished {
    background: #164e63;
    color: #86efac;
}

.status-closed {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-closed {
    background: #164e63;
    color: #86efac;
}

.status-rejected {
    background: #fee2e2;
    color: #991b1b;
}

.dark .status-rejected {
    background: #7f1d1d;
    color: #fca5a5;
}

.status-draft,
.status-needs-revision,
.status-dead,
.status-needs-research {
    background: #fef3c7;
    color: #92400e;
}

.dark .status-draft,
.dark .status-needs-revision,
.dark .status-dead,
.dark .status-needs-research {
    background: #78350f;
    color: #fde047;
}

.status-meta,
.status-informational,
.status-reserve {
    background: #e9d5ff;
    color: #6b21a8;
}

.dark .status-meta,
.dark .status-informational,
.dark .status-reserve {
    background: #581c87;
    color: #e879f9;
}

 
.proposal-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

.info-label {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
}

.info-value {
    font-size: 0.9375rem;
    color: var(--color-text);
    font-weight: 500;
}

 
.proposal-relationships {
    border-top: 1px solid var(--color-border);
    padding-top: var(--spacing-md);
}

.relationship {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
}

.relationship:last-child {
    margin-bottom: 0;
}

.relationship-label {
    font-weight: 600;
    color: var(--color-text-muted);
    min-width: 120px;
}

.relationship-value {
    color: var(--color-text);
}

 
.proposal-layout {
    display: block;
}

.proposal-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.proposal-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.proposal-main {
    min-width: 0;
}

 
.proposal-content {
    line-height: 1.8;
    color: var(--color-text);
    max-width: 900px;
}

.proposal-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.proposal-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.proposal-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.proposal-content p {
    margin-bottom: var(--spacing-md);
}

.proposal-content ul,
.proposal-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.proposal-content li {
    margin-bottom: var(--spacing-xs);
}

.proposal-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.proposal-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
    font-size: 0.875rem;
}

.proposal-content pre code {
    background: none;
    padding: 0;
}

.proposal-content blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: var(--spacing-md);
    margin-left: 0;
    margin-bottom: var(--spacing-md);
    font-style: italic;
    color: var(--color-text-secondary);
}

.proposal-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.proposal-content a:hover {
    border-bottom-color: var(--color-primary);
}

.proposal-content table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--spacing-md);
}

.proposal-content table th {
    background: var(--color-bg-secondary);
    padding: var(--spacing-sm);
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid var(--color-border);
}

.proposal-content table td {
    padding: var(--spacing-sm);
    border-bottom: 1px solid var(--color-border);
}

.proposal-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

 
.page-nav {
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.page-nav-link {
    display: inline-block;
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    color: var(--color-text);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
}

 
@media (max-width: 1024px) {
    .proposal-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .proposal-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .proposal-title {
        font-size: 1.75rem;
    }

    .proposal-info-grid {
        grid-template-columns: 1fr;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">ابقَ على اطلاع بأخبار I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="أدخل بريدك الإلكتروني" required>
                            <button type="submit">اشترك</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>روابط سريعة</h3>
                <ul>
                    <li><a href="../../../ar/financial-support/">تبرع</a></li>
                    <li><a href="../../../ar/docs/overview/intro/">مقدمة I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>المجتمع</h3>
                <ul>
                    <li><a href="../../../ar/get-involved/">شارك معنا</a></li>
                    <li><a href="../../../ar/blog/">مدونة</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">المنتديات الرسمية</a></li>
                    <li><a href="../../../ar/contact/">اتصل بنا</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>الموارد</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">إحصائيات I2P</a></li>
                    <li><a href="../../../ar/papers/">بحث</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">ستورمي كلاود</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 مشروع الإنترنت الخفي. مرخص تحت Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../ar/privacy/">الخصوصية</a>
                <a href="../../../ar/terms/">الشروط</a>
                <a href="../../../ar/about/media/">الصحافة</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="إغلاق">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>استطلاع المجتمع</h2>
            <p class="modal-subtitle">نود أن نسمع منك</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                يساعد تصويتك في تشكيل مستقبل I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>