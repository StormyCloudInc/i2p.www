<!DOCTYPE html>
<html lang="ar" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>متتبعات UDP | I2P - مشروع الإنترنت غير المرئي</title>

    <meta name="description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="متتبعات UDP | I2P - مشروع الإنترنت غير المرئي">
    <meta property="og:description" content="The Invisible Internet Project - A privacy-focused, anonymous network layer">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/ar/proposals/160-udp-trackers/">

    
    <link rel="icon" type="image/svg+xml" href="../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">موقع I2P التجريبي متاح الآن - أرسل المشاكل إلى stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="إغلاق الشريط" title="إغلاق الشريط">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../ar/" class="logo-link">
                    <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../ar/about/" class="">حول</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ar/about/">نظرة عامة</a></li>
                            <li><a href="../../../ar/papers/">أبحاث</a></li>
                            <li><a href="../../../ar/about/media/">الصحافة</a></li>
                            <li><a href="../../../ar/contact/">اتصل بنا</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../ar/docs/" class="">المستندات</a></li>
                    <li><a href="../../../ar/downloads/" class="">التنزيلات</a></li>
                    <li><a href="../../../ar/blog/" class="">مدونة</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../ar/get-involved/" class="">شارك معنا</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ar/get-involved/">نظرة عامة</a></li>
                            <li><a href="../../../ar/feedback/">اقتراحات الميزات</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">ar</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../en/proposals/160-udp-trackers/"
                                class="lang-option">الإنجليزية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../es/proposals/160-udp-trackers/"
                                class="lang-option">الإسبانية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ko/proposals/160-udp-trackers/"
                                class="lang-option">الكورية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../zh/proposals/160-udp-trackers/"
                                class="lang-option">الصينية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ru/proposals/160-udp-trackers/"
                                class="lang-option">الروسية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../cs/proposals/160-udp-trackers/"
                                class="lang-option">التشيكية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../de/proposals/160-udp-trackers/"
                                class="lang-option">الألمانية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../fr/proposals/160-udp-trackers/"
                                class="lang-option">الفرنسية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../tr/proposals/160-udp-trackers/"
                                class="lang-option">التركية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../vi/proposals/160-udp-trackers/"
                                class="lang-option">الفيتنامية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../hi/proposals/160-udp-trackers/"
                                class="lang-option">الهندية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ar/proposals/160-udp-trackers/"
                                class="lang-option active">العربية</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../pt/proposals/160-udp-trackers/"
                                class="lang-option">البرتغالية</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../ar/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../ar/downloads/" class="btn btn-primary">احصل على I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        



<div class="proposals-page">
    <div class="container">
        
        <nav class="breadcrumbs">
            <a href="../../../ar/">Home</a>
            <span class="separator">/</span>
            <a href="../../../ar/proposals/">Proposals</a>
            <span class="separator">/</span>
            <span class="current">متتبعات UDP</span>
        </nav>

        
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">تم إنشاء هذه الترجمة باستخدام التعلم الآلي وقد لا تكون دقيقة بنسبة 100%.</span>
    
    
    <a href="../../../en/proposals/160-udp-trackers/" class="disclaimer-link">عرض النسخة الإنجليزية</a>
    
</div>



        
        <header class="proposal-header">
            <div class="proposal-title-section">
                <h1 class="proposal-title">متتبعات UDP</h1>
                <div class="proposal-number">Proposal 160</div>
            </div>

            
            <div class="proposal-meta-box">
                <div class="proposal-status status-مغلق">
                    مغلق
                </div>

                
                <div class="proposal-info-grid">
                    
                    <div class="info-item">
                        <span class="info-label">Author</span>
                        <span class="info-value">zzz</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Created</span>
                        <span class="info-value">2022-01-03</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Last Updated</span>
                        <span class="info-value">2025-06-25</span>
                    </div>
                    

                    
                    <div class="info-item">
                        <span class="info-label">Target Version</span>
                        <span class="info-value">0.9.67</span>
                    </div>
                    

                    
                </div>

                
                
            </div>
        </header>

        
        <div class="proposal-layout proposal-layout--with-toc">
            
            
            <aside class="proposal-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#الحالة">الحالة</a></li>
    <li><a href="#نظرة-عامة">نظرة عامة</a>
      <ul>
        <li><a href="#change-history">Change History</a></li>
      </ul>
    </li>
    <li><a href="#motivation">Motivation</a></li>
    <li><a href="#الدافع">الدافع</a>
      <ul>
        <li><a href="#bep-15">BEP 15</a></li>
        <li><a href="#تاريخ-التغييرات">تاريخ التغييرات</a></li>
        <li><a href="#connection-lifetime">Connection Lifetime</a></li>
        <li><a href="#compatibility-with-bep-15">Compatibility with BEP 15</a></li>
        <li><a href="#bep-15-1">BEP 15</a></li>
        <li><a href="#دعم-trackerclient">دعم Tracker/Client</a></li>
      </ul>
    </li>
    <li><a href="#التصميم">التصميم</a>
      <ul>
        <li><a href="#protocols-and-ports">Protocols and Ports</a></li>
        <li><a href="#announce-url">Announce URL</a></li>
        <li><a href="#مدة-الاتصال">مدة الاتصال</a></li>
      </ul>
    </li>
    <li><a href="#extensions">Extensions</a></li>
    <li><a href="#implementation-guidelines">Implementation guidelines</a>
      <ul>
        <li><a href="#التوافق-مع-bep-15">التوافق مع BEP 15</a></li>
        <li><a href="#تحليل-الأمان">تحليل الأمان</a></li>
      </ul>
    </li>
    <li><a href="#migration">Migration</a></li>
    <li><a href="#rollout">Rollout</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="proposal-main">
                <article class="proposal-content">
                    <h2 id="الحالة">الحالة</h2>
<p>تمت الموافقة عليه في المراجعة 2025-06-24. المواصفة متوفرة في <a href="../../../ar/docs/specs/udp-bittorrent-announces/">مواصفة UDP</a>
. مُنفذ في zzzot 0.20.0-beta2. مُنفذ في i2psnark اعتباراً من API 0.9.67. تحقق من وثائق التنفيذات الأخرى للحالة.</p>
<h2 id="نظرة-عامة">نظرة عامة</h2>
<p>هذا الاقتراح مخصص لتطبيق UDP trackers في I2P.</p>
<h3 id="change-history">Change History</h3>
<p>تم نشر اقتراح أولي لمتتبعات UDP في I2P على <a href="../../../ar/docs/applications/bittorrent/">صفحة مواصفات bittorrent</a>
 الخاصة بنا في مايو 2014؛ وقد سبق هذا عملية الاقتراح الرسمية لدينا، ولم يتم تنفيذه قط. تم إنشاء هذا الاقتراح في أوائل عام 2022 ويبسط نسخة 2014.</p>
<p>نظرًا لأن هذا الاقتراح يعتمد على رسائل البيانات القابلة للرد، تم تعليقه بمجرد أن بدأنا العمل على <a href="../../../ar/proposals/163-datagram2/">اقتراح Datagram2</a>
 في أوائل عام 2023. تمت الموافقة على ذلك الاقتراح في أبريل 2025.</p>
<p>حددت نسخة 2023 من هذا الاقتراح وضعين، &ldquo;التوافق&rdquo; و&quot;السريع&quot;. كشف التحليل الإضافي أن الوضع السريع سيكون غير آمن، وسيكون أيضاً غير فعال للعملاء الذين لديهم عدد كبير من ملفات التورنت. علاوة على ذلك، أشار BiglyBT إلى تفضيله لوضع التوافق. سيكون هذا الوضع أسهل في التنفيذ لأي متتبع أو عميل يدعم معيار <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
.</p>
<p>في حين أن وضع التوافق أكثر تعقيداً للتنفيذ من الصفر على جانب العميل، لدينا كود أولي له بدأناه في عام 2023.</p>
<p>لذلك، الإصدار الحالي هنا مبسط أكثر لإزالة الوضع السريع، وإزالة مصطلح &ldquo;التوافق&rdquo;. الإصدار الحالي ينتقل إلى تنسيق Datagram2 الجديد، ويضيف مراجع إلى بروتوكول إعلان UDP الإضافي <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
.</p>
<p>أيضاً، يتم إضافة حقل مدة صلاحية معرف الاتصال إلى استجابة الاتصال، لتوسيع مكاسب الكفاءة لهذا البروتوكول.</p>
<h2 id="motivation">Motivation</h2>
<p>مع استمرار نمو قاعدة المستخدمين بشكل عام وعدد مستخدمي bittorrent على وجه التحديد، نحتاج إلى جعل trackers والإعلانات أكثر كفاءة بحيث لا تكون trackers مثقلة بالأعباء.</p>
<p>اقترح Bittorrent متتبعات UDP في BEP 15 <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 في عام 2008، والغالبية العظمى من المتتبعات على الشبكة العادية أصبحت الآن تعمل بـ UDP فقط.</p>
<p>من الصعب حساب توفير عرض النطاق الترددي للـ datagrams مقابل بروتوكول streaming. الطلب القابل للرد له نفس حجم streaming SYN تقريباً، ولكن الـ payload أصغر بحوالي 500 بايت لأن HTTP GET يحتوي على سلسلة معاملات URL ضخمة بحجم 600 بايت. الرد الخام أصغر بكثير من streaming SYN ACK، مما يوفر تقليلاً كبيراً لحركة البيانات الصادرة من الـ tracker.</p>
<p>بالإضافة إلى ذلك، يجب أن تكون هناك تخفيضات في الذاكرة خاصة بالتنفيذ، حيث أن datagrams تتطلب حالة في الذاكرة أقل بكثير من اتصال streaming.</p>
<p>التشفير وطرق التوقيع Post-Quantum كما هو متصور في <a href="../../../ar/proposals/169-pq-crypto/">/proposals/169-pq-crypto/</a>
 ستزيد بشكل كبير من الحمولة الإضافية للهياكل المشفرة والموقعة، بما في ذلك destinations و leasesets و streaming SYN و SYN ACK. من المهم تقليل هذه الحمولة الإضافية قدر الإمكان قبل اعتماد تشفير PQ في I2P.</p>
<h2 id="الدافع">الدافع</h2>
<p>هذا الاقتراح يستخدم repliable datagram2 و repliable datagram3 و raw datagrams، كما هو محدد في <a href="../../../ar/docs/api/datagrams/">/docs/api/datagrams/</a>
. Datagram2 و Datagram3 هما متغيران جديدان من repliable datagrams، محددان في الاقتراح 163 <a href="../../../ar/proposals/163-datagram2/">/proposals/163-datagram2/</a>
. Datagram2 يضيف مقاومة إعادة التشغيل ودعم التوقيع في وضع عدم الاتصال. Datagram3 أصغر من تنسيق datagram القديم، ولكن بدون مصادقة.</p>
<h3 id="bep-15">BEP 15</h3>
<p>للمرجعية، تدفق الرسائل المحدد في <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 هو كما يلي:</p>
<pre tabindex="0"><code>Client                        Tracker
    Connect Req. -------------&gt;
      &lt;-------------- Connect Resp.
    Announce Req. -------------&gt;
      &lt;-------------- Announce Resp.
    Announce Req. -------------&gt;
      &lt;-------------- Announce Resp.
</code></pre><p>مرحلة الاتصال مطلوبة لمنع انتحال عناوين IP. يُرجع المتتبع معرف اتصال يستخدمه العميل في الإعلانات اللاحقة. ينتهي صلاحية معرف الاتصال هذا افتراضياً خلال دقيقة واحدة عند العميل، وخلال دقيقتين عند المتتبع.</p>
<p>سوف يستخدم I2P نفس تدفق الرسائل كما في BEP 15، لسهولة الاعتماد في قواعد الأكواد الحالية للعملاء القادرة على UDP: من أجل الكفاءة، ولأسباب أمنية مناقشة أدناه:</p>
<pre tabindex="0"><code>Client                        Tracker
    Connect Req. -------------&gt;       (Repliable Datagram2)
      &lt;-------------- Connect Resp.   (Raw)
    Announce Req. -------------&gt;      (Repliable Datagram3)
      &lt;-------------- Announce Resp.  (Raw)
    Announce Req. -------------&gt;      (Repliable Datagram3)
      &lt;-------------- Announce Resp.  (Raw)
             ...
</code></pre><p>هذا يوفر احتمالياً توفيراً كبيراً في عرض النطاق الترددي مقارنة بإعلانات التدفق (TCP). بينما يكون حجم Datagram2 تقريباً نفس حجم streaming SYN، فإن الاستجابة الخام أصغر بكثير من streaming SYN ACK. الطلبات اللاحقة تستخدم Datagram3، والاستجابات اللاحقة تكون خام.</p>
<p>طلبات الإعلان هي Datagram3 بحيث لا يحتاج الـ tracker إلى الاحتفاظ بجدول تعيين كبير لمعرفات الاتصال إلى وجهة الإعلان أو الـ hash. بدلاً من ذلك، قد يقوم الـ tracker بتوليد معرفات الاتصال تشفيرياً من hash المرسل، والطابع الزمني الحالي (بناءً على فترة زمنية معينة)، وقيمة سرية. عندما يتم استلام طلب إعلان، يقوم الـ tracker بالتحقق من صحة معرف الاتصال، ثم يستخدم hash مرسل الـ Datagram3 كهدف الإرسال.</p>
<h3 id="تاريخ-التغييرات">تاريخ التغييرات</h3>
<p>بالنسبة للتطبيقات المتكاملة (router والعميل في عملية واحدة، على سبيل المثال i2psnark، وإضافة ZzzOT Java)، أو للتطبيقات المبنية على I2CP (على سبيل المثال BiglyBT)، يجب أن يكون من المباشر تنفيذ وتوجيه حركة البيانات المتدفقة والرسائل المباشرة بشكل منفصل. من المتوقع أن يكون ZzzOT و i2psnark أول متتبع وعميل لتنفيذ هذا الاقتراح.</p>
<p>سيتم مناقشة المتتبعات والعملاء غير المدمجة أدناه.</p>
<h4 id="trackers">Trackers</h4>
<p>هناك أربعة تطبيقات معروفة لـ I2P tracker:</p>
<ul>
<li>zzzot، مكون إضافي متكامل لـ Java router، يعمل على opentracker.dg2.i2p وعدة مواقع أخرى</li>
<li>tracker2.postman.i2p، يعمل على الأرجح خلف Java router ونفق HTTP Server</li>
<li>opentracker القديم المكتوب بـ C، تم نقله بواسطة zzz، مع تعطيل دعم UDP</li>
<li>opentracker الجديد المكتوب بـ C، تم نقله بواسطة r4sas، يعمل على opentracker.r4sas.i2p وربما مواقع أخرى،
يعمل على الأرجح خلف i2pd router ونفق HTTP Server</li>
</ul>
<p>بالنسبة لتطبيق tracker خارجي يستخدم حاليًا نفق خادم HTTP لتلقي طلبات الإعلان، قد يكون التنفيذ صعبًا جداً. يمكن تطوير نفق متخصص لترجمة البيانات المجمعة إلى طلبات/استجابات HTTP محلية. أو يمكن تصميم نفق متخصص يتعامل مع كل من طلبات HTTP والبيانات المجمعة والذي يقوم بتوجيه البيانات المجمعة إلى العملية الخارجية. هذه القرارات التصميمية ستعتمد بشكل كبير على تنفيذات router وtracker المحددة، وهي خارج نطاق هذا الاقتراح.</p>
<h4 id="clients">Clients</h4>
<p>عملاء التورنت الخارجيون المبنيون على SAM مثل qbittorrent والعملاء الأخرى المبنية على libtorrent سوف تتطلب <a href="../../../ar/docs/api/samv3/">SAM v3.3</a>
 والذي غير مدعوم من قبل i2pd. هذا مطلوب أيضاً لدعم DHT، ومعقد بما فيه الكفاية بحيث لم يقم أي عميل تورنت SAM معروف بتطبيقه. لا يُتوقع تطبيقات مبنية على SAM لهذا الاقتراح قريباً.</p>
<h3 id="connection-lifetime">Connection Lifetime</h3>
<p><a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 يحدد أن معرف الاتصال ينتهي خلال دقيقة واحدة في العميل، وخلال دقيقتين في المتتبع. وهو غير قابل للتكوين. هذا يحد من مكاسب الكفاءة المحتملة، ما لم يقم العملاء بتجميع الإعلانات للقيام بها جميعاً ضمن نافزة زمنية مدتها دقيقة واحدة. i2psnark لا يقوم حالياً بتجميع الإعلانات؛ بل ينشرها على فترات، لتجنب اندفاعات حركة المرور. يُذكر أن المستخدمين المتقدمين يشغلون آلاف التورنتات في آن واحد، واندفاع هذا العدد الكبير من الإعلانات في دقيقة واحدة غير واقعي.</p>
<p>هنا، نقترح توسيع استجابة الاتصال لإضافة حقل اختياري لمدة الاتصال. الافتراضي، إذا لم يكن موجوداً، هو دقيقة واحدة. وإلا، فإن المدة المحددة بالثواني، يجب أن يستخدمها العميل، وسيحتفظ المتتبع بمعرف الاتصال لدقيقة إضافية واحدة.</p>
<h3 id="compatibility-with-bep-15">Compatibility with BEP 15</h3>
<p>يحافظ هذا التصميم على التوافق مع <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 قدر الإمكان لتقليل التغييرات المطلوبة في العملاء والمتتبعات الموجودة.</p>
<p>التغيير الوحيد المطلوب هو تنسيق معلومات النظير في استجابة الإعلان. إضافة حقل lifetime في استجابة الاتصال غير مطلوبة ولكنها موصى بها بشدة للكفاءة، كما هو موضح أعلاه.</p>
<h3 id="bep-15-1">BEP 15</h3>
<p>هدف مهم لبروتوكول الإعلان UDP هو منع انتحال العناوين. يجب أن يكون العميل موجوداً فعلياً ويحزم leaseset حقيقي. يجب أن يملك tunnels واردة لاستقبال Connect Response. هذه tunnels يمكن أن تكون بدون قفزات ومبنية فورياً، لكن ذلك سيكشف المنشئ. هذا البروتوكول يحقق ذلك الهدف.</p>
<h3 id="دعم-trackerclient">دعم Tracker/Client</h3>
<ul>
<li>هذا الاقتراح لا يدعم الوجهات المعماة (blinded destinations)،
ولكن قد يتم توسيعه لدعمها. انظر أدناه.</li>
</ul>
<h2 id="التصميم">التصميم</h2>
<h3 id="protocols-and-ports">Protocols and Ports</h3>
<p>Repliable Datagram2 يستخدم I2CP protocol 19؛ repliable Datagram3 يستخدم I2CP protocol 20؛ raw datagrams تستخدم I2CP protocol 18. الطلبات قد تكون Datagram2 أو Datagram3. الردود دائماً raw. تنسيق repliable datagram الأقدم (&ldquo;Datagram1&rdquo;) الذي يستخدم I2CP protocol 17 يجب ألا يُستخدم للطلبات أو الردود؛ يجب إسقاط هذه إذا تم استقبالها على منافذ الطلب/الرد. لاحظ أن Datagram1 protocol 17 لا يزال يُستخدم لبروتوكول DHT.</p>
<p>تستخدم الطلبات منفذ I2CP &ldquo;to port&rdquo; من رابط الإعلان؛ انظر أدناه. يتم اختيار &ldquo;from port&rdquo; للطلب بواسطة العميل، ولكن يجب أن يكون غير صفر، ومنفذ مختلف عن تلك المستخدمة بواسطة DHT، بحيث يمكن تصنيف الاستجابات بسهولة. يجب على المتتبعات رفض الطلبات المستلمة على المنفذ الخاطئ.</p>
<p>الاستجابات تستخدم &ldquo;منفذ الوجهة&rdquo; من I2CP من الطلب. &ldquo;منفذ المصدر&rdquo; للطلب هو &ldquo;منفذ الوجهة&rdquo; من الطلب.</p>
<h3 id="announce-url">Announce URL</h3>
<p>تنسيق URL للإعلان غير محدد في <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
، ولكن كما هو الحال في clearnet، فإن URLs الإعلان UDP تكون بالشكل &ldquo;udp://host:port/path&rdquo;. يتم تجاهل المسار وقد يكون فارغاً، ولكنه عادة ما يكون &ldquo;/announce&rdquo; على clearnet. يجب أن يكون جزء :port موجوداً دائماً، ومع ذلك، إذا تم حذف جزء &ldquo;:port&rdquo;، استخدم منفذ I2CP افتراضي وهو 6969، حيث أن هذا هو المنفذ الشائع على clearnet. قد تكون هناك أيضاً معاملات cgi مُضافة &amp;a=b&amp;c=d، والتي يمكن معالجتها وتوفيرها في طلب الإعلان، انظر <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
. إذا لم تكن هناك معاملات أو مسار، فيمكن أيضاً حذف الرمز / الأخير، كما هو مضمن في <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
.</p>
<h3 id="مدة-الاتصال">مدة الاتصال</h3>
<p>جميع القيم يتم إرسالها بترتيب البايت الشبكي (big endian). لا تتوقع أن تكون الحزم بحجم معين بالضبط. التحسينات المستقبلية قد تزيد من حجم الحزم.</p>
<h4 id="connect-request">Connect Request</h4>
<p>العميل إلى المتتبع. 16 بايت. يجب أن يكون Datagram2 قابل للرد عليه. نفس الشيء كما في <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
. لا توجد تغييرات.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
  0       64-bit integer  protocol_id     0x41727101980 // magic constant
  8       32-bit integer  action          0 // connect
  12      32-bit integer  transaction_id
</code></pre><h4 id="connect-response">Connect Response</h4>
<p>من المتتبع إلى العميل. 16 أو 18 بايت. يجب أن تكون خام. نفس الشيء كما في <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 باستثناء ما هو مذكور أدناه.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
  0       32-bit integer  action          0 // connect
  4       32-bit integer  transaction_id
  8       64-bit integer  connection_id
  16      16-bit integer  lifetime        optional  // Change from BEP 15
</code></pre><p>يجب إرسال الاستجابة إلى &ldquo;منفذ الوجهة&rdquo; في I2CP الذي تم استلامه كـ &ldquo;منفذ المصدر&rdquo; في الطلب.</p>
<p>حقل lifetime اختياري ويشير إلى مدة بقاء connection_id للعميل بالثواني. القيمة الافتراضية هي 60، والحد الأدنى إذا تم تحديده هو 60. الحد الأقصى هو 65535 أو حوالي 18 ساعة. يجب على المتتبع الحفاظ على connection_id لمدة 60 ثانية إضافية أكثر من مدة بقاء العميل.</p>
<h4 id="announce-request">Announce Request</h4>
<p>من العميل إلى المتتبع. 98 بايت كحد أدنى. يجب أن يكون Datagram3 قابل للرد عليه. مطابق لما هو موجود في <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 باستثناء ما هو مذكور أدناه.</p>
<p>الـ connection_id هو كما تم استلامه في استجابة الاتصال.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
  0       64-bit integer  connection_id
  8       32-bit integer  action          1     // announce
  12      32-bit integer  transaction_id
  16      20-byte string  info_hash
  36      20-byte string  peer_id
  56      64-bit integer  downloaded
  64      64-bit integer  left
  72      64-bit integer  uploaded
  80      32-bit integer  event           0     // 0: none; 1: completed; 2: started; 3: stopped
  84      32-bit integer  IP address      0     // default
  88      32-bit integer  key
  92      32-bit integer  num_want        -1    // default
  96      16-bit integer  port
  98      varies          options     optional  // As specified in BEP 41
</code></pre><p>التغييرات من <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
:</p>
<ul>
<li>key يتم تجاهلها</li>
<li>port على الأرجح يتم تجاهلها</li>
<li>قسم الخيارات، إذا كان موجوداً، يتم تعريفه كما في <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
</li>
</ul>
<p>يجب إرسال الاستجابة إلى &ldquo;منفذ الوجهة&rdquo; الخاص بـ I2CP الذي تم استلامه كـ &ldquo;منفذ المصدر&rdquo; للطلب. لا تستخدم المنفذ من طلب الإعلان.</p>
<h4 id="announce-response">Announce Response</h4>
<p>من المتتبع إلى العميل. 20 بايت كحد أدنى. يجب أن يكون خاماً. نفس ما هو موجود في <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 باستثناء ما هو مذكور أدناه.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
  0           32-bit integer  action          1 // announce
  4           32-bit integer  transaction_id
  8           32-bit integer  interval
  12          32-bit integer  leechers
  16          32-bit integer  seeders
  20   32 * n 32-byte hash    binary hashes     // Change from BEP 15
  ...                                           // Change from BEP 15
</code></pre><p>التغييرات من <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
:</p>
<ul>
<li>بدلاً من 6-byte IPv4+port أو 18-byte IPv6+port، نقوم بإرجاع
مضاعف من &ldquo;الاستجابات المضغوطة&rdquo; بحجم 32-byte مع SHA-256 binary peer hashes.
كما هو الحال مع استجابات TCP المضغوطة، لا نقوم بتضمين port.</li>
</ul>
<p>يجب إرسال الاستجابة إلى &ldquo;منفذ الوجهة&rdquo; I2CP الذي تم استلامه كـ &ldquo;منفذ المصدر&rdquo; للطلب. لا تستخدم المنفذ من طلب الإعلان.</p>
<p>تحتوي مخططات البيانات I2P على حد أقصى كبير جداً يبلغ حوالي 64 كيلوبايت؛ ومع ذلك، للتسليم الموثوق، يجب تجنب مخططات البيانات الأكبر من 4 كيلوبايت. من أجل كفاءة عرض النطاق الترددي، يجب أن تقوم أجهزة التتبع بتقييد الحد الأقصى للأقران إلى حوالي 50، مما يتوافق مع حوالي 1600 بايت لكل حزمة قبل الحمولة الإضافية في الطبقات المختلفة، ويجب أن يكون ضمن حد الحمولة لرسالتي tunnel بعد التجزئة.</p>
<p>كما هو الحال في BEP 15، لا يوجد عداد مُضمّن لعدد عناوين الأقران (IP/port في BEP 15، الخلاصات المُجمّعة هنا) التي ستتبع. وبينما لم يُؤخذ هذا في الاعتبار في BEP 15، يمكن تعريف علامة نهاية الأقران المكونة من جميع الأصفار للإشارة إلى أن معلومات الأقران مكتملة وأن بعض بيانات الإضافة تتبع.</p>
<p>لذلك حتى يكون التوسع ممكناً في المستقبل، يجب على العملاء تجاهل hash مكون من 32 بايت جميعها أصفار، وأي بيانات تتبعها. يجب على أجهزة التتبع رفض الإعلانات من hash جميعه أصفار، رغم أن هذا الـ hash محظور بالفعل بواسطة موجهات Java.</p>
<h4 id="scrape">Scrape</h4>
<p>طلب/استجابة Scrape من <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 غير مطلوب بواسطة هذا الاقتراح، ولكن يمكن تنفيذه إذا رغبت في ذلك، لا توجد تغييرات مطلوبة. يجب على العميل الحصول على معرف الاتصال أولاً. طلب scrape هو دائماً Datagram3 قابل للرد. استجابة scrape هي دائماً خام.</p>
<h4 id="المتتبعات">المتتبعات</h4>
<p>من المتتبع إلى العميل. 8 بايت كحد أدنى (إذا كانت الرسالة فارغة). يجب أن تكون خام. نفس الشيء كما في <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
. لا توجد تغييرات.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
  0       32-bit integer  action          3 // error
  4       32-bit integer  transaction_id
  8       string          message
</code></pre><h2 id="extensions">Extensions</h2>
<p>لا يتم تضمين بتات التمديد أو حقل الإصدار. يجب على العملاء والمتتبعات عدم افتراض أن الحزم لها حجم معين. بهذه الطريقة، يمكن إضافة حقول إضافية دون كسر التوافق. يُنصح بتنسيق التمديدات المعرّف في <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
 إذا لزم الأمر.</p>
<p>يتم تعديل استجابة الاتصال لإضافة مدة صالحية اختيارية لمعرف الاتصال.</p>
<p>إذا كان دعم الوجهة المخفية (blinded destination) مطلوباً، يمكننا إما إضافة العنوان المخفي المكون من 35 بايت إلى نهاية طلب الإعلان، أو طلب الـ hashes المخفية في الاستجابات، باستخدام تنسيق <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
 (المعاملات TBD). يمكن إضافة مجموعة عناوين النظراء (peer addresses) المخفية المكونة من 35 بايت إلى نهاية رد الإعلان، بعد hash مكون من 32 بايت من الأصفار.</p>
<h2 id="implementation-guidelines">Implementation guidelines</h2>
<p>راجع قسم التصميم أعلاه لمناقشة التحديات التي تواجه العملاء والمتتبعات غير المتكاملة وغير المستخدمة لـ I2CP.</p>
<h3 id="التوافق-مع-bep-15">التوافق مع BEP 15</h3>
<p>لاسم مضيف tracker معين، يجب على العميل تفضيل UDP على عناوين HTTP، ويجب ألا يعلن لكليهما.</p>
<p>العملاء الذين يدعمون BEP 15 حاليًا يجب أن يحتاجوا فقط إلى تعديلات صغيرة.</p>
<p>إذا كان العميل يدعم DHT أو بروتوكولات datagram أخرى، فيجب عليه على الأرجح اختيار منفذ مختلف كـ &ldquo;منفذ المرسل&rdquo; للطلب بحيث تعود الردود إلى ذلك المنفذ ولا تختلط مع رسائل DHT. العميل يستقبل فقط datagrams خام كردود. أجهزة التتبع لن ترسل أبداً datagram2 قابل للرد إلى العميل.</p>
<p>العملاء الذين لديهم قائمة افتراضية من الـ opentrackers يجب أن يحدثوا القائمة لإضافة عناوين UDP بعد أن تصبح الـ opentrackers المعروفة معروفة بدعمها لـ UDP.</p>
<p>قد يقوم العملاء بتنفيذ إعادة إرسال الطلبات أو قد لا يقومون بذلك. إعادة الإرسال، في حال تنفيذها، يجب أن تستخدم مهلة زمنية أولية لا تقل عن 15 ثانية، وتضاعف المهلة الزمنية لكل إعادة إرسال (التراجع الأسي).</p>
<p>يجب على العملاء التراجع بعد تلقي استجابة خطأ.</p>
<h3 id="تحليل-الأمان">تحليل الأمان</h3>
<p>المتتبعات التي تدعم BEP 15 حاليًا يجب أن تتطلب تعديلات صغيرة فقط. يختلف هذا الاقتراح عن اقتراح 2014، في أن المتتبع يجب أن يدعم استقبال datagram2 و datagram3 القابلة للرد على نفس المنفذ.</p>
<p>لتقليل متطلبات موارد tracker، تم تصميم هذا البروتوكول للقضاء على أي متطلب بأن يخزن tracker خرائط hashes العملاء إلى معرفات الاتصال للتحقق اللاحق. هذا ممكن لأن حزمة طلب الإعلان هي حزمة Datagram3 قابلة للرد، لذا فهي تحتوي على hash المرسل.</p>
<p>التنفيذ الموصى به هو:</p>
<ul>
<li>عرّف الحقبة الحالية كالوقت الحالي بدقة تساوي مدة الاتصال،
<code>epoch = now / lifetime</code>.</li>
<li>عرّف دالة تشفير تجمعية <code>H(secret, clienthash, epoch)</code> تولد
مخرجات بحجم 8 بايت.</li>
<li>ولّد الثابت العشوائي السري المستخدم لجميع الاتصالات.</li>
<li>لاستجابات الاتصال، ولّد <code>connection_id = H(secret,  clienthash, epoch)</code></li>
<li>لطلبات الإعلان، تحقق من معرف الاتصال المستلم في الحقبة الحالية بالتأكد من
<code>connection_id == H(secret, clienthash, epoch) || connection_id == H(secret, clienthash, epoch - 1)</code></li>
</ul>
<h2 id="migration">Migration</h2>
<p>العملاء الحاليون لا يدعمون عناوين URL للإعلان عبر UDP ويتجاهلونها.</p>
<p>أدوات التتبع الموجودة لا تدعم استقبال الرسائل القابلة للرد أو البيانات الخام، وسيتم إسقاطها.</p>
<p>هذا الاقتراح اختياري بالكامل. لا يُطلب من العملاء أو المتتبعات تنفيذه في أي وقت.</p>
<h2 id="rollout">Rollout</h2>
<p>من المتوقع أن تكون التطبيقات الأولى في ZzzOT و i2psnark. سيتم استخدامها لاختبار والتحقق من هذا الاقتراح.</p>
<p>التطبيقات الأخرى ستتبع حسب الرغبة بعد اكتمال الاختبار والتحقق.</p>

                </article>

                
                <nav class="page-nav">
                    <a href="../../../ar/proposals/" class="page-nav-link">
                        ← Back to Proposals
                    </a>
                    
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    <a href="../../../proposals/160-udp-trackers.txt" class="page-nav-link" download>
                        Download Source (.txt)
                    </a>
                    
                </nav>
            </div>
        </div>
    </div>
</div>

<style>
.proposals-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.proposal-header {
    margin-bottom: var(--spacing-2xl);
}

.proposal-title-section {
    margin-bottom: var(--spacing-lg);
}

.proposal-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-sm) 0;
    color: var(--color-text);
}

.proposal-number {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    font-weight: 600;
}

 
.proposal-meta-box {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg);
}

.proposal-status {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 0.875rem;
    margin-bottom: var(--spacing-md);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

 
.status-open {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-open {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-accepted {
    background: #dbeafe;
    color: #0369a1;
}

.dark .status-accepted {
    background: #0c4a6e;
    color: #7dd3fc;
}

.status-finished {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-finished {
    background: #164e63;
    color: #86efac;
}

.status-closed {
    background: #dcfce7;
    color: #15803d;
}

.dark .status-closed {
    background: #164e63;
    color: #86efac;
}

.status-rejected {
    background: #fee2e2;
    color: #991b1b;
}

.dark .status-rejected {
    background: #7f1d1d;
    color: #fca5a5;
}

.status-draft,
.status-needs-revision,
.status-dead,
.status-needs-research {
    background: #fef3c7;
    color: #92400e;
}

.dark .status-draft,
.dark .status-needs-revision,
.dark .status-dead,
.dark .status-needs-research {
    background: #78350f;
    color: #fde047;
}

.status-meta,
.status-informational,
.status-reserve {
    background: #e9d5ff;
    color: #6b21a8;
}

.dark .status-meta,
.dark .status-informational,
.dark .status-reserve {
    background: #581c87;
    color: #e879f9;
}

 
.proposal-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

.info-label {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
}

.info-value {
    font-size: 0.9375rem;
    color: var(--color-text);
    font-weight: 500;
}

 
.proposal-relationships {
    border-top: 1px solid var(--color-border);
    padding-top: var(--spacing-md);
}

.relationship {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
}

.relationship:last-child {
    margin-bottom: 0;
}

.relationship-label {
    font-weight: 600;
    color: var(--color-text-muted);
    min-width: 120px;
}

.relationship-value {
    color: var(--color-text);
}

 
.proposal-layout {
    display: block;
}

.proposal-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.proposal-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.proposal-main {
    min-width: 0;
}

 
.proposal-content {
    line-height: 1.8;
    color: var(--color-text);
    max-width: 900px;
}

.proposal-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.proposal-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.proposal-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.proposal-content p {
    margin-bottom: var(--spacing-md);
}

.proposal-content ul,
.proposal-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.proposal-content li {
    margin-bottom: var(--spacing-xs);
}

.proposal-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.proposal-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
    font-size: 0.875rem;
}

.proposal-content pre code {
    background: none;
    padding: 0;
}

.proposal-content blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: var(--spacing-md);
    margin-left: 0;
    margin-bottom: var(--spacing-md);
    font-style: italic;
    color: var(--color-text-secondary);
}

.proposal-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.proposal-content a:hover {
    border-bottom-color: var(--color-primary);
}

.proposal-content table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--spacing-md);
}

.proposal-content table th {
    background: var(--color-bg-secondary);
    padding: var(--spacing-sm);
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid var(--color-border);
}

.proposal-content table td {
    padding: var(--spacing-sm);
    border-bottom: 1px solid var(--color-border);
}

.proposal-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

 
.page-nav {
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.page-nav-link {
    display: inline-block;
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    color: var(--color-text);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
}

 
@media (max-width: 1024px) {
    .proposal-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .proposal-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .proposal-title {
        font-size: 1.75rem;
    }

    .proposal-info-grid {
        grid-template-columns: 1fr;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">ابقَ على اطلاع بأخبار I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="أدخل بريدك الإلكتروني" required>
                            <button type="submit">اشترك</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>روابط سريعة</h3>
                <ul>
                    <li><a href="../../../ar/financial-support/">تبرع</a></li>
                    <li><a href="../../../ar/docs/overview/intro/">مقدمة I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>المجتمع</h3>
                <ul>
                    <li><a href="../../../ar/get-involved/">شارك معنا</a></li>
                    <li><a href="../../../ar/blog/">مدونة</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">المنتديات الرسمية</a></li>
                    <li><a href="../../../ar/contact/">اتصل بنا</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>الموارد</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">إحصائيات I2P</a></li>
                    <li><a href="../../../ar/papers/">بحث</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">ستورمي كلاود</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 مشروع الإنترنت الخفي. مرخص تحت Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../ar/privacy/">الخصوصية</a>
                <a href="../../../ar/terms/">الشروط</a>
                <a href="../../../ar/about/media/">الصحافة</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="إغلاق">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>استطلاع المجتمع</h2>
            <p class="modal-subtitle">نود أن نسمع منك</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                يساعد تصويتك في تشكيل مستقبل I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>