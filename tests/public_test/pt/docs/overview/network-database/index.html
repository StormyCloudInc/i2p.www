<!DOCTYPE html>
<html lang="pt" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Banco de dados da rede | I2P - O Projeto de Internet Invisível</title>

    <meta name="description" content="Compreendendo o banco de dados de rede distribuído (netDb) do I2P - um DHT especializado para informações de contato de router e consultas de destinos">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="Banco de dados da rede | I2P - O Projeto de Internet Invisível">
    <meta property="og:description" content="Compreendendo o banco de dados de rede distribuído (netDb) do I2P - um DHT especializado para informações de contato de router e consultas de destinos">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/pt/docs/overview/network-database/">

    
    <link rel="icon" type="image/svg+xml" href="../../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">Site Beta I2P Agora no Ar Reporte problemas por e-mail para stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="Fechar banner" title="Fechar banner">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../../pt/" class="logo-link">
                    <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../../pt/about/" class="">Sobre</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../pt/about/">Visão Geral</a></li>
                            <li><a href="../../../../pt/papers/">Artigos de Pesquisa</a></li>
                            <li><a href="../../../../pt/about/media/">Imprensa</a></li>
                            <li><a href="../../../../pt/contact/">Contate-nos</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../../pt/docs/" class="active">Docs</a></li>
                    <li><a href="../../../../pt/downloads/" class="">Downloads</a></li>
                    <li><a href="../../../../pt/blog/" class="">Blog</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../../pt/get-involved/" class="">Participe</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../pt/get-involved/">Visão Geral</a></li>
                            <li><a href="../../../../pt/feedback/">Sugestões de Recursos</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">pt</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../en/docs/overview/network-database/"
                                class="lang-option">Inglês</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../es/docs/overview/network-database/"
                                class="lang-option">Espanhol</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ko/docs/overview/network-database/"
                                class="lang-option">Coreano</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../zh/docs/overview/network-database/"
                                class="lang-option">Chinês</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ru/docs/overview/network-database/"
                                class="lang-option">Russo</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../cs/docs/overview/network-database/"
                                class="lang-option">Tcheco</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../de/docs/overview/network-database/"
                                class="lang-option">Alemão</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../fr/docs/overview/network-database/"
                                class="lang-option">Francês</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../tr/docs/overview/network-database/"
                                class="lang-option">Turco</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../vi/docs/overview/network-database/"
                                class="lang-option">Vietnamita</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../hi/docs/overview/network-database/"
                                class="lang-option">Hindi</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ar/docs/overview/network-database/"
                                class="lang-option">Árabe</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../pt/docs/overview/network-database/"
                                class="lang-option active">Português</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../../pt/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../../pt/downloads/" class="btn btn-primary">Obter I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        




<div class="docs-page">
    <div class="container">
        
        <div class="docs-layout docs-layout--with-toc">
            
            
            <aside class="docs-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#1-visão-geral">1. Visão geral</a></li>
    <li><a href="#2-routerinfo">2. RouterInfo</a>
      <ul>
        <li><a href="#21-sinalizadores-de-capacidade">2.1 Sinalizadores de Capacidade</a></li>
        <li><a href="#25-opções-da-família">2.5 Opções da Família</a></li>
        <li><a href="#26-expiração-do-routerinfo-informações-do-router">2.6 Expiração do RouterInfo (informações do router)</a></li>
      </ul>
    </li>
    <li><a href="#3-leaseset">3. LeaseSet</a>
      <ul>
        <li><a href="#31-variantes-de-leaseset">3.1 Variantes de LeaseSet</a></li>
      </ul>
    </li>
    <li><a href="#4-inicialização">4. Inicialização</a></li>
    <li><a href="#5-mecanismo-de-floodfill">5. Mecanismo de Floodfill</a>
      <ul>
        <li><a href="#51-requisitos-para-participação-no-floodfill">5.1 Requisitos para participação no Floodfill</a></li>
        <li><a href="#52-papéis-do-floodfill">5.2 Papéis do floodfill</a></li>
      </ul>
    </li>
    <li><a href="#6-métrica-de-proximidade-do-kademlia">6. Métrica de proximidade do Kademlia</a>
      <ul>
        <li><a href="#61-rotação-do-espaço-de-chaves">6.1 Rotação do Espaço de Chaves</a></li>
      </ul>
    </li>
    <li><a href="#7-segmentação-do-banco-de-dados-da-rede">7. Segmentação do Banco de Dados da Rede</a>
      <ul>
        <li><a href="#71-estratégia-de-segmentação">7.1 Estratégia de Segmentação</a></li>
      </ul>
    </li>
    <li><a href="#8-armazenamento-verificação-e-consulta">8. Armazenamento, Verificação e Consulta</a>
      <ul>
        <li><a href="#81-armazenamento-de-routerinfo-informações-do-router-para-pares">8.1 Armazenamento de RouterInfo (informações do router) para pares</a></li>
        <li><a href="#82-armazenamento-de-leaseset-para-pares">8.2 Armazenamento de LeaseSet para pares</a></li>
        <li><a href="#83-seleção-de-floodfill">8.3 Seleção de Floodfill</a></li>
        <li><a href="#84-armazenamento-de-routerinfo-nos-floodfills">8.4 Armazenamento de RouterInfo nos Floodfills</a></li>
        <li><a href="#85-armazenamento-de-leaseset-nos-floodfills">8.5 Armazenamento de LeaseSet nos Floodfills</a></li>
        <li><a href="#86-processo-de-inundação">8.6 Processo de inundação</a></li>
        <li><a href="#87-consulta-de-routerinfo-informações-do-router-e-leaseset">8.7 Consulta de RouterInfo (informações do router) e LeaseSet</a></li>
        <li><a href="#88-consultas-iterativas">8.8 Consultas Iterativas</a></li>
        <li><a href="#89-verificação">8.9 Verificação</a></li>
        <li><a href="#810-exploração">8.10 Exploração</a></li>
      </ul>
    </li>
    <li><a href="#9-multihoming-múltiplas-conexões-a-provedoresredes">9. MultiHoming (múltiplas conexões a provedores/redes)</a></li>
    <li><a href="#10-análise-de-ameaças">10. Análise de Ameaças</a>
      <ul>
        <li><a href="#101-mitigações-gerais">10.1 Mitigações Gerais</a></li>
        <li><a href="#102-routers-lentos-ou-sem-resposta">10.2 Routers lentos ou sem resposta</a></li>
        <li><a href="#103-ataque-sybil-espaço-de-chaves-completo">10.3 Ataque Sybil (Espaço de Chaves Completo)</a></li>
        <li><a href="#104-ataque-sybil-espaço-de-chaves-parcial">10.4 Ataque Sybil (Espaço de chaves parcial)</a></li>
        <li><a href="#105-ataques-de-inicialização">10.5 Ataques de Inicialização</a></li>
        <li><a href="#106-captura-de-consultas">10.6 Captura de Consultas</a></li>
        <li><a href="#107-vazamentos-de-informação">10.7 Vazamentos de Informação</a></li>
      </ul>
    </li>
    <li><a href="#11-trabalhos-futuros">11. Trabalhos futuros</a></li>
    <li><a href="#12-referências">12. Referências</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="docs-main">
                
                <nav class="breadcrumbs">
                    <a href="../../../../pt/">Home</a>
                    <span class="separator">/</span>
                    <a href="../../../../pt/docs/">Docs</a>
                    
                        
                            <span class="separator">/</span>
                            <a href="../../../../pt/docs/overview/">Overview</a>
                        
                    
                    <span class="separator">/</span>
                    <span class="current">Banco de dados da rede</span>
                </nav>

                
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">Esta tradução foi gerada usando aprendizado de máquina e pode não ser 100% precisa.</span>
    
    
    <a href="../../../../en/docs/overview/network-database/" class="disclaimer-link">Ver versão em inglês</a>
    
</div>



                
                <header class="article-header">
                    <h1 class="article-title">Banco de dados da rede</h1>
                    
                        <p class="article-description">Compreendendo o banco de dados de rede distribuído (netDb) do I2P - um DHT especializado para informações de contato de router e consultas de destinos</p>
                    
                    <div class="article-meta">
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Updated: 2025-03
                            </span>
                        
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                Accurate for: 2.10.0
                            </span>
                        
                    </div>
                </header>

                
                <article class="article-content">
                    <hr>
<h2 id="1-visão-geral">1. Visão geral</h2>
<p>O <strong>netDb</strong> é um banco de dados distribuído especializado que contém apenas dois tipos de dados: - <strong>RouterInfos</strong> – informações de contato do router - <strong>LeaseSets</strong> – informações de contato do destino</p>
<p>Todos os dados são assinados criptograficamente e verificáveis. Cada entrada inclui informações de liveness (indicadores de atividade) para descartar entradas obsoletas e substituir as desatualizadas, protegendo contra certas classes de ataque.</p>
<p>A distribuição usa um mecanismo de <strong>floodfill</strong> (método de armazenamento e propagação da base de dados distribuída no I2P), no qual um subconjunto de routers mantém essa base de dados.</p>
<hr>
<h2 id="2-routerinfo">2. RouterInfo</h2>
<p>Quando routers precisam se comunicar com outros routers, eles trocam pacotes <strong>RouterInfo</strong> contendo:</p>
<ul>
<li><strong>Identidade do router</strong> – chave de criptografia, chave de assinatura, certificado</li>
<li><strong>Endereços de contato</strong> – como alcançar o router</li>
<li><strong>Carimbo de data e hora da publicação</strong> – quando esta informação foi publicada</li>
<li><strong>Opções de texto arbitrárias</strong> – sinalizadores de capacidade e configurações</li>
<li><strong>Assinatura criptográfica</strong> – comprova a autenticidade</li>
</ul>
<h3 id="21-sinalizadores-de-capacidade">2.1 Sinalizadores de Capacidade</h3>
<p>Os Routers anunciam capacidades por meio de códigos de letras em seu RouterInfo:</p>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Flag</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>f</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Floodfill participation</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>R</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reachable</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>U</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Unreachable</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>D</strong>, <strong>E</strong>, <strong>G</strong>, <strong>H</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Various capability indicators</td>
    </tr>
  </tbody>
</table>
### 2.2 Classificações de largura de banda
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Code</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Bandwidth</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>K</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Under 12 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>L</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">12–48 KBps (default)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>M</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">48–64 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>N</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">64–128 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>O</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">128–256 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>P</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">256–2000 KBps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>X</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Over 2000 KBps</td>
    </tr>
  </tbody>
</table>
### 2.3 Valores de ID de Rede
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Value</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">0</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reserved</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">1</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Current Network (default)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">2</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reserved for Future Networks</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">3–15</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Forks and Test Networks</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">16–254</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reserved</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">255</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Reserved</td>
    </tr>
  </tbody>
</table>
### 2.4 Estatísticas do RouterInfo
<p>Routers publicam estatísticas opcionais de saúde para análise da rede: - Taxas de sucesso/rejeição/tempo limite na construção de tunnel exploratório - Média de 1 hora do número de tunnel participantes</p>
<p>As estatísticas seguem o formato <code>stat_(statname).(statperiod)</code> com valores separados por ponto e vírgula.</p>
<p><strong>Estatísticas de exemplo:</strong></p>
<pre tabindex="0"><code>stat_tunnel.buildExploratoryExpire.60m = 0;0;0;53.14
stat_tunnel.buildExploratoryReject.60m = 0;0;0;15.51
stat_tunnel.buildExploratorySuccess.60m = 0;0;0;31.35
stat_tunnel.participatingTunnels.60m = 289.20
</code></pre><p>Os Floodfill routers também podem publicar: <code>netdb.knownLeaseSets</code> e <code>netdb.knownRouters</code></p>
<h3 id="25-opções-da-família">2.5 Opções da Família</h3>
<p>A partir da versão 0.9.24, routers podem declarar que pertencem a uma família (mesmo operador):</p>
<ul>
<li><strong>family</strong>: Nome da família</li>
<li><strong>family.key</strong>: Código do tipo de assinatura concatenado com a chave pública de assinatura codificada em base64</li>
<li><strong>family.sig</strong>: Assinatura do nome da família e do hash do router de 32 bytes</li>
</ul>
<p>Múltiplos routers da mesma família não serão utilizados em tunnels individuais.</p>
<h3 id="26-expiração-do-routerinfo-informações-do-router">2.6 Expiração do RouterInfo (informações do router)</h3>
<ul>
<li>Sem expiração durante a primeira hora de tempo de atividade</li>
<li>Sem expiração com 25 ou menos RouterInfos (informações de router) armazenados</li>
<li>A expiração diminui conforme a contagem local cresce (72 horas em &lt;120 routers; ~30 horas em 300 routers)</li>
<li>Os SSU introducers (nós de introdução) expiram em ~1 hora</li>
<li>Floodfills usam expiração de 1 hora para todos os RouterInfos locais</li>
</ul>
<hr>
<h2 id="3-leaseset">3. LeaseSet</h2>
<p>Os <strong>LeaseSets</strong> descrevem os pontos de entrada de tunnel para destinos específicos, especificando:</p>
<ul>
<li><strong>Identidade do router gateway do Tunnel</strong></li>
<li><strong>ID do tunnel de 4 bytes</strong></li>
<li><strong>Tempo de expiração do Tunnel</strong></li>
</ul>
<p>LeaseSets incluem: - <strong>Destino</strong> – chave de criptografia, chave de assinatura, certificado - <strong>Chave pública de criptografia adicional</strong> – para garlic encryption de ponta a ponta (técnica do I2P que agrupa múltiplas mensagens criptografadas em um único pacote) - <strong>Chave pública de assinatura adicional</strong> – destinada à revogação (atualmente não utilizada) - <strong>Assinatura criptográfica</strong></p>
<h3 id="31-variantes-de-leaseset">3.1 Variantes de LeaseSet</h3>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Type</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Unpublished</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Destinations used only for outgoing connections aren't published to floodfill routers</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Revoked</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Published with zero leases, signed by additional signing key (not fully implemented)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>LeaseSet2 (LS2)</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">As of 0.9.38, supports new encryption types, multiple encryption types, options, offline signing keys ([Proposal 123](/proposals/123-new-netdb-entries/))</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Meta LeaseSet</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Tree-like DHT structure for multihomed services, supporting hundreds/thousands of destinations with long expirations (up to 18.2 hours)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Encrypted LeaseSet (LS1)</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">All leases encrypted with separate key; only those with the key can decode and contact the destination</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><strong>Encrypted LeaseSet (LS2)</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">As of 0.9.38, destination hidden with only blinded public key and expiration visible to floodfill</td>
    </tr>
  </tbody>
</table>
### 3.2 Expiração do LeaseSet
<p>LeaseSets regulares expiram quando ocorre a expiração do lease (alocação de túnel) mais tardio. A expiração do LeaseSet2 é especificada no cabeçalho. As expirações de EncryptedLeaseSet e MetaLeaseSet podem variar, com possível imposição de um limite máximo.</p>
<hr>
<h2 id="4-inicialização">4. Inicialização</h2>
<p>A netDb descentralizada requer pelo menos uma referência de par para se integrar. <strong>Reseeding</strong> (processo de obtenção inicial de referências de pares) recupera arquivos RouterInfo (<code>routerInfo-$hash.dat</code>) a partir dos diretórios netDb de voluntários. Na primeira inicialização, obtém automaticamente a partir de URLs embutidas no código, selecionadas aleatoriamente.</p>
<hr>
<h2 id="5-mecanismo-de-floodfill">5. Mecanismo de Floodfill</h2>
<p>O netDb floodfill usa armazenamento distribuído simples: envia os dados para o par floodfill mais próximo. Quando pares não-floodfill enviam store (mensagens de armazenamento), os floodfills encaminham para um subconjunto de pares floodfill mais próximos da chave específica.</p>
<p>A participação em floodfill é indicada como uma flag de capacidade (<code>f</code>) no RouterInfo.</p>
<h3 id="51-requisitos-para-participação-no-floodfill">5.1 Requisitos para participação no Floodfill</h3>
<p>Ao contrário dos servidores de diretório confiáveis pré-definidos no código do Tor, o conjunto de floodfill do I2P é <strong>não confiável</strong> e muda ao longo do tempo.</p>
<p>Floodfill é ativado automaticamente apenas em routers de alta largura de banda que atendem a estes requisitos: - Largura de banda compartilhada mínima de 128 KBytes/sec (configurada manualmente) - Deve passar em testes de integridade adicionais (tempo da fila de mensagens de saída, atraso de tarefas)</p>
<p>O opt-in automático atual resulta em aproximadamente <strong>6% de participação floodfill na rede</strong>.</p>
<p>Floodfills configurados manualmente coexistem com voluntários automáticos. Quando o número de floodfills cai abaixo do limiar, routers de alta largura de banda voluntariam-se automaticamente. Quando há floodfills em excesso, eles deixam de atuar como floodfill.</p>
<h3 id="52-papéis-do-floodfill">5.2 Papéis do floodfill</h3>
<p>Além de aceitar armazenamentos do netDb e responder a consultas, os floodfills desempenham funções padrão de router. A maior largura de banda deles normalmente significa mais participação em tunnel, mas isso não está diretamente relacionado aos serviços de banco de dados.</p>
<hr>
<h2 id="6-métrica-de-proximidade-do-kademlia">6. Métrica de proximidade do Kademlia</h2>
<p>O netDb usa medição de distância baseada em XOR <strong>ao estilo Kademlia</strong>. O hash SHA256 de RouterIdentity ou Destination cria a chave Kademlia (exceto para LS2 Encrypted LeaseSets, que usam SHA256 do byte de tipo 3 mais a chave pública cegada).</p>
<h3 id="61-rotação-do-espaço-de-chaves">6.1 Rotação do Espaço de Chaves</h3>
<p>Para aumentar os custos de um ataque Sybil, em vez de usar <code>SHA256(key)</code>, o sistema usa:</p>
<pre tabindex="0"><code>SHA256(key + yyyyMMdd)
</code></pre><p>onde a data é uma data UTC em ASCII de 8 bytes. Isso cria a <strong>chave de roteamento</strong>, que muda diariamente à meia-noite UTC—processo chamado <strong>rotação do espaço de chaves</strong>.</p>
<p>As chaves de roteamento nunca são transmitidas em mensagens I2NP; são usadas apenas para determinação de distância local.</p>
<hr>
<h2 id="7-segmentação-do-banco-de-dados-da-rede">7. Segmentação do Banco de Dados da Rede</h2>
<p>As Kademlia DHTs (tabelas de hash distribuídas Kademlia) tradicionais não preservam a desvinculabilidade das informações armazenadas. O I2P previne ataques que associam tunnels de cliente a routers ao implementar <strong>segmentação</strong>.</p>
<h3 id="71-estratégia-de-segmentação">7.1 Estratégia de Segmentação</h3>
<p>Routers acompanham: - Se as entradas chegaram via tunnels do cliente ou diretamente - Se via tunnel, qual tunnel do cliente/destino - Múltiplas chegadas via tunnel são acompanhadas - Respostas de armazenamento vs. de consulta são diferenciadas</p>
<p>Ambas as implementações em Java e C++ utilizam: - Uma <strong>&ldquo;Main&rdquo; netDb</strong> para consultas diretas/operações de floodfill no contexto do router - <strong>&ldquo;Client Network Databases&rdquo;</strong> (Bancos de Dados de Rede do Cliente) ou <strong>&ldquo;Sub-Databases&rdquo;</strong> (Sub-bancos de dados) em contextos de cliente, capturando entradas enviadas para client tunnels</p>
<p>As netDbs do cliente existem apenas durante a vida útil do cliente, contendo apenas entradas de tunnel do cliente. Entradas provenientes de tunnels do cliente não podem se sobrepor a chegadas diretas.</p>
<p>Cada netDb rastreia se as entradas chegaram como armazenamentos (respondem a solicitações de consulta) ou como respostas de consulta (só respondem se previamente armazenadas para o mesmo destino). Os clientes nunca respondem a consultas com entradas do netDb principal, apenas com entradas do banco de dados de rede do cliente.</p>
<p>Estratégias combinadas <strong>segmentam</strong> a netDb (base de dados da rede do I2P) contra ataques de associação cliente-router.</p>
<hr>
<h2 id="8-armazenamento-verificação-e-consulta">8. Armazenamento, Verificação e Consulta</h2>
<h3 id="81-armazenamento-de-routerinfo-informações-do-router-para-pares">8.1 Armazenamento de RouterInfo (informações do router) para pares</h3>
<p>I2NP <code>DatabaseStoreMessage</code> contendo a troca local de RouterInfo (informações do router) durante a inicialização da conexão de transporte NTCP ou SSU.</p>
<h3 id="82-armazenamento-de-leaseset-para-pares">8.2 Armazenamento de LeaseSet para pares</h3>
<p>Mensagens I2NP <code>DatabaseStoreMessage</code> que contêm o LeaseSet local são trocadas periodicamente por meio de mensagens cifradas com garlic encryption, agrupadas com o tráfego da Destination (destino no I2P), permitindo respostas sem consultas ao LeaseSet.</p>
<h3 id="83-seleção-de-floodfill">8.3 Seleção de Floodfill</h3>
<p><code>DatabaseStoreMessage</code> envia para o floodfill mais próximo da chave de roteamento atual. O floodfill mais próximo é encontrado via busca no banco de dados local. Mesmo que não seja de fato o mais próximo, o flooding (difusão por inundação) o propaga &ldquo;mais perto&rdquo; ao enviá-lo para vários floodfills.</p>
<p>O Kademlia tradicional usa uma pesquisa &ldquo;find-closest&rdquo; (encontrar os mais próximos) antes da inserção. Embora o I2NP careça de tais mensagens, routers podem realizar uma pesquisa iterativa com o bit menos significativo invertido (<code>key ^ 0x01</code>) para garantir a descoberta do par realmente mais próximo.</p>
<h3 id="84-armazenamento-de-routerinfo-nos-floodfills">8.4 Armazenamento de RouterInfo nos Floodfills</h3>
<p>Routers publicam RouterInfo (informações do router) conectando-se diretamente a um floodfill, enviando I2NP <code>DatabaseStoreMessage</code> com Reply Token (token de resposta) diferente de zero. A mensagem não é end-to-end garlic encrypted (conexão direta, sem intermediários). O floodfill responde com <code>DeliveryStatusMessage</code> usando o Reply Token como ID da mensagem.</p>
<p>Routers também podem enviar RouterInfo (informações do router) via tunnel exploratório (limites de conexão, incompatibilidade, ocultação de IP). Floodfills podem rejeitar tais operações de armazenamento durante sobrecarga.</p>
<h3 id="85-armazenamento-de-leaseset-nos-floodfills">8.5 Armazenamento de LeaseSet nos Floodfills</h3>
<p>O armazenamento de LeaseSet é mais sensível do que o RouterInfo (informações do roteador). Routers devem impedir a associação de LeaseSet a si próprios.</p>
<p>Routers publicam LeaseSet via tunnel de cliente de saída <code>DatabaseStoreMessage</code> com Reply Token (token de resposta) diferente de zero. A mensagem é criptografada de ponta a ponta com garlic encryption usando o Session Key Manager (gerenciador de chaves de sessão) da Destination (destino), ocultando-a do endpoint de saída do tunnel. O floodfill responde com <code>DeliveryStatusMessage</code> retornado via tunnel de entrada.</p>
<h3 id="86-processo-de-inundação">8.6 Processo de inundação</h3>
<p>Floodfills validam RouterInfo/LeaseSet antes de armazená-los localmente, usando critérios adaptativos dependentes da carga, do tamanho do netdb e de outros fatores.</p>
<p>Após receberem dados mais recentes válidos, os floodfills (nós especiais na I2P que mantêm e propagam dados da netDb) &ldquo;flood&rdquo; esses dados procurando os 3 floodfill routers mais próximos da chave de roteamento. Conexões diretas enviam um I2NP <code>DatabaseStoreMessage</code> com Reply Token igual a zero. Outros routers não respondem nem fazem re-flood.</p>
<p><strong>Restrições importantes:</strong> - Floodfills não devem propagar via tunnels; apenas conexões diretas - Floodfills nunca propagam LeaseSet expirado ou RouterInfo (informações do router) publicado há mais de uma hora</p>
<h3 id="87-consulta-de-routerinfo-informações-do-router-e-leaseset">8.7 Consulta de RouterInfo (informações do router) e LeaseSet</h3>
<p>I2NP <code>DatabaseLookupMessage</code> solicita entradas do netDb aos routers floodfill. As consultas são enviadas via tunnel exploratório de saída; as respostas especificam o retorno pelo tunnel exploratório de entrada.</p>
<p>As consultas geralmente são enviadas para dois floodfill routers &ldquo;bons&rdquo; mais próximos da chave solicitada, em paralelo.</p>
<ul>
<li><strong>Correspondência local</strong>: recebe uma resposta I2NP <code>DatabaseStoreMessage</code></li>
<li><strong>Sem correspondência local</strong>: recebe uma I2NP <code>DatabaseSearchReplyMessage</code> com referências a outros floodfill routers próximos à chave</li>
</ul>
<p>Consultas de LeaseSet usam garlic encryption de ponta a ponta (a partir da versão 0.9.5). Consultas de RouterInfo (registro de informações do router) não são criptografadas devido ao custo computacional do ElGamal, o que as torna vulneráveis à espionagem no ponto de saída.</p>
<p>A partir da versão 0.9.7, as respostas de consulta incluem a chave de sessão e a tag, ocultando as respostas do inbound gateway (gateway de entrada).</p>
<h3 id="88-consultas-iterativas">8.8 Consultas Iterativas</h3>
<p>Pré-0.8.9: Duas consultas redundantes em paralelo, sem roteamento recursivo ou iterativo.</p>
<p>A partir da versão 0.8.9: <strong>Consultas iterativas</strong> implementadas sem redundância — mais eficientes, confiáveis e adequadas a um conhecimento de floodfill incompleto. À medida que as redes crescem e os routers conhecem menos floodfills, as consultas se aproximam da complexidade O(log n).</p>
<p>Buscas iterativas continuam mesmo sem referências a pares mais próximos, prevenindo black-holing (descartar silenciosamente o tráfego) malicioso. Aplicam-se a contagem máxima de consultas e o tempo limite atuais.</p>
<h3 id="89-verificação">8.9 Verificação</h3>
<p><strong>Verificação de RouterInfo</strong>: Desativada a partir da versão 0.9.7.1 para impedir ataques descritos no artigo &ldquo;Practical Attacks Against the I2P Network&rdquo;.</p>
<p><strong>Verificação do LeaseSet</strong>: Routers aguardam ~10 segundos e então consultam um floodfill diferente via tunnel de cliente de saída. A garlic encryption de ponta a ponta oculta as informações do ponto final de saída. As respostas retornam via tunnels de entrada.</p>
<p>A partir da versão 0.9.7, as respostas são criptografadas de forma a ocultar a chave/tag de sessão do gateway de entrada.</p>
<h3 id="810-exploração">8.10 Exploração</h3>
<p><strong>Exploração</strong> envolve uma consulta ao netdb (banco de dados da rede) com chaves aleatórias para descobrir novos routers (roteadores). Floodfills (roteadores especiais que mantêm o netdb) respondem com <code>DatabaseSearchReplyMessage</code> contendo hashes de routers não-floodfill próximos da chave solicitada. As consultas de exploração definem um sinalizador especial em <code>DatabaseLookupMessage</code>.</p>
<hr>
<h2 id="9-multihoming-múltiplas-conexões-a-provedoresredes">9. MultiHoming (múltiplas conexões a provedores/redes)</h2>
<p>Destinations (destinos do I2P) que utilizam o mesmo par de chaves privada/pública (tradicional <code>eepPriv.dat</code>) podem hospedar em múltiplos routers simultaneamente. Cada instância publica periodicamente LeaseSets assinados; o LeaseSet publicado mais recentemente é retornado aos solicitantes de consulta. Com tempos de vida de LeaseSet de até 10 minutos, as interrupções duram no máximo ~10 minutos.</p>
<p>A partir da versão 0.9.38, <strong>Meta LeaseSets</strong> oferecem suporte a serviços multihomed em grande escala usando Destinations (endereços I2P) separados que fornecem serviços comuns. As entradas de Meta LeaseSet são Destinations ou outros Meta LeaseSets com expiração de até 18,2 horas, permitindo que centenas/milhares de Destinations hospedem serviços comuns.</p>
<hr>
<h2 id="10-análise-de-ameaças">10. Análise de Ameaças</h2>
<p>Aproximadamente 1700 floodfill routers (um tipo especial de router no I2P) operam atualmente. O crescimento da rede dificulta a maioria dos ataques ou reduz seu impacto.</p>
<h3 id="101-mitigações-gerais">10.1 Mitigações Gerais</h3>
<ul>
<li><strong>Crescimento</strong>: Mais floodfills tornam os ataques mais difíceis ou menos impactantes</li>
<li><strong>Redundância</strong>: Todas as entradas do netdb são armazenadas em 3 routers floodfill mais próximos da chave via flooding (difusão em massa)</li>
<li><strong>Assinaturas</strong>: Todas as entradas são assinadas pelo criador; falsificações são impossíveis</li>
</ul>
<h3 id="102-routers-lentos-ou-sem-resposta">10.2 Routers lentos ou sem resposta</h3>
<p>Routers mantêm estatísticas ampliadas do perfil dos pares para floodfills: - Tempo médio de resposta - Percentual de respostas a consultas - Percentual de sucesso na verificação de armazenamento - Último armazenamento bem-sucedido - Última consulta bem-sucedida - Última resposta</p>
<p>Os routers usam essas métricas ao determinar a &ldquo;qualidade&rdquo; para selecionar o floodfill mais próximo. Routers que não respondem de forma alguma são rapidamente identificados e evitados; routers parcialmente maliciosos representam um desafio maior.</p>
<h3 id="103-ataque-sybil-espaço-de-chaves-completo">10.3 Ataque Sybil (Espaço de Chaves Completo)</h3>
<p>Atacantes podem criar numerosos floodfill routers distribuídos por todo o espaço de chaves como um ataque de negação de serviço (DoS) eficaz.</p>
<p>Se o comportamento inadequado não for suficiente para a designação &ldquo;bad&rdquo;, as possíveis respostas incluem: - Compilação de listas de hash/IP de router &ldquo;bad&rdquo; anunciadas via notícias do console, site, fórum - Habilitação de floodfill em toda a rede (&ldquo;combater Sybil com mais Sybil&rdquo;) - Novas versões de software com listas &ldquo;bad&rdquo; hardcoded (fixas no código) - Métricas e limiares de perfis de pares aprimorados para identificação automática - Qualificação por bloco de IP, desqualificando múltiplos floodfills em um único bloco de IP - Lista de bloqueio automática baseada em subscrição (semelhante ao consenso do Tor)</p>
<p>Redes maiores tornam isso mais difícil.</p>
<h3 id="104-ataque-sybil-espaço-de-chaves-parcial">10.4 Ataque Sybil (Espaço de chaves parcial)</h3>
<p>Atacantes podem criar 8–15 floodfill routers agrupados de forma próxima no espaço de chaves. Todas as consultas/armazenamentos desse espaço de chaves são encaminhadas para os routers do atacante, possibilitando DOS (negação de serviço) em determinados sites I2P.</p>
<p>Como o espaço de chaves indexa hashes criptográficos SHA256, os atacantes precisam usar força bruta para gerar routers com proximidade suficiente.</p>
<p><strong>Defesa</strong>: O algoritmo de proximidade do Kademlia varia ao longo do tempo usando <code>SHA256(key + YYYYMMDD)</code>, mudando diariamente à meia-noite UTC. Essa <strong>rotação do espaço de chaves (keyspace)</strong> exige a regeneração diária do ataque.</p>
<blockquote>
<p><strong>Observação</strong>: Pesquisas recentes mostram que a rotação do espaço de chaves não é particularmente eficaz — atacantes podem pré-calcular hashes de router, sendo necessários apenas alguns routers para eclipsar porções do espaço de chaves em até meia hora após a rotação.</p></blockquote>
<p>Consequência da rotação diária: o netDb distribuído fica instável por alguns minutos após a rotação—consultas falham antes que o novo router mais próximo receba as inserções.</p>
<h3 id="105-ataques-de-inicialização">10.5 Ataques de Inicialização</h3>
<p>Atacantes poderiam assumir o controle de sites de reseed (sites que fornecem os dados iniciais da rede) ou enganar desenvolvedores a adicionar sites de reseed hostis, fazendo com que novos routers sejam inicializados em redes isoladas/controladas pela maioria.</p>
<p><strong>Defesas Implementadas:</strong> - Obter subconjuntos de RouterInfo de múltiplos sites de reseed (processo de inicialização da rede) em vez de um único site - Monitoramento de reseed fora da rede consultando periodicamente os sites - A partir da versão 0.9.14, pacotes de dados de reseed como arquivos zip assinados, com verificação da assinatura baixada (veja <a href="../../../../pt/docs/specs/updates">especificação su3</a>
)</p>
<h3 id="106-captura-de-consultas">10.6 Captura de Consultas</h3>
<p>Floodfill routers podem &ldquo;direcionar&rdquo; pares para routers controlados pelo atacante por meio de referências retornadas.</p>
<p>Improvável via exploração devido à baixa frequência; routers adquirem referências de pares principalmente por meio da construção normal de tunnel.</p>
<p>A partir da 0.8.9, foram implementadas pesquisas iterativas. Referências de floodfill em <code>DatabaseSearchReplyMessage</code> são seguidas se estiverem mais próximas da chave da consulta. Os routers solicitantes não confiam na proximidade das referências. As consultas continuam mesmo sem chaves mais próximas até o tempo limite/número máximo de consultas, evitando black-holing malicioso (descartar silenciosamente o tráfego).</p>
<h3 id="107-vazamentos-de-informação">10.7 Vazamentos de Informação</h3>
<p>O vazamento de informações da DHT (tabela hash distribuída) no I2P requer investigação adicional. Os floodfill routers observam consultas, coletando informações. Com 20% de nós maliciosos, as ameaças Sybil descritas anteriormente tornam-se problemáticas por vários motivos.</p>
<hr>
<h2 id="11-trabalhos-futuros">11. Trabalhos futuros</h2>
<ul>
<li>Criptografia de ponta a ponta para consultas adicionais ao netDb e suas respostas</li>
<li>Melhores métodos de rastreamento de respostas de consulta</li>
<li>Métodos de mitigação para problemas de confiabilidade na rotação do espaço de chaves</li>
</ul>
<hr>
<h2 id="12-referências">12. Referências</h2>
<ul>
<li><a href="../../../../pt/docs/specs/common-structures/">Especificação de Estruturas Comuns</a>
 – Estruturas RouterInfo e LeaseSet</li>
<li><a href="../../../../pt/docs/specs/i2np/">Especificação do I2NP</a>
 – Tipos de mensagens de banco de dados</li>
<li><a href="../../../../pt/proposals/123-new-netdb-entries">Proposta 123: Novas entradas do netDb</a>
 – Especificação do LeaseSet2</li>
<li><a href="../../../../pt/docs/netdb/">Discussão histórica do netDb</a>
 – Histórico de desenvolvimento e discussões arquivadas</li>
</ul>

                </article>

                
                <nav class="page-nav">
                    
                        <a href="../../../../pt/docs/overview/transport/" class="page-nav-link prev">
                            <span class="nav-label">← Previous</span>
                            <span class="nav-title">Camada de Transporte</span>
                        </a>
                    
                    
                        <a href="../../../../pt/docs/overview/ports/" class="page-nav-link next">
                            <span class="nav-label">Next →</span>
                            <span class="nav-title">Atribuições de Portas</span>
                        </a>
                    
                </nav>

                
                <div class="docs-feedback">
                    <p>Was this page helpful?</p>
                    <div class="feedback-buttons" id="feedback-buttons">
                        <button class="feedback-btn" id="feedback-yes">👍 Yes</button>
                        <button class="feedback-btn" id="feedback-no">👎 No</button>
                    </div>

                    
                    <div class="feedback-form-container" id="feedback-form-container" style="display: none;">
                        <p class="feedback-form-title">We're sorry to hear that. How can we improve this page?</p>
                        <form id="feedback-form">
                            <div class="form-group">
                                <label for="feedback-email">Email (optional - if you'd like a response)</label>
                                <input type="email" id="feedback-email" name="email" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label for="feedback-message">Feedback *</label>
                                <textarea id="feedback-message" name="message" rows="4" required placeholder="Tell us what we can improve..."></textarea>
                            </div>
                            <button type="submit" class="btn-submit-feedback" id="feedback-submit-btn">
                                <span class="btn-text">Submit Feedback</span>
                                <span class="btn-loading" style="display: none;">Sending...</span>
                            </button>
                        </form>
                    </div>

                    
                    <div class="feedback-message" id="feedback-success" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2"/>
                        </svg>
                        <span id="feedback-success-text">Thanks for your feedback!</span>
                    </div>
                    <div class="feedback-message feedback-error" id="feedback-error" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <path d="M12 8v4M12 16h.01" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span id="feedback-error-text">Something went wrong. Please try again.</span>
                    </div>

                    <p class="feedback-note">
                        Found an issue? <a href="https://gitlab.com/stormycloud-group/i-2-p-www-v-2/-/blob/main/hugo-site/content/pt/docs/overview/network-database.md?ref_type=heads" target="_blank">Edit this page on GitLab</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.docs-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.article-header {
    margin-bottom: var(--spacing-2xl);
}

.article-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--color-text);
}

.article-description {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-md);
}

.article-meta {
    display: flex;
    gap: var(--spacing-lg);
    flex-wrap: wrap;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.meta-item svg {
    color: var(--color-primary);
}

 
.docs-layout {
    display: block;
}

.docs-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.docs-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.docs-main {
    min-width: 0;
    max-width: 900px;
}

 
.article-content {
    line-height: 1.8;
    color: var(--color-text);
}

.article-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.article-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.article-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.article-content p {
    margin-bottom: var(--spacing-md);
}

.article-content ul,
.article-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.article-content li {
    margin-bottom: var(--spacing-xs);
}

.article-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.article-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
}

.article-content pre code {
    background: none;
    padding: 0;
}

.article-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

.article-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.article-content a:hover {
    border-bottom-color: var(--color-primary);
}

 
.page-nav {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
}

.page-nav-link {
    display: flex;
    flex-direction: column;
    padding: var(--spacing-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
}

.page-nav-link.next {
    text-align: right;
}

.nav-label {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xs);
}

.nav-title {
    font-weight: 600;
    color: var(--color-text);
}

 
.docs-feedback {
    margin-top: var(--spacing-2xl);
    padding: var(--spacing-lg);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-md);
    text-align: center;
}

.feedback-buttons {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    margin: var(--spacing-md) 0;
}

.feedback-btn {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.feedback-btn:hover {
    border-color: var(--color-primary);
    background: var(--color-primary);
    color: white;
}

.feedback-note {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-top: var(--spacing-md);
}

.feedback-note a {
    color: var(--color-primary);
    text-decoration: none;
}

.feedback-note a:hover {
    text-decoration: underline;
}

 
.feedback-form-container {
    margin-top: var(--spacing-lg);
    padding: var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-align: left;
}

.feedback-form-title {
    font-weight: 600;
    margin-bottom: var(--spacing-md);
    color: var(--color-text);
}

.form-group {
    margin-bottom: var(--spacing-md);
}

.form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--color-text);
}

.form-group input[type="email"],
.form-group textarea {
    width: 100%;
    padding: var(--spacing-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg);
    color: var(--color-text);
    font-family: inherit;
    font-size: 0.9375rem;
    transition: border-color var(--transition-fast);
}

.form-group input[type="email"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color-primary);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

.btn-submit-feedback {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.btn-submit-feedback:hover:not(:disabled) {
    background: var(--color-primary-dark);
    transform: translateY(-1px);
}

.btn-submit-feedback:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

 
.feedback-message {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background: #d1fae5;
    color: #065f46;
    border-radius: var(--radius-md);
    margin-top: var(--spacing-md);
}

.feedback-message.feedback-error {
    background: #fee2e2;
    color: #991b1b;
}

.feedback-message svg {
    flex-shrink: 0;
}

 
@media (max-width: 1024px) {
    .docs-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .docs-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .article-title {
        font-size: 1.75rem;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



<script>
(function() {
    'use strict';
    
    
    let baseUrl = window.feedbackBaseUrl;
    if (!baseUrl) {
        const hostname = window.location.hostname;
        
        if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
            baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
        } else if (hostname.endsWith('.onion')) {
            baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
        } else {
            baseUrl = 'https://feedback.i2p.net';
        }
    }
    
    const script = document.createElement('script');
    script.src = baseUrl + '/widgets/docs-feedback.js';
    script.async = true;
    script.onerror = function() {
        console.error('[Docs Feedback] Failed to load docs-feedback.js from:', baseUrl);
    };
    document.body.appendChild(script);
})();
</script>


    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">Fique atualizado com as notícias do I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="Digite seu e-mail" required>
                            <button type="submit">Inscrever-se</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>Links Rápidos</h3>
                <ul>
                    <li><a href="../../../../pt/financial-support/">Doar</a></li>
                    <li><a href="../../../../pt/docs/overview/intro/">Introdução ao I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Comunidade</h3>
                <ul>
                    <li><a href="../../../../pt/get-involved/">Participe</a></li>
                    <li><a href="../../../../pt/blog/">Blog</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">Fóruns Oficiais</a></li>
                    <li><a href="../../../../pt/contact/">Contato</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Recursos</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">Métricas I2P</a></li>
                    <li><a href="../../../../pt/papers/">Pesquisa</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">StormyCloud</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 O Projeto de Internet Invisível. Licenciado sob Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../../pt/privacy/">Privacidade</a>
                <a href="../../../../pt/terms/">Termos</a>
                <a href="../../../../pt/about/media/">Imprensa</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="Fechar">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>Enquete da comunidade</h2>
            <p class="modal-subtitle">Gostaríamos de ouvir sua opinião</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                Seu voto ajuda a moldar o futuro do I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>