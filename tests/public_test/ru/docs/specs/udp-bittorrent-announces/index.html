<!DOCTYPE html>
<html lang="ru" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>UDP-анонсы BitTorrent | I2P - Проект невидимого интернета</title>

    <meta name="description" content="Спецификация протокола для announce-запросов (запросов клиента к трекеру) UDP-трекера BitTorrent в I2P">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="UDP-анонсы BitTorrent | I2P - Проект невидимого интернета">
    <meta property="og:description" content="Спецификация протокола для announce-запросов (запросов клиента к трекеру) UDP-трекера BitTorrent в I2P">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/ru/docs/specs/udp-bittorrent-announces/">

    
    <link rel="icon" type="image/svg+xml" href="../../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">Бета-сайт I2P теперь доступен Сообщайте о проблемах с E-Mail на stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="Закрыть баннер" title="Закрыть баннер">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../../ru/" class="logo-link">
                    <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../../ru/about/" class="">О проекте</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../ru/about/">Обзор</a></li>
                            <li><a href="../../../../ru/papers/">Научные статьи</a></li>
                            <li><a href="../../../../ru/about/media/">Пресса</a></li>
                            <li><a href="../../../../ru/contact/">Связаться с нами</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../../ru/docs/" class="active">Документы</a></li>
                    <li><a href="../../../../ru/downloads/" class="">Загрузки</a></li>
                    <li><a href="../../../../ru/blog/" class="">Блог</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../../ru/get-involved/" class="">Присоединиться</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../ru/get-involved/">Обзор</a></li>
                            <li><a href="../../../../ru/feedback/">Предложения по функциям</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">ru</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../en/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Английский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../es/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Испанский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ko/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Корейский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../zh/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Китайский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ru/docs/specs/udp-bittorrent-announces/"
                                class="lang-option active">Русский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../cs/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Чешский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../de/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Немецкий</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../fr/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Французский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../tr/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Турецкий</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../vi/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Вьетнамский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../hi/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Хинди</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ar/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Арабский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../pt/docs/specs/udp-bittorrent-announces/"
                                class="lang-option">Португальский</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../../ru/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../../ru/downloads/" class="btn btn-primary">Загрузить I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        




<div class="docs-page">
    <div class="container">
        
        <div class="docs-layout docs-layout--with-toc">
            
            
            <aside class="docs-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#обзор">Обзор</a></li>
    <li><a href="#проектирование">Проектирование</a>
      <ul>
        <li><a href="#bep-15">BEP 15</a></li>
        <li><a href="#время-жизни-соединения">Время жизни соединения</a></li>
        <li><a href="#совместимость-с-bep-15">Совместимость с BEP 15</a></li>
        <li><a href="#анализ-безопасности">Анализ безопасности</a></li>
        <li><a href="#проблемы">Проблемы</a></li>
      </ul>
    </li>
    <li><a href="#спецификация">Спецификация</a>
      <ul>
        <li><a href="#протоколы-и-порты">Протоколы и порты</a></li>
        <li><a href="#url-адрес-анонса">URL-адрес анонса</a></li>
        <li><a href="#форматы-датаграмм">Форматы датаграмм</a></li>
      </ul>
    </li>
    <li><a href="#расширения">Расширения</a></li>
    <li><a href="#рекомендации-по-реализации">Рекомендации по реализации</a>
      <ul>
        <li><a href="#клиенты">Клиенты</a></li>
        <li><a href="#трекеры">Трекеры</a></li>
      </ul>
    </li>
    <li><a href="#статус-развертывания">Статус развертывания</a>
      <ul>
        <li><a href="#текущие-реализации">Текущие реализации</a></li>
        <li><a href="#примечания-по-совместимости-клиента">Примечания по совместимости клиента</a></li>
      </ul>
    </li>
    <li><a href="#ссылки">Ссылки</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="docs-main">
                
                <nav class="breadcrumbs">
                    <a href="../../../../ru/">Home</a>
                    <span class="separator">/</span>
                    <a href="../../../../ru/docs/">Docs</a>
                    
                        
                            <span class="separator">/</span>
                            <a href="../../../../ru/docs/specs/">Specifications</a>
                        
                    
                    <span class="separator">/</span>
                    <span class="current">UDP-анонсы BitTorrent</span>
                </nav>

                
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">Этот перевод был создан с помощью машинного обучения и может быть не на 100% точным.</span>
    
    
    <a href="../../../../en/docs/specs/udp-bittorrent-announces/" class="disclaimer-link">Просмотреть английскую версию</a>
    
</div>



                
                <header class="article-header">
                    <h1 class="article-title">UDP-анонсы BitTorrent</h1>
                    
                        <p class="article-description">Спецификация протокола для announce-запросов (запросов клиента к трекеру) UDP-трекера BitTorrent в I2P</p>
                    
                    <div class="article-meta">
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Updated: 2025-10
                            </span>
                        
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                Accurate for: 2.10.0
                            </span>
                        
                    </div>
                </header>

                
                <article class="article-content">
                    <h2 id="обзор">Обзор</h2>
<p>Данная спецификация описывает протокол UDP announce-запросов BitTorrent в I2P (запросов к трекеру). Общую спецификацию BitTorrent в I2P см. в <a href="../../../../ru/docs/applications/bittorrent/">BitTorrent over I2P documentation</a>
. Для справочной информации и дополнительных сведений о разработке этой спецификации см. <a href="../../../../ru/proposals/160-udp-trackers/">Proposal 160</a>
.</p>
<p>Этот протокол был официально утверждён 24 июня 2025 года и реализован в I2P версии 2.10.0 (API 0.9.67), выпущенной 8 сентября 2025 года. Поддержка UDP‑трекеров в настоящее время работает в сети I2P с несколькими продакшен‑трекерами и полной поддержкой в клиенте i2psnark.</p>
<h2 id="проектирование">Проектирование</h2>
<p>В этой спецификации используются отвечаемые датаграммы формата Datagram2, отвечаемые датаграммы формата Datagram3 и сырые датаграммы, как определено в <a href="../../../../ru/docs/api/datagrams/">Спецификации датаграмм I2P</a>
. Datagram2 и Datagram3 — это варианты отвечаемых датаграмм, определённые в <a href="../../../../ru/proposals/163-datagram2/">Предложении 163</a>
. Datagram2 добавляет защиту от атак повторного воспроизведения (replay) и поддержку офлайн-подписей. Datagram3 меньше, чем старый формат датаграмм, но без аутентификации.</p>
<h3 id="bep-15">BEP 15</h3>
<p>Для справки, последовательность сообщений, определённая в <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
, выглядит следующим образом:</p>
<pre tabindex="0"><code>Client                        Tracker
  Connect Req. -------------&gt;
    &lt;-------------- Connect Resp.
  Announce Req. -------------&gt;
    &lt;-------------- Announce Resp.
  Announce Req. -------------&gt;
    &lt;-------------- Announce Resp.
</code></pre><p>Фаза подключения необходима для предотвращения подмены IP-адреса. Трекер возвращает идентификатор соединения, который клиент использует в последующих announce-запросах (запросах announce к трекеру). Этот идентификатор соединения по умолчанию истекает через одну минуту на стороне клиента и через две минуты на стороне трекера.</p>
<p>I2P использует ту же схему обмена сообщениями, что и BEP 15, для удобства внедрения в существующие клиентские кодовые базы с поддержкой UDP, для повышения эффективности, а также по соображениям безопасности, обсуждаемым ниже:</p>
<pre tabindex="0"><code>Client                        Tracker
  Connect Req. -------------&gt;       (Repliable Datagram2)
    &lt;-------------- Connect Resp.   (Raw)
  Announce Req. -------------&gt;      (Repliable Datagram3)
    &lt;-------------- Announce Resp.  (Raw)
  Announce Req. -------------&gt;      (Repliable Datagram3)
    &lt;-------------- Announce Resp.  (Raw)
           ...
</code></pre><p>Это потенциально обеспечивает значительную экономию пропускной способности по сравнению с announce-запросами через streaming (TCP). Хотя Datagram2 примерно того же размера, что и streaming SYN, сырой ответ значительно меньше, чем streaming SYN ACK. Последующие запросы используют Datagram3, а последующие ответы передаются в сыром виде.</p>
<p>Announce-запросы передаются в формате Datagram3 (тип датаграммы третьей версии), чтобы трекеру не приходилось поддерживать большую таблицу соответствия идентификаторов соединений назначению announce или его хешу. Вместо этого трекер может криптографически генерировать идентификаторы соединений из хеша отправителя, текущей метки времени (привязанной к некоторому интервалу) и секретного значения. Когда поступает announce-запрос, трекер валидирует идентификатор соединения, а затем использует хеш отправителя Datagram3 в качестве цели отправки.</p>
<h3 id="время-жизни-соединения">Время жизни соединения</h3>
<p><a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 указывает, что идентификатор соединения (connection ID) истекает через одну минуту на стороне клиента и через две минуты на стороне трекера. Это не настраивается. Это ограничивает потенциальный выигрыш в эффективности, если только клиенты не будут группировать announce-запросы (запросы анонса к трекеру), выполняя их все в пределах одноминутного окна. i2psnark в настоящее время не группирует announce-запросы; он распределяет их по времени, чтобы избежать всплесков трафика. Сообщается, что продвинутые пользователи запускают одновременно тысячи торрентов, и отправка такого количества announce-запросов в течение одной минуты нереалистична.</p>
<p>Здесь предлагается расширить ответ на connect, добавив необязательное поле времени жизни соединения. Если поле отсутствует, значение по умолчанию — одна минута. В противном случае указанное в секундах время жизни должно использоваться клиентом, а трекер будет сохранять идентификатор соединения действительным еще на одну минуту сверх этого.</p>
<h3 id="совместимость-с-bep-15">Совместимость с BEP 15</h3>
<p>Этот дизайн максимально сохраняет совместимость с <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
, чтобы минимизировать изменения, необходимые в существующих клиентах и трекерах.</p>
<p>Единственное обязательное изменение — формат информации о пирах в ответе на announce. Добавление поля lifetime в ответ на connect не является обязательным, но настоятельно рекомендуется для повышения эффективности, как объяснено выше.</p>
<h3 id="анализ-безопасности">Анализ безопасности</h3>
<p>Важной целью протокола анонса по UDP является предотвращение подмены адресов. Клиент должен реально существовать и включать реальный leaseSet. У него должны быть входящие tunnels, чтобы получить Connect Response (ответ на соединение). Эти tunnels могли бы быть zero-hop (с нулевым числом хопов) и строиться мгновенно, но это раскрыло бы создателя. Этот протокол достигает этой цели.</p>
<h3 id="проблемы">Проблемы</h3>
<p>Этот протокол не поддерживает blinded destinations (ослеплённые назначения), но может быть расширен для их поддержки. См. ниже.</p>
<h2 id="спецификация">Спецификация</h2>
<h3 id="протоколы-и-порты">Протоколы и порты</h3>
<p>Дейтаграммы с возможностью ответа Datagram2 используют протокол I2CP 19; дейтаграммы с возможностью ответа Datagram3 используют протокол I2CP 20; сырые дейтаграммы используют протокол I2CP 18. Запросы могут быть в формате Datagram2 или Datagram3. Ответы всегда в виде сырых дейтаграмм. Более старый формат отвечаемой дейтаграммы (&ldquo;Datagram1&rdquo;), использующий протокол I2CP 17, НЕ должен использоваться для запросов или ответов; такие сообщения должны быть отброшены, если они получены на портах запросов/ответов. Учтите, что формат Datagram1 с протоколом 17 всё ещё используется для протокола DHT (распределённая хеш-таблица).</p>
<p>Запросы используют значение I2CP &ldquo;to port&rdquo;, указанное в URL анонса; см. ниже. Параметр запроса &ldquo;from port&rdquo; выбирается клиентом, но должен быть ненулевым и отличаться от портов, используемых DHT, чтобы ответы можно было легко классифицировать. Трекеры должны отклонять запросы, полученные на неверном порту.</p>
<p>Ответы используют I2CP &ldquo;to port&rdquo; (порт назначения) из запроса. Поле &ldquo;from port&rdquo; (порт источника) в ответе равно значению &ldquo;to port&rdquo; из запроса.</p>
<h3 id="url-адрес-анонса">URL-адрес анонса</h3>
<p>Формат URL анонса не определён в <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
, но, как в clearnet (обычный Интернет), UDP-URL анонса имеют вид &ldquo;udp://host:port/path&rdquo;. Путь игнорируется и может быть пустым, но в clearnet обычно используется &ldquo;/announce&rdquo;. Часть :port всегда должна присутствовать; однако, если часть &ldquo;:port&rdquo; опущена, используйте порт I2CP по умолчанию 6969, так как это распространённый порт в clearnet. Также могут быть добавлены параметры CGI &amp;a=b&amp;c=d; их можно обработать и передать в запросе announce, см. <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
. Если нет параметров или пути, завершающую / также можно опустить, как подразумевается в <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
.</p>
<h3 id="форматы-датаграмм">Форматы датаграмм</h3>
<p>Все значения передаются в сетевом порядке байтов (big-endian). Не следует ожидать, что пакеты будут точно определённого размера. Будущие расширения могут увеличить размер пакетов.</p>
<h4 id="запрос-на-подключение">Запрос на подключение</h4>
<p>От клиента к трекеру. 16 байт. Должен быть Datagram2 (датаграмма версии 2) с возможностью ответа. То же, что в <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
. Без изменений.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
0       64-bit integer  protocol_id     0x41727101980 // magic constant
8       32-bit integer  action          0 // connect
12      32-bit integer  transaction_id
</code></pre><h4 id="ответ-на-подключение">Ответ на подключение</h4>
<p>От трекера к клиенту. 16 или 18 байт. Должно быть в «сыром» виде. То же, что в <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
, за исключением указанных ниже отличий.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
0       32-bit integer  action          0 // connect
4       32-bit integer  transaction_id
8       64-bit integer  connection_id
16      16-bit integer  lifetime        optional  // Change from BEP 15
</code></pre><p>Ответ ДОЛЖЕН быть отправлен на I2CP «to port», который был получен как «from port» в запросе.</p>
<p>Поле lifetime является необязательным и указывает время жизни connection_id на стороне клиента в секундах. Значение по умолчанию — 60, минимальное (если задано) — 60. Максимум — 65535, то есть примерно 18 часов. Трекер должен сохранять connection_id на 60 секунд дольше, чем время жизни, указанное клиентом.</p>
<h4 id="запрос-анонса">Запрос анонса</h4>
<p>От клиента к трекеру. Минимум 98 байт. Должен быть Datagram3 с возможностью ответа. То же, что в <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
, за исключением оговоренных ниже отличий.</p>
<p>connection_id соответствует значению, полученному в ответе на connect.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
0       64-bit integer  connection_id
8       32-bit integer  action          1     // announce
12      32-bit integer  transaction_id
16      20-byte string  info_hash
36      20-byte string  peer_id
56      64-bit integer  downloaded
64      64-bit integer  left
72      64-bit integer  uploaded
80      32-bit integer  event           0     // 0: none; 1: completed; 2: started; 3: stopped
84      32-bit integer  IP address      0     // default, unused in I2P
88      32-bit integer  key
92      32-bit integer  num_want        -1    // default
96      16-bit integer  port                  // must be same as I2CP from port
98      varies          options     optional  // As specified in BEP 41
</code></pre><p>Изменения по сравнению с <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
:</p>
<ul>
<li>ключ игнорируется</li>
<li>IP-адрес не используется</li>
<li>порт, вероятно, игнорируется, но должен совпадать с I2CP from port</li>
<li>Раздел options, если он присутствует, определяется в <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
</li>
</ul>
<p>Ответ ДОЛЖЕН быть отправлен на I2CP &ldquo;to port&rdquo;, который был получен в запросе в качестве &ldquo;from port&rdquo;. Не используйте порт из announce request (запроса announce).</p>
<h4 id="ответ-на-announce">Ответ на announce</h4>
<p>От трекера к клиенту. Минимум 20 байт. Должно быть raw (без кодирования). То же, что в <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
, за исключением отмеченного ниже.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
0           32-bit integer  action          1 // announce
4           32-bit integer  transaction_id
8           32-bit integer  interval
12          32-bit integer  leechers
16          32-bit integer  seeders
20   32 * n 32-byte hash    binary hashes     // Change from BEP 15
...                                           // Change from BEP 15
</code></pre><p>Изменения по сравнению с <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
:</p>
<ul>
<li>Вместо 6-байтового формата IPv4+порт или 18-байтового формата IPv6+порт мы возвращаем последовательность 32-байтовых &ldquo;compact responses&rdquo; (компактные ответы) с бинарными хэшами пиров SHA-256. Как и в случае с TCP compact responses, мы не включаем порт.</li>
</ul>
<p>Ответ ДОЛЖЕН быть отправлен на I2CP &ldquo;to port&rdquo;, который был получен как &ldquo;from port&rdquo; запроса. Не используйте порт из announce-запроса.</p>
<p>I2P датаграммы имеют очень большой максимальный размер — около 64 КБ; однако для надежной доставки следует избегать датаграмм больше 4 КБ. Для эффективного использования пропускной способности трекерам, вероятно, следует ограничить максимальное число пиров примерно до 50, что соответствует приблизительно 1600-байтному пакету до накладных расходов на различных уровнях и после фрагментации должно укладываться в лимит полезной нагрузки сообщения, проходящего через два tunnel.</p>
<p>Как и в BEP 15, количество следующих адресов пиров (для BEP 15 — IP/port, здесь — хэши) не указывается. Хотя это не предусмотрено в BEP 15, можно определить маркер конца списка пиров, состоящий из одних нулей, который будет указывать на то, что информация о пирах завершена и далее следуют данные расширения.</p>
<p>Чтобы в будущем было возможно расширение, клиентам следует игнорировать 32-байтовый хеш, состоящий из одних нулей, а также любые следующие за ним данные. Трекеры должны отклонять announce-запросы (запросы объявления на трекер) с хешем, состоящим из одних нулей, хотя такой хеш уже запрещён в Java routers.</p>
<h4 id="скрейпинг">Скрейпинг</h4>
<p>Запрос/ответ scrape (операция запроса статистики у трекера) из <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
 не требуется этой спецификацией, но может быть реализован при желании, без каких-либо изменений. Клиент должен сначала получить идентификатор соединения. Запрос scrape всегда является repliable Datagram3 (тип Datagram3 с возможностью ответа). Ответ scrape всегда raw (тип без возможности ответа).</p>
<h4 id="ответ-об-ошибке">Ответ об ошибке</h4>
<p>От трекера к клиенту. Минимум 8 байт (если сообщение пустое). Должно быть в виде сырых данных. То же, что в <a href="http://www.bittorrent.org/beps/bep_0015.html">BEP 15</a>
. Без изменений.</p>
<pre tabindex="0"><code>Offset  Size            Name            Value
0       32-bit integer  action          3 // error
4       32-bit integer  transaction_id
8       string          message
</code></pre><h2 id="расширения">Расширения</h2>
<p>Биты расширений или поле версии не предусмотрены. Клиентам и трекерам не следует предполагать, что пакеты имеют определённый размер. Таким образом, можно добавлять дополнительные поля, не нарушая совместимость. При необходимости рекомендуется формат расширений, определённый в <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
.</p>
<p>Ответ на подключение изменён, чтобы добавить необязательный параметр времени жизни идентификатора соединения.</p>
<p>Если требуется поддержка blinded destination (замаскированного адреса назначения), мы можем либо добавить blinded 35-байтный адрес в конец запроса announce, либо запрашивать blinded хэши в ответах, используя формат <a href="http://www.bittorrent.org/beps/bep_0041.html">BEP 41</a>
 (параметры будут определены).</p>
<p>Набор blinded 35-байтных адресов пиров может быть добавлен в конец ответа announce, после 32-байтного хеша из одних нулей.</p>
<h2 id="рекомендации-по-реализации">Рекомендации по реализации</h2>
<p>См. раздел о проектировании выше, где обсуждаются проблемы, с которыми сталкиваются неинтегрированные клиенты и трекеры, не использующие I2CP.</p>
<h3 id="клиенты">Клиенты</h3>
<p>Для данного имени хоста трекера клиенту следует предпочитать UDP‑URL вместо HTTP‑URL и не следует анонсироваться по обоим протоколам.</p>
<p>Клиентам, уже поддерживающим BEP 15, потребуются лишь небольшие изменения.</p>
<p>Если клиент поддерживает DHT или другие датаграммные протоколы, ему, вероятно, следует выбрать другой порт в качестве &ldquo;from port&rdquo; запроса, чтобы ответы возвращались на этот порт и не смешивались с сообщениями DHT. Клиент получает в качестве ответов только необработанные датаграммы. Трекеры никогда не отправят клиенту датаграмму с возможностью ответа2.</p>
<p>Клиентам, использующим список opentrackers (открытые трекеры) по умолчанию, следует обновить этот список, добавив UDP URL-адреса после того, как будет подтверждено, что известные opentrackers поддерживают UDP.</p>
<p>Клиенты могут как реализовывать, так и не реализовывать повторную отправку запросов. При наличии повторных отправок следует использовать начальный таймаут не менее 15 секунд и удваивать таймаут при каждой повторной отправке (экспоненциальная задержка).</p>
<p>Клиенты должны выполнить back off (увеличить задержку перед повторной попыткой) после получения ответа с ошибкой.</p>
<h3 id="трекеры">Трекеры</h3>
<p>Трекерам с уже реализованной поддержкой BEP 15 потребуются лишь небольшие изменения. Эта спецификация отличается от предложения 2014 года тем, что трекер должен поддерживать приём repliable (с возможностью ответа) datagram2 и datagram3 на одном и том же порту.</p>
<p>Чтобы минимизировать требования к ресурсам трекера, этот протокол разработан так, чтобы устранить необходимость в хранении трекером соответствий между хэшами клиентов и идентификаторами соединений для последующей проверки. Это возможно, поскольку пакет запроса announce (запрос к трекеру для регистрации клиента) является пакетом Datagram3 (тип датаграммы в I2P), на который можно ответить, поэтому он содержит хэш отправителя.</p>
<p>Рекомендуемая реализация следующая:</p>
<ul>
<li>Определите текущую эпоху как текущее время с шагом, равным времени жизни соединения, <code>epoch = now / lifetime</code>.</li>
<li>Определите криптографическую хэш‑функцию <code>H(secret, clienthash, epoch)</code>, которая генерирует значение длиной 8 байт.</li>
<li>Сгенерируйте случайный постоянный секрет, используемый для всех соединений.</li>
<li>Для ответов на подключение сгенерируйте <code>connection_id = H(secret, clienthash, epoch)</code></li>
<li>Для запросов announce проверьте полученный идентификатор соединения в текущей эпохе, проверив, что <code>connection_id == H(secret, clienthash, epoch) || connection_id == H(secret, clienthash, epoch - 1)</code></li>
</ul>
<h2 id="статус-развертывания">Статус развертывания</h2>
<p>Этот протокол был утверждён 24 июня 2025 года и полностью функционирует в сети I2P по состоянию на сентябрь 2025 года.</p>
<h3 id="текущие-реализации">Текущие реализации</h3>
<p><strong>i2psnark</strong>: Полная поддержка UDP‑трекеров включена в I2P версии 2.10.0 (API 0.9.67), выпущенной 8 сентября 2025 года. Начиная с этой версии, все установки I2P по умолчанию включают поддержку UDP‑трекеров.</p>
<p><strong>zzzot tracker</strong>: Начиная с версии 0.20.0-beta2 поддерживаются UDP-анонсы. По состоянию на октябрь 2025 года в продакшене работают следующие трекеры: - opentracker.dg2.i2p - opentracker.simp.i2p - opentracker.skank.i2p</p>
<h3 id="примечания-по-совместимости-клиента">Примечания по совместимости клиента</h3>
<p><strong>Ограничения SAM v3.3</strong>: Внешние BitTorrent-клиенты, использующие SAM (Simple Anonymous Messaging), требуют поддержки Datagram2/3 (режимов датаграммной передачи без установления соединения) в SAM v3.3. Это доступно в Java I2P, но в настоящее время не поддерживается i2pd (реализация I2P на C++), что может ограничивать распространение среди клиентов на базе libtorrent, таких как qBittorrent.</p>
<p><strong>Клиенты I2CP</strong>: Клиенты, использующие I2CP напрямую (например, BiglyBT), могут реализовать поддержку UDP-трекеров без ограничений SAM.</p>
<h2 id="ссылки">Ссылки</h2>
<ul>
<li><strong>[BEP15]</strong>: <a href="http://www.bittorrent.org/beps/bep_0015.html">Протокол UDP-трекера BitTorrent</a>
</li>
<li><strong>[BEP41]</strong>: <a href="http://www.bittorrent.org/beps/bep_0041.html">Расширения протокола UDP-трекера</a>
</li>
<li><strong>[DATAGRAMS]</strong>: <a href="../../../../ru/docs/api/datagrams/">Спецификация датаграмм I2P</a>
</li>
<li><strong>[Prop160]</strong>: <a href="../../../../ru/proposals/160-udp-trackers/">Предложение по UDP-трекерам</a>
</li>
<li><strong>[Prop163]</strong>: <a href="../../../../ru/proposals/163-datagram2/">Предложение Datagram2</a>
</li>
<li><strong>[SPEC]</strong>: <a href="../../../../ru/docs/applications/bittorrent/">BitTorrent поверх I2P</a>
</li>
</ul>

                </article>

                
                <nav class="page-nav">
                    
                        <a href="../../../../ru/docs/specs/ecies-hybrid/" class="page-nav-link prev">
                            <span class="nav-label">← Previous</span>
                            <span class="nav-title">Гибридное шифрование ECIES-X25519-AEAD-Ratchet (криптографический «рэтчет»-механизм)</span>
                        </a>
                    
                    
                        <a href="../../../../ru/docs/specs/b32-for-encrypted-leasesets/" class="page-nav-link next">
                            <span class="nav-label">Next →</span>
                            <span class="nav-title">B32 для зашифрованных LeaseSets (наборы входящих туннелей назначения)</span>
                        </a>
                    
                </nav>

                
                <div class="docs-feedback">
                    <p>Was this page helpful?</p>
                    <div class="feedback-buttons" id="feedback-buttons">
                        <button class="feedback-btn" id="feedback-yes">👍 Yes</button>
                        <button class="feedback-btn" id="feedback-no">👎 No</button>
                    </div>

                    
                    <div class="feedback-form-container" id="feedback-form-container" style="display: none;">
                        <p class="feedback-form-title">We're sorry to hear that. How can we improve this page?</p>
                        <form id="feedback-form">
                            <div class="form-group">
                                <label for="feedback-email">Email (optional - if you'd like a response)</label>
                                <input type="email" id="feedback-email" name="email" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label for="feedback-message">Feedback *</label>
                                <textarea id="feedback-message" name="message" rows="4" required placeholder="Tell us what we can improve..."></textarea>
                            </div>
                            <button type="submit" class="btn-submit-feedback" id="feedback-submit-btn">
                                <span class="btn-text">Submit Feedback</span>
                                <span class="btn-loading" style="display: none;">Sending...</span>
                            </button>
                        </form>
                    </div>

                    
                    <div class="feedback-message" id="feedback-success" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2"/>
                        </svg>
                        <span id="feedback-success-text">Thanks for your feedback!</span>
                    </div>
                    <div class="feedback-message feedback-error" id="feedback-error" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <path d="M12 8v4M12 16h.01" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span id="feedback-error-text">Something went wrong. Please try again.</span>
                    </div>

                    <p class="feedback-note">
                        Found an issue? <a href="https://gitlab.com/stormycloud-group/i-2-p-www-v-2/-/blob/main/hugo-site/content/ru/docs/specs/udp-announces.md?ref_type=heads" target="_blank">Edit this page on GitLab</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.docs-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.article-header {
    margin-bottom: var(--spacing-2xl);
}

.article-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--color-text);
}

.article-description {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-md);
}

.article-meta {
    display: flex;
    gap: var(--spacing-lg);
    flex-wrap: wrap;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.meta-item svg {
    color: var(--color-primary);
}

 
.docs-layout {
    display: block;
}

.docs-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.docs-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.docs-main {
    min-width: 0;
    max-width: 900px;
}

 
.article-content {
    line-height: 1.8;
    color: var(--color-text);
}

.article-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.article-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.article-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.article-content p {
    margin-bottom: var(--spacing-md);
}

.article-content ul,
.article-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.article-content li {
    margin-bottom: var(--spacing-xs);
}

.article-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.article-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
}

.article-content pre code {
    background: none;
    padding: 0;
}

.article-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

.article-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.article-content a:hover {
    border-bottom-color: var(--color-primary);
}

 
.page-nav {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
}

.page-nav-link {
    display: flex;
    flex-direction: column;
    padding: var(--spacing-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
}

.page-nav-link.next {
    text-align: right;
}

.nav-label {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xs);
}

.nav-title {
    font-weight: 600;
    color: var(--color-text);
}

 
.docs-feedback {
    margin-top: var(--spacing-2xl);
    padding: var(--spacing-lg);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-md);
    text-align: center;
}

.feedback-buttons {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    margin: var(--spacing-md) 0;
}

.feedback-btn {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.feedback-btn:hover {
    border-color: var(--color-primary);
    background: var(--color-primary);
    color: white;
}

.feedback-note {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-top: var(--spacing-md);
}

.feedback-note a {
    color: var(--color-primary);
    text-decoration: none;
}

.feedback-note a:hover {
    text-decoration: underline;
}

 
.feedback-form-container {
    margin-top: var(--spacing-lg);
    padding: var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-align: left;
}

.feedback-form-title {
    font-weight: 600;
    margin-bottom: var(--spacing-md);
    color: var(--color-text);
}

.form-group {
    margin-bottom: var(--spacing-md);
}

.form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--color-text);
}

.form-group input[type="email"],
.form-group textarea {
    width: 100%;
    padding: var(--spacing-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg);
    color: var(--color-text);
    font-family: inherit;
    font-size: 0.9375rem;
    transition: border-color var(--transition-fast);
}

.form-group input[type="email"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color-primary);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

.btn-submit-feedback {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.btn-submit-feedback:hover:not(:disabled) {
    background: var(--color-primary-dark);
    transform: translateY(-1px);
}

.btn-submit-feedback:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

 
.feedback-message {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background: #d1fae5;
    color: #065f46;
    border-radius: var(--radius-md);
    margin-top: var(--spacing-md);
}

.feedback-message.feedback-error {
    background: #fee2e2;
    color: #991b1b;
}

.feedback-message svg {
    flex-shrink: 0;
}

 
@media (max-width: 1024px) {
    .docs-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .docs-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .article-title {
        font-size: 1.75rem;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



<script>
(function() {
    'use strict';
    
    
    let baseUrl = window.feedbackBaseUrl;
    if (!baseUrl) {
        const hostname = window.location.hostname;
        
        if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
            baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
        } else if (hostname.endsWith('.onion')) {
            baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
        } else {
            baseUrl = 'https://feedback.i2p.net';
        }
    }
    
    const script = document.createElement('script');
    script.src = baseUrl + '/widgets/docs-feedback.js';
    script.async = true;
    script.onerror = function() {
        console.error('[Docs Feedback] Failed to load docs-feedback.js from:', baseUrl);
    };
    document.body.appendChild(script);
})();
</script>


    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">Следите за новостями I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="Введите ваш email" required>
                            <button type="submit">Подписаться</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>Быстрые ссылки</h3>
                <ul>
                    <li><a href="../../../../ru/financial-support/">Пожертвовать</a></li>
                    <li><a href="../../../../ru/docs/overview/intro/">Введение в I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Сообщество</h3>
                <ul>
                    <li><a href="../../../../ru/get-involved/">Присоединяйтесь</a></li>
                    <li><a href="../../../../ru/blog/">Блог</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">Официальные форумы</a></li>
                    <li><a href="../../../../ru/contact/">Контакты</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Ресурсы</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">I2P Метрики</a></li>
                    <li><a href="../../../../ru/papers/">Исследование</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">StormyCloud</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 Проект Невидимый Интернет. Лицензировано под Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../../ru/privacy/">Конфиденциальность</a>
                <a href="../../../../ru/terms/">Условия</a>
                <a href="../../../../ru/about/media/">Пресса</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="Закрыть">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>Опрос сообщества</h2>
            <p class="modal-subtitle">Мы хотели бы услышать ваше мнение</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                Ваш голос помогает формировать будущее I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>