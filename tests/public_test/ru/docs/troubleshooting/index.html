<!DOCTYPE html>
<html lang="ru" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Руководство по устранению неполадок I2P Router | I2P - Проект невидимого интернета</title>

    <meta name="description" content="Полное руководство по устранению типичных неполадок I2P router, включая проблемы с подключением, производительностью и конфигурацией">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="Руководство по устранению неполадок I2P Router | I2P - Проект невидимого интернета">
    <meta property="og:description" content="Полное руководство по устранению типичных неполадок I2P router, включая проблемы с подключением, производительностью и конфигурацией">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/ru/docs/troubleshooting/">

    
    <link rel="icon" type="image/svg+xml" href="../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">Бета-сайт I2P теперь доступен Сообщайте о проблемах с E-Mail на stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="Закрыть баннер" title="Закрыть баннер">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../ru/" class="logo-link">
                    <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../ru/about/" class="">О проекте</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ru/about/">Обзор</a></li>
                            <li><a href="../../../ru/papers/">Научные статьи</a></li>
                            <li><a href="../../../ru/about/media/">Пресса</a></li>
                            <li><a href="../../../ru/contact/">Связаться с нами</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../ru/docs/" class="active">Документы</a></li>
                    <li><a href="../../../ru/downloads/" class="">Загрузки</a></li>
                    <li><a href="../../../ru/blog/" class="">Блог</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../ru/get-involved/" class="">Присоединиться</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../ru/get-involved/">Обзор</a></li>
                            <li><a href="../../../ru/feedback/">Предложения по функциям</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">ru</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../en/docs/troubleshooting/"
                                class="lang-option">Английский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../es/docs/troubleshooting/"
                                class="lang-option">Испанский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ko/docs/troubleshooting/"
                                class="lang-option">Корейский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../zh/docs/troubleshooting/"
                                class="lang-option">Китайский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ru/docs/troubleshooting/"
                                class="lang-option active">Русский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../cs/docs/troubleshooting/"
                                class="lang-option">Чешский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../de/docs/troubleshooting/"
                                class="lang-option">Немецкий</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../fr/docs/troubleshooting/"
                                class="lang-option">Французский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../tr/docs/troubleshooting/"
                                class="lang-option">Турецкий</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../vi/docs/troubleshooting/"
                                class="lang-option">Вьетнамский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../hi/docs/troubleshooting/"
                                class="lang-option">Хинди</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../ar/docs/troubleshooting/"
                                class="lang-option">Арабский</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../pt/docs/troubleshooting/"
                                class="lang-option">Португальский</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../ru/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../ru/downloads/" class="btn btn-primary">Загрузить I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        




<div class="docs-page">
    <div class="container">
        
        <div class="docs-layout docs-layout--with-toc">
            
            
            <aside class="docs-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#router-не-запускается-или-сразу-аварийно-завершает-работу">Router не запускается или сразу аварийно завершает работу</a></li>
    <li><a href="#устранение-статуса-network-firewalled">Устранение статуса &ldquo;Network: Firewalled&rdquo;</a></li>
    <li><a href="#router-застрял-в-состояниях-starting-или-testing">Router застрял в состояниях &ldquo;Starting&rdquo; или &ldquo;Testing&rdquo;</a></li>
    <li><a href="#низкие-скорости-тайм-ауты-и-сбои-при-построении-tunnel">Низкие скорости, тайм-ауты и сбои при построении tunnel</a></li>
    <li><a href="#высокая-загрузка-процессора-и-потребление-памяти">Высокая загрузка процессора и потребление памяти</a></li>
    <li><a href="#проблемы-с-торрентами-в-i2psnark">Проблемы с торрентами в I2PSnark</a></li>
    <li><a href="#настройка-и-устранение-неполадок-git-поверх-i2p">Настройка и устранение неполадок Git поверх I2P</a></li>
    <li><a href="#доступ-к-eepsites-и-разрешение-доменных-имен-i2p">Доступ к eepsites и разрешение доменных имен .i2p</a></li>
    <li><a href="#сбои-при-установке-и-проблемы-с-пакетами">Сбои при установке и проблемы с пакетами</a></li>
    <li><a href="#повреждение-конфигурационного-файла-и-восстановление">Повреждение конфигурационного файла и восстановление</a></li>
    <li><a href="#расшифровка-распространённых-сообщений-об-ошибках">Расшифровка распространённых сообщений об ошибках</a></li>
    <li><a href="#проблемы-специфичные-для-платформы">Проблемы, специфичные для платформы</a>
      <ul>
        <li><a href="#проблемы-с-правами-доступа-и-службами-в-linux">Проблемы с правами доступа и службами в Linux</a></li>
        <li><a href="#вмешательство-брандмауэра-windows-и-антивируса">Вмешательство брандмауэра Windows и антивируса</a></li>
        <li><a href="#macos-gatekeeper-механизм-безопасности-macos-для-проверки-приложений-блокирует-установку">macOS Gatekeeper (механизм безопасности macOS для проверки приложений) блокирует установку</a></li>
        <li><a href="#проблемы-приложения-i2p-на-android">Проблемы приложения I2P на Android</a></li>
      </ul>
    </li>
    <li><a href="#проблемы-с-reseed-получением-начальных-данных-netdb-и-bootstrap-начальной-инициализацией">Проблемы с Reseed (получением начальных данных netDb) и bootstrap (начальной инициализацией)</a></li>
    <li><a href="#когда-обращаться-за-дополнительной-помощью">Когда обращаться за дополнительной помощью</a></li>
    <li><a href="#заключение">Заключение</a></li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="docs-main">
                
                <nav class="breadcrumbs">
                    <a href="../../../ru/">Home</a>
                    <span class="separator">/</span>
                    <a href="../../../ru/docs/">Docs</a>
                    
                        
                            <span class="separator">/</span>
                            <a href="../../../ru/docs/">Документация</a>
                        
                    
                    <span class="separator">/</span>
                    <span class="current">Руководство по устранению неполадок I2P Router</span>
                </nav>

                
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">Этот перевод был создан с помощью машинного обучения и может быть не на 100% точным.</span>
    
    
    <a href="../../../en/docs/troubleshooting/" class="disclaimer-link">Просмотреть английскую версию</a>
    
</div>



                
                <header class="article-header">
                    <h1 class="article-title">Руководство по устранению неполадок I2P Router</h1>
                    
                        <p class="article-description">Полное руководство по устранению типичных неполадок I2P router, включая проблемы с подключением, производительностью и конфигурацией</p>
                    
                    <div class="article-meta">
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Updated: 2025-10
                            </span>
                        
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                Accurate for: 2.10.0
                            </span>
                        
                    </div>
                </header>

                
                <article class="article-content">
                    <p>Чаще всего сбои I2P router происходят из‑за <strong>проблем с пробросом портов</strong>, <strong>недостаточного выделения полосы пропускания</strong> и <strong>недостаточного времени на инициализацию</strong>. Эти три фактора объясняют более 70% сообщённых проблем. Router требует как минимум <strong>10-15 минут</strong> после запуска для полной интеграции в сеть, <strong>128 KB/sec минимальной полосы пропускания</strong> (рекомендуется 256 KB/sec) и <strong>корректный проброс портов UDP/TCP</strong> для достижения статуса non-firewalled (без блокировки фаерволом). Новые пользователи часто ожидают немедленной связности и слишком рано перезапускают router, что сбрасывает прогресс интеграции и создаёт раздражающий замкнутый цикл. В этом руководстве приведены подробные решения всех основных проблем I2P, затрагивающих версии 2.10.0 и новее.</p>
<p>Архитектура анонимности I2P по своей природе жертвует скоростью ради конфиденциальности за счёт многохоповых шифрованных tunnel-ов. Понимание этого фундаментального дизайна помогает пользователям формировать реалистичные ожидания и эффективно устранять неполадки, вместо того чтобы принимать нормальное поведение за проблемы.</p>
<h2 id="router-не-запускается-или-сразу-аварийно-завершает-работу">Router не запускается или сразу аварийно завершает работу</h2>
<p>Наиболее распространённые сбои при запуске вызваны <strong>конфликтами портов</strong>, <strong>несовместимостью версии Java</strong> или <strong>повреждёнными файлами конфигурации</strong>. Прежде чем углубляться в диагностику, проверьте, не запущен ли уже другой экземпляр I2P.</p>
<p><strong>Убедитесь, что нет конфликтующих процессов:</strong></p>
<p>Linux: <code>ps aux | grep i2p</code> или <code>netstat -tulpn | grep 7657</code></p>
<p>Windows: Диспетчер задач → Подробности → найдите java.exe с i2p в командной строке</p>
<p>macOS: Мониторинг системы → найдите &ldquo;i2p&rdquo;</p>
<p>Если существует процесс-зомби, завершите его: <code>pkill -9 -f i2p</code> (Linux/Mac) или <code>taskkill /F /IM javaw.exe</code> (Windows)</p>
<p><strong>Проверьте совместимость версии Java:</strong></p>
<p>I2P 2.10.0+ требует <strong>минимум Java 8</strong>, рекомендуется Java 11 или новее. Проверьте, что ваша установка показывает &ldquo;mixed mode&rdquo; (а не &ldquo;interpreted mode&rdquo;):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -version
</span></span></code></pre></div><p>Должно отображаться: OpenJDK или Oracle Java, версия 8+, &ldquo;mixed mode&rdquo;</p>
<p><strong>Избегайте:</strong> GNU GCJ, устаревшие реализации Java, режимы только интерпретации</p>
<p><strong>Частые конфликты портов</strong> возникают, когда несколько служб конкурируют за порты I2P по умолчанию. Консоль router (7657), I2CP (7654), SAM (7656) и HTTP‑прокси (4444) должны быть свободны. Проверьте наличие конфликтов: <code>netstat -ano | findstr &quot;7657 4444 7654&quot;</code> (Windows) или <code>lsof -i :7657,4444,7654</code> (Linux/Mac).</p>
<p><strong>Повреждение файла конфигурации</strong> проявляется немедленными аварийными завершениями работы с ошибками разбора в журналах. Router.config требует <strong>кодировку UTF-8 без BOM</strong>, использует <code>=</code> в качестве разделителя (не <code>:</code>) и запрещает использование некоторых специальных символов. Создайте резервную копию, затем проверьте: <code>~/.i2p/router.config</code> (Linux), <code>%LOCALAPPDATA%\I2P\router.config</code> (Windows), <code>~/Library/Application Support/i2p/router.config</code> (macOS).</p>
<p>Чтобы сбросить конфигурацию с сохранением идентичности: остановите I2P, сделайте резервную копию router.keys и каталога keyData, удалите router.config, перезапустите. router заново сгенерирует конфигурацию по умолчанию.</p>
<p><strong>Слишком маленький размер кучи Java</strong> вызывает сбои с ошибкой OutOfMemoryError. Отредактируйте wrapper.config и увеличьте <code>wrapper.java.maxmemory</code> с значения по умолчанию 128 или 256 до <strong>минимум 512</strong> (1024 для routers с высокой пропускной способностью). Это требует полной остановки, ожидания 11 минут, затем перезапуска - нажатие &ldquo;Restart&rdquo; в консоли не применит изменение.</p>
<h2 id="устранение-статуса-network-firewalled">Устранение статуса &ldquo;Network: Firewalled&rdquo;</h2>
<p>Статус Firewalled означает, что router не может принимать прямые входящие соединения, вынуждая полагаться на introducers (узлы-интродьюсеры). Пока router работает в этом состоянии, <strong>производительность значительно снижается</strong> и вклад в сеть остаётся минимальным. Для достижения состояния non-firewalled (без блокировки файрволом) требуется корректный проброс портов.</p>
<p><strong>router случайным образом выбирает порт</strong> в диапазоне 9000-31000 для связи. Узнайте свой порт на http://127.0.0.1:7657/confignet - найдите &ldquo;UDP Port&rdquo; и &ldquo;TCP Port&rdquo; (обычно это одно и то же число). Для оптимальной производительности необходимо настроить переадресацию портов <strong>и UDP, и TCP</strong>, хотя один только UDP обеспечивает базовую функциональность.</p>
<p><strong>Включить автоматический проброс портов через UPnP</strong> (самый простой способ):</p>
<ol>
<li>Откройте http://127.0.0.1:7657/confignet</li>
<li>Отметьте &ldquo;Enable UPnP&rdquo;</li>
<li>Сохраните изменения и перезапустите router</li>
<li>Подождите 5–10 минут и убедитесь, что статус изменился с &ldquo;Network: Firewalled&rdquo; на &ldquo;Network: OK&rdquo;</li>
</ol>
<p>UPnP требует поддержки со стороны router (по умолчанию включена на большинстве потребительских routers, выпущенных после 2010 года) и корректной настройки сети.</p>
<p><strong>Ручной проброс портов</strong> (требуется, если UPnP не работает):</p>
<ol>
<li>Запишите ваш I2P‑порт со страницы http://127.0.0.1:7657/confignet (например, 22648)</li>
<li>Найдите свой локальный IP‑адрес: <code>ipconfig</code> (Windows), <code>ip addr</code> (Linux), Системные настройки → Сеть (macOS)</li>
<li>Откройте админ‑интерфейс вашего router (обычно 192.168.1.1 или 192.168.0.1)</li>
<li>Перейдите к Переадресации портов (может находиться в разделах Advanced, NAT или Virtual Servers)</li>
<li>Создайте два правила:
<ul>
<li>Внешний порт: [ваш I2P‑порт] → Внутренний IP: [ваш компьютер] → Внутренний порт: [тот же] → Протокол: <strong>UDP</strong></li>
<li>Внешний порт: [ваш I2P‑порт] → Внутренний IP: [ваш компьютер] → Внутренний порт: [тот же] → Протокол: <strong>TCP</strong></li>
</ul>
</li>
<li>Сохраните конфигурацию и при необходимости перезагрузите ваш router</li>
</ol>
<p><strong>Проверьте переадресацию портов</strong> с помощью онлайн-сервисов проверки после настройки. Если проверка не удаётся, проверьте настройки брандмауэра - как системный брандмауэр, так и брандмауэр антивируса должны разрешать порт I2P.</p>
<p><strong>Альтернатива Hidden mode</strong> для ограничительных сетей, где проброс портов невозможен: Включите на http://127.0.0.1:7657/confignet → отметьте &ldquo;Hidden mode&rdquo;. router остаётся за файерволом, но оптимизирует работу для этого состояния, используя исключительно интродьюсеров SSU. Производительность будет ниже, но работоспособность сохранится.</p>
<h2 id="router-застрял-в-состояниях-starting-или-testing">Router застрял в состояниях &ldquo;Starting&rdquo; или &ldquo;Testing&rdquo;</h2>
<p>Эти временные состояния в ходе первичной загрузки обычно проходят в течение <strong>10-15 минут для новых установок</strong> или <strong>3-5 минут для уже функционирующих routers</strong>. Преждевременное вмешательство часто усугубляет проблемы.</p>
<p><strong>&ldquo;Network: Testing&rdquo;</strong> означает, что router проверяет достижимость через различные типы соединений (прямое, introducers (узлы-посредники для установления соединений), несколько версий протокола). Это <strong>нормально в течение первых 5-10 минут</strong> после запуска. Router тестирует несколько сценариев, чтобы определить оптимальную конфигурацию.</p>
<p><strong>&ldquo;Rejecting tunnels: starting up&rdquo;</strong> появляется на этапе начальной инициализации (bootstrap), когда у router недостаточно информации о пирах. Router не будет участвовать в транзитном трафике, пока не будет достаточно интегрирован в сеть. Это сообщение должно исчезнуть через 10–20 минут, когда в netDb накопится информация о 50+ routers.</p>
<p><strong>Рассинхронизация часов срывает проверку доступности.</strong> I2P требует, чтобы системное время отличалось от сетевого не более чем на <strong>±60 секунд</strong>. Разница более 90 секунд приводит к автоматическому отклонению соединений. Синхронизируйте системные часы:</p>
<p>Linux: <code>sudo timedatectl set-ntp true &amp;&amp; sudo systemctl restart systemd-timesyncd</code></p>
<p>Windows: Панель управления → Дата и время → Время по Интернету → Обновить сейчас → Включить автоматическую синхронизацию</p>
<p>macOS: Системные настройки → Дата и время → Включить «Устанавливать дату и время автоматически»</p>
<p>После корректировки смещения часов полностью перезапустите I2P для корректной интеграции.</p>
<p><strong>Недостаточное выделение полосы пропускания</strong> не позволяет успешно выполнить тестирование. router нуждается в достаточной пропускной способности для построения тестовых tunnels. Настройте по адресу http://127.0.0.1:7657/config:</p>
<ul>
<li><strong>Минимально достаточная:</strong> Входящая 96 КБ/с, Исходящая 64 КБ/с</li>
<li><strong>Рекомендуемый стандарт:</strong> Входящая 256 КБ/с, Исходящая 128 КБ/с</li>
<li><strong>Оптимальная производительность:</strong> Входящая 512+ КБ/с, Исходящая 256+ КБ/с</li>
<li><strong>Процент отдачи:</strong> 80% (позволяет router выделять полосу пропускания для сети)</li>
</ul>
<p>Более низкая пропускная способность может работать, но увеличивает время интеграции с минут до часов.</p>
<p><strong>Повреждённый netDb</strong> из‑за некорректного завершения работы или ошибок диска вызывает бесконечные циклы тестирования. router не может завершить тестирование без корректных данных о пирах:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Stop I2P completely</span>
</span></span><span style="display:flex;"><span>i2prouter stop    <span style="color:#75715e"># or systemctl stop i2p</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Delete corrupted database (safe - will reseed automatically)</span>
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/netDb/*
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Restart and allow 10-15 minutes for reseed</span>
</span></span><span style="display:flex;"><span>i2prouter start
</span></span></code></pre></div><p>Windows: Удалите содержимое <code>%APPDATA%\I2P\netDb\</code> или <code>%LOCALAPPDATA%\I2P\netDb\</code></p>
<p><strong>Блокировка reseed (процедуры получения начальных пиров) брандмауэром</strong> не позволяет получить начальные пиры. Во время начальной инициализации I2P получает информацию о router с HTTPS-серверов reseed. Корпоративные/провайдерские брандмауэры могут блокировать эти соединения. Настройте прокси для reseed на http://127.0.0.1:7657/configreseed, если работаете в ограничительных сетях.</p>
<h2 id="низкие-скорости-тайм-ауты-и-сбои-при-построении-tunnel">Низкие скорости, тайм-ауты и сбои при построении tunnel</h2>
<p>Архитектура I2P по своей природе приводит к <strong>скоростям в 3–10 раз ниже, чем в открытом интернете (clearnet)</strong> из‑за многохопового шифрования, накладных расходов на уровне пакетов и непредсказуемости маршрутов. Построение tunnel проходит через несколько routers, и каждый из них добавляет задержку. Понимание этого помогает не принимать нормальное поведение за проблемы.</p>
<p><strong>Типичные ожидания по производительности:</strong></p>
<ul>
<li>Просмотр .i2p-сайтов: поначалу загрузка страниц занимает 10-30 секунд, быстрее после установления tunnel</li>
<li>Загрузка торрентов через I2PSnark: 10-100 КБ/с на торрент в зависимости от количества сидеров и условий в сети</li>
<li>Загрузка больших файлов: требуется терпение - файлы размером в мегабайты могут занимать минуты, гигабайты - часы</li>
<li>Первое подключение самое медленное: построение tunnel занимает 30-90 секунд; последующие подключения используют существующие tunnels</li>
</ul>
<p><strong>Показатель успешности построения Tunnel</strong> указывает на состояние сети. Проверьте на http://127.0.0.1:7657/tunnels:</p>
<ul>
<li><strong>Выше 60%:</strong> Нормальная, стабильная работа</li>
<li><strong>40-60%:</strong> Погранично, рассмотрите увеличение пропускной способности или снижение нагрузки</li>
<li><strong>Ниже 40%:</strong> Проблемно - указывает на недостаточную пропускную способность, проблемы с сетью или неудачный выбор пиров</li>
</ul>
<p><strong>Увеличьте выделение пропускной способности</strong> в качестве первоочередной оптимизации. Большинство случаев низкой производительности связано с нехваткой пропускной способности. На http://127.0.0.1:7657/config увеличивайте лимиты постепенно и следите за графиками на http://127.0.0.1:7657/graphs.</p>
<p><strong>Для DSL/Cable (подключения 1-10 Мбит/с):</strong> - Входящая: 400 КБ/с - Исходящая: 200 КБ/с - Доля: 80% - Память: 384 МБ (измените wrapper.config)</p>
<p><strong>Для высокоскоростных подключений (10-100+ Мбит/с):</strong> - Входящая скорость: 1500 КБ/с   - Исходящая скорость: 1000 КБ/с - Доля: 80-100% - Память: 512-1024 МБ - Рассмотрите: увеличить число участвующих tunnels до 2000-5000 на http://127.0.0.1:7657/configadvanced</p>
<p><strong>Оптимизируйте конфигурацию tunnel</strong> для повышения производительности. Перейдите к настройкам отдельных tunnel по адресу http://127.0.0.1:7657/i2ptunnel и отредактируйте каждый tunnel:</p>
<ul>
<li><strong>Количество tunnel:</strong> Увеличьте с 2 до 3-4 (больше доступных маршрутов)</li>
<li><strong>Количество резервных:</strong> Установите 1-2 (быстрое переключение на резерв при сбое tunnel)</li>
<li><strong>Длина tunnel:</strong> По умолчанию 3 хопа обеспечивают хороший баланс; уменьшение до 2 повышает скорость, но снижает анонимность</li>
</ul>
<p><strong>Нативная криптографическая библиотека (jbigi)</strong> обеспечивает производительность в 5–10 раз выше, чем шифрование на чистой Java. Проверьте, что библиотека загружена, на http://127.0.0.1:7657/logs - ищите &ldquo;jbigi loaded successfully&rdquo; или &ldquo;Using native CPUID implementation&rdquo;. Если отсутствует:</p>
<p>Linux: Обычно автоматически обнаруживается и загружается из ~/.i2p/jbigi-*.so Windows: Проверьте наличие jbigi.dll в каталоге установки I2P Если отсутствует: Установите инструменты сборки и соберите из исходников или скачайте предварительно собранные бинарные файлы из официальных репозиториев</p>
<p><strong>Поддерживайте непрерывную работу router.</strong> Каждый перезапуск сбрасывает интеграцию, из‑за чего требуется 30–60 минут на восстановление сети tunnel и связей с пирами. Стабильные router с высоким аптаймом получают приоритет при построении tunnel, что создает положительную обратную связь, улучшая производительность.</p>
<h2 id="высокая-загрузка-процессора-и-потребление-памяти">Высокая загрузка процессора и потребление памяти</h2>
<p>Чрезмерное потребление ресурсов обычно указывает на <strong>недостаточное выделение памяти</strong>, <strong>отсутствие нативных криптографических библиотек</strong> или <strong>чрезмерную степень участия в сети</strong>. Хорошо настроенные routers должны потреблять 10–30% CPU при активном использовании и поддерживать стабильное использование памяти ниже 80% от выделенной кучи.</p>
<p><strong>Проблемы с памятью проявляются следующим образом:</strong> - Графики использования памяти с плоской вершиной (зафиксированы на максимуме) - Частые сборки мусора (пилообразный рисунок с резкими провалами) - OutOfMemoryError в журналах - Router становится неотзывчивым под нагрузкой - Автоматическое завершение работы из‑за исчерпания ресурсов</p>
<p><strong>Увеличьте размер кучи Java</strong> в wrapper.config (требуется полная остановка):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Linux: ~/.i2p/wrapper.config</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Windows: %APPDATA%\I2P\wrapper.config  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Find and modify:</span>
</span></span><span style="display:flex;"><span>wrapper.java.maxmemory<span style="color:#f92672">=</span><span style="color:#ae81ff">512</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Recommendations by usage:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Light browsing only: 256</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Standard use (browsing + light torrenting): 512</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Heavy use (multiple applications, active torrenting): 768-1024</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Floodfill or very high bandwidth: 1024-2048</span>
</span></span></code></pre></div><p><strong>Критично:</strong> После редактирования wrapper.config необходимо полностью остановить (а не перезапускать), подождать 11 минут для корректного завершения работы, затем запустить заново. Кнопка «Restart» в консоли router не перечитывает настройки wrapper.</p>
<p><strong>Оптимизация CPU требует нативной криптографической библиотеки.</strong> Операции BigInteger в чистой Java потребляют в 10-20 раз больше ресурсов CPU, чем нативные реализации. Проверьте состояние jbigi по адресу http://127.0.0.1:7657/logs во время запуска. Без jbigi нагрузка на CPU будет подскакивать до 50-100% во время построения tunnel и операций шифрования.</p>
<p><strong>Снизьте нагрузку от участвующих tunnel</strong> если router перегружен:</p>
<ol>
<li>Откройте http://127.0.0.1:7657/configadvanced</li>
<li>Установите <code>router.maxParticipatingTunnels=1000</code> (по умолчанию 8000)</li>
<li>Уменьшите долю шеринга на http://127.0.0.1:7657/config с 80% до 50%</li>
<li>Отключите режим floodfill, если он включен: <code>router.floodfillParticipant=false</code></li>
</ol>
<p><strong>Ограничьте полосу пропускания I2PSnark и количество одновременно активных торрентов.</strong> Торрент-трафик потребляет значительные ресурсы. На http://127.0.0.1:7657/i2psnark:</p>
<ul>
<li>Ограничьте число активных торрентов до 3-5</li>
<li>Установите &ldquo;Up BW Limit&rdquo; и &ldquo;Down BW Limit&rdquo; на разумные значения (по 50-100 KB/sec каждый)</li>
<li>Останавливайте торренты, когда они не нужны</li>
<li>Избегайте одновременной раздачи десятков торрентов</li>
</ul>
<p><strong>Следите за использованием ресурсов</strong> через встроенные графики по адресу http://127.0.0.1:7657/graphs. Память должна иметь запас, а не образовывать плато на максимуме. Всплески загрузки CPU во время построения tunnel — это нормально; устойчиво высокая загрузка CPU указывает на проблемы с конфигурацией.</p>
<p><strong>Для систем с сильно ограниченными ресурсами</strong> (Raspberry Pi, старое оборудование) рассмотрите <strong>i2pd</strong> (реализация на C++) в качестве альтернативы. i2pd требует ~130 МБ ОЗУ, по сравнению с 350+ МБ для Java I2P, и использует ~7% ЦП против 70% при схожей нагрузке. Учтите, что в i2pd нет встроенных приложений и требуются внешние инструменты.</p>
<h2 id="проблемы-с-торрентами-в-i2psnark">Проблемы с торрентами в I2PSnark</h2>
<p>Интеграция I2PSnark с архитектурой router в I2P требует понимания того, что <strong>торрентинг полностью зависит от здоровья tunnels router</strong>. Торренты не запустятся, пока router не достигнет достаточной интеграции с 10+ активными пирами и работающими tunnels.</p>
<p><strong>Торренты, застрявшие на 0%, обычно указывают на:</strong></p>
<ol>
<li><strong>Router не полностью интегрирован:</strong> Подождите 10–15 минут после запуска I2P, прежде чем ожидать активности торрентов</li>
<li><strong>DHT (распределенная хеш-таблица) отключён:</strong> Включите на http://127.0.0.1:7657/i2psnark → Configuration → отметьте &ldquo;Enable DHT&rdquo; (по умолчанию включено начиная с версии 0.9.2)</li>
<li><strong>Недействительные или неработающие трекеры:</strong> Торренты I2P требуют трекеров, предназначенных для I2P - трекеры clearnet (обычного интернета) не будут работать</li>
<li><strong>Недостаточная конфигурация tunnels:</strong> Увеличьте число tunnels в I2PSnark Configuration → раздел Tunnels</li>
</ol>
<p><strong>Настройте I2PSnark tunnels для повышения производительности:</strong></p>
<ul>
<li>Входящие tunnels: 3-5 (по умолчанию 2 для Java I2P, 5 для i2pd)</li>
<li>Исходящие tunnels: 3-5</li>
<li>Длина tunnel: 3 хопа (уменьшите до 2 ради скорости, но с меньшей анонимностью)</li>
<li>Количество tunnel: 3 (обеспечивает стабильную производительность)</li>
</ul>
<p><strong>Основные торрент-трекеры I2P</strong> для добавления: - tracker2.postman.i2p (основной, наиболее надёжный) - w7tpbzncbcocrqtwwm3nezhnnsw4ozadvi2hmvzdhrqzfxfum7wa.b32.i2p/a</p>
<p>Удалите любые трекеры clearnet (обычный интернет) (non-.i2p) - они не приносят пользы и создают попытки подключения, которые заканчиваются тайм-аутом.</p>
<p><strong>Ошибки &ldquo;Torrent not registered&rdquo;</strong> возникают при сбое связи с трекером. Щелчок правой кнопкой по торренту → «Старт» принудительно выполняет переанонс. Если проблема сохраняется, проверьте доступность трекера, открыв <a href="http://tracker2.postman.i">http://tracker2.postman.i</a>
2p в браузере, настроенном для I2P. Неактивные трекеры следует заменить рабочими альтернативами.</p>
<p><strong>Пиры не подключаются</strong> несмотря на успешную работу трекера, указывает на следующее: - Router заблокирован брандмауэром (помогает проброс портов, но не обязателен) - недостаточная пропускная способность (увеличьте до 256+ КБ/с)   - слишком маленький рой (у некоторых торрентов 1-2 сидера; требуется терпение) - DHT отключён (включите для обнаружения пиров без трекера)</p>
<p><strong>Включите DHT (Distributed Hash Table — распределённая хеш-таблица) и PEX (Peer Exchange — обмен пирами)</strong> в настройках I2PSnark. DHT позволяет находить пиры без зависимости от трекера. PEX обнаруживает пиры через уже подключённых пиров, ускоряя обнаружение роя.</p>
<p><strong>Повреждение скачанных файлов</strong> редко происходит благодаря встроенной в I2PSnark проверке целостности. Если обнаружено:</p>
<ol>
<li>Щелкните правой кнопкой мыши по торренту → &ldquo;Check&rdquo; выполняет принудительное перехеширование всех частей</li>
<li>Удалите поврежденные данные торрента (сохраняется файл .torrent)</li>
<li>Щелкните правой кнопкой → &ldquo;Start&rdquo; для повторной загрузки с проверкой частей</li>
<li>Проверьте диск на ошибки, если повреждения сохраняются: <code>chkdsk</code> (Windows), <code>fsck</code> (Linux)</li>
</ol>
<p><strong>Каталог наблюдения не работает</strong> требует правильной настройки:</p>
<ol>
<li>Настройки I2PSnark → &ldquo;Папка наблюдения&rdquo;: Укажите абсолютный путь (например, <code>/home/user/torrents/watch</code>)</li>
<li>Убедитесь, что процесс I2P имеет права на чтение: <code>chmod 755 /path/to/watch</code></li>
<li>Поместите файлы .torrent в папку наблюдения - I2PSnark добавляет их автоматически</li>
<li>Настройте &ldquo;Автозапуск&rdquo;: Отметьте, должны ли торренты запускаться сразу после добавления</li>
</ol>
<p><strong>Оптимизация производительности при работе с торрентами:</strong></p>
<ul>
<li>Ограничьте число одновременно активных торрентов: максимум 3-5 для стандартных подключений</li>
<li>Расставляйте приоритеты для важных загрузок: временно останавливайте низкоприоритетные торренты</li>
<li>Увеличьте выделение пропускной способности для router: больше пропускной способности = лучшая производительность торрентов</li>
<li>Будьте терпеливы: торренты через I2P по своей природе медленнее, чем BitTorrent в clearnet (открытом интернете)</li>
<li>Раздавайте после загрузки: сеть процветает благодаря взаимности</li>
</ul>
<h2 id="настройка-и-устранение-неполадок-git-поверх-i2p">Настройка и устранение неполадок Git поверх I2P</h2>
<p>Операции Git через I2P требуют либо <strong>настройки прокси SOCKS</strong>, либо <strong>выделенных I2P tunnels</strong> для доступа по SSH/HTTP. Архитектура Git предполагает соединения с низкой задержкой, поэтому архитектура I2P с высокой задержкой создаёт сложности.</p>
<p><strong>Настройте Git для использования SOCKS-прокси I2P:</strong></p>
<p>Отредактируйте ~/.ssh/config (создайте, если не существует):</p>
<pre tabindex="0"><code>Host *.i2p
    ProxyCommand nc -X 5 -x 127.0.0.1:4447 %h %p
    ServerAliveInterval 60
    ServerAliveCountMax 3
    Compression yes
</code></pre><p>Это направляет все SSH-подключения к .i2p-хостам через SOCKS-прокси I2P (порт 4447). Параметры ServerAlive поддерживают соединение при задержках I2P.</p>
<p>Для операций Git по HTTP/HTTPS настройте Git глобально:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git config --global http.proxy socks5h://127.0.0.1:4447
</span></span><span style="display:flex;"><span>git config --global https.proxy socks5h://127.0.0.1:4447
</span></span></code></pre></div><p>Примечание: <code>socks5h</code> выполняет разрешение DNS через прокси - это критически важно для доменов .i2p.</p>
<p><strong>Создайте выделенный I2P tunnel для Git по SSH</strong> (надёжнее, чем SOCKS):</p>
<ol>
<li>Откройте http://127.0.0.1:7657/i2ptunnel</li>
<li>&ldquo;Новый клиентский tunnel&rdquo; → &ldquo;Standard&rdquo;</li>
<li>Настройте:
<ul>
<li>Имя: Git-SSH</li>
<li>Тип: Client</li>
<li>Порт: 2222 (локальный порт для доступа к Git)</li>
<li>Назначение: [your-git-server].i2p:22</li>
<li>Автозапуск: Включено</li>
<li>Количество tunnel: 3-4 (больше для надежности)</li>
</ul>
</li>
<li>Сохраните и запустите tunnel</li>
<li>Настройте SSH на использование tunnel: <code>ssh -p 2222 git@127.0.0.1</code></li>
</ol>
<p><strong>Ошибки аутентификации SSH</strong> через I2P обычно возникают из-за:</p>
<ul>
<li>Ключ не добавлен в ssh-agent: <code>ssh-add ~/.ssh/id_rsa</code></li>
<li>Неверные права на файл ключа: <code>chmod 600 ~/.ssh/id_rsa</code></li>
<li>Tunnel не запущен: Проверьте на http://127.0.0.1:7657/i2ptunnel, что статус зелёный</li>
<li>Сервер Git требует определённый тип ключа: сгенерируйте ключ ed25519, если RSA не срабатывает</li>
</ul>
<p><strong>Истечение времени ожидания операций Git</strong> связано с характеристиками задержки I2P:</p>
<ul>
<li>Увеличьте таймаут Git: <code>git config --global http.postBuffer 524288000</code> (буфер 500 МБ)</li>
<li>Увеличьте лимит низкой скорости: <code>git config --global http.lowSpeedLimit 1000</code> и <code>git config --global http.lowSpeedTime 600</code> (ожидает 10 минут)</li>
<li>Используйте поверхностное клонирование для первичного клонирования: <code>git clone --depth 1 [url]</code> (загружает только последний коммит, быстрее)</li>
<li>Клонируйте в периоды низкой активности: сетевая перегрузка влияет на производительность I2P</li>
</ul>
<p><strong>Медленные операции git clone/fetch</strong> присущи архитектуре I2P. Репозиторий 100MB может передаваться через I2P 30–60 минут, тогда как на clearnet (открытый интернет) — секунды. Стратегии:</p>
<ul>
<li>Используйте поверхностное клонирование: <code>--depth 1</code> существенно сокращает начальный объём передаваемых данных</li>
<li>Выполняйте выборку поэтапно: вместо полного клонирования получайте конкретные ветки: <code>git fetch origin branch:branch</code></li>
<li>Рассмотрите rsync поверх I2P: для очень больших репозиториев rsync может работать лучше</li>
<li>Увеличьте количество tunnel: большее число tunnels обеспечивает лучшую пропускную способность при длительных крупных передачах</li>
</ul>
<p><strong>Ошибки &ldquo;Connection refused&rdquo;</strong> указывают на неправильную конфигурацию tunnel:</p>
<ol>
<li>Убедитесь, что I2P router запущен: проверьте http://127.0.0.1:7657</li>
<li>Подтвердите, что tunnel активен и зелёный на http://127.0.0.1:7657/i2ptunnel</li>
<li>Протестируйте tunnel: <code>nc -zv 127.0.0.1 2222</code> (должно подключиться, если tunnel работает)</li>
<li>Проверьте, что назначение доступно: откройте HTTP‑интерфейс назначения, если он доступен</li>
<li>Изучите журналы tunnel на http://127.0.0.1:7657/logs для поиска конкретных ошибок</li>
</ol>
<p><strong>Лучшие практики использования Git поверх I2P:</strong></p>
<ul>
<li>Держите I2P router запущенным постоянно для стабильного доступа к Git</li>
<li>Используйте ключи SSH вместо аутентификации по паролю (меньше интерактивных запросов)</li>
<li>Настройте постоянные tunnels вместо временных SOCKS-подключений</li>
<li>Рассмотрите размещение собственного сервера Git в I2P для лучшего контроля</li>
<li>Задокументируйте свои .i2p конечные точки Git для соавторов</li>
</ul>
<h2 id="доступ-к-eepsites-и-разрешение-доменных-имен-i2p">Доступ к eepsites и разрешение доменных имен .i2p</h2>
<p>Самая частая причина, по которой пользователи не могут получить доступ к сайтам .i2p, — это <strong>неверная настройка прокси в браузере</strong>. Сайты I2P существуют только внутри сети I2P и требуют маршрутизации через HTTP‑прокси I2P.</p>
<p><strong>Настройте параметры прокси браузера в точности:</strong></p>
<p><strong>Firefox (рекомендуется для I2P):</strong></p>
<ol>
<li>Меню → Настройки → Настройки сети → кнопка &ldquo;Настройки&rdquo;</li>
<li>Выберите &ldquo;Ручная настройка прокси&rdquo;</li>
<li>HTTP-прокси: <strong>127.0.0.1</strong> Порт: <strong>4444</strong></li>
<li>SSL-прокси: <strong>127.0.0.1</strong> Порт: <strong>4444</strong></li>
<li>SOCKS-прокси: <strong>127.0.0.1</strong> Порт: <strong>4447</strong> (необязательно, для приложений SOCKS)</li>
<li>Отметьте &ldquo;Проксировать DNS при использовании SOCKS v5&rdquo;</li>
<li>Нажмите OK, чтобы сохранить</li>
</ol>
<p><strong>Критически важные настройки about:config в Firefox:</strong></p>
<p>Перейдите на <code>about:config</code> и измените:</p>
<ul>
<li><code>media.peerconnection.ice.proxy_only</code> = <strong>true</strong> (предотвращает утечки IP через WebRTC)</li>
<li><code>keyword.enabled</code> = <strong>false</strong> (предотвращает перенаправление адресов .i2p на поисковые системы)</li>
<li><code>network.proxy.socks_remote_dns</code> = <strong>true</strong> (DNS через прокси)</li>
</ul>
<p><strong>Ограничения Chrome/Chromium:</strong></p>
<p>Chrome использует системные настройки прокси, а не отдельные настройки приложения. В Windows: Параметры → найдите &ldquo;proxy&rdquo; → &ldquo;Открыть настройки прокси на этом компьютере&rdquo; → Настройте HTTP: 127.0.0.1:4444 и HTTPS: 127.0.0.1:4445.</p>
<p>Лучший способ: используйте расширения FoxyProxy или Proxy SwitchyOmega для выборочной маршрутизации .i2p.</p>
<p><strong>Ошибки &ldquo;Website Not Found In Address Book&rdquo;</strong> означают, что у router отсутствует криптографический адрес домена .i2p. I2P использует локальные адресные книги вместо централизованного DNS. Решения:</p>
<p><strong>Способ 1: Используйте jump services (jump-сервисы)</strong> (самый простой для новых сайтов):</p>
<p>Перейдите на <a href="http://stats.i">http://stats.i</a>
2p и найдите сайт. Нажмите ссылку addresshelper (специальная ссылка для добавления адреса в адресную книгу): <code>http://example.i2p/?i2paddresshelper=base64destination</code>. Ваш браузер покажет &ldquo;Сохранить в адресную книгу?&rdquo; - подтвердите, чтобы добавить.</p>
<p><strong>Способ 2: Обновите подписки адресной книги:</strong></p>
<ol>
<li>Перейдите на http://127.0.0.1:7657/dns (SusiDNS)</li>
<li>Нажмите вкладку &ldquo;Subscriptions&rdquo;</li>
<li>Проверьте активные подписки (по умолчанию: <a href="http://i2p-projekt.i">http://i2p-projekt.i</a>
2p/hosts.txt)</li>
<li>Добавьте рекомендуемые подписки:
<ul>
<li><a href="http://stats.i">http://stats.i</a>
2p/cgi-bin/newhosts.txt</li>
<li><a href="http://notbob.i">http://notbob.i</a>
2p/hosts.txt</li>
<li><a href="http://reg.i">http://reg.i</a>
2p/export/hosts.txt</li>
</ul>
</li>
<li>Нажмите &ldquo;Update Now&rdquo;, чтобы принудительно выполнить немедленное обновление подписок</li>
<li>Подождите 5–10 минут на обработку</li>
</ol>
<p><strong>Метод 3: Используйте адреса base32</strong> (всегда работает, если сайт онлайн):</p>
<p>Каждый сайт .i2p имеет адрес base32: 52 случайных символа, за которыми следует .b32.i2p (например, <code>ukeu3k5oycgaauneqgtnvselmt4yemvoilkln7jpvamvfx7dnkdq.b32.i2p</code>). Адреса base32 обходят адресную книгу - router выполняет прямой криптографический поиск.</p>
<p><strong>Типичные ошибки настройки браузера:</strong></p>
<ul>
<li>Попытка использовать HTTPS на сайтах, доступных только по HTTP: большинство сайтов .i2p используют только HTTP — попытка <code>https://example.i2p</code> завершится неудачей</li>
<li>Забытый префикс <code>http://</code>: браузер может начать поиск вместо подключения — всегда используйте <code>http://example.i2p</code></li>
<li>Включённый WebRTC: может раскрыть реальный IP-адрес — отключите в настройках Firefox или с помощью расширений</li>
<li>DNS не проксируется: DNS clearnet (открытый интернет) не может разрешать .i2p — необходимо проксировать DNS-запросы</li>
<li>Неверный порт прокси: 4444 для HTTP (не 4445, который — HTTPS outproxy (прокси-выход) в clearnet)</li>
</ul>
<p><strong>Router не полностью интегрирован</strong> препятствует доступу к любым сайтам. Проверьте достаточность интеграции:</p>
<ol>
<li>Проверьте, что http://127.0.0.1:7657 показывает &ldquo;Network: OK&rdquo; или &ldquo;Network: Firewalled&rdquo; (не &ldquo;Network: Testing&rdquo;)</li>
<li>Active peers показывает минимум 10+ (оптимально 50+)</li>
<li>Нет сообщения &ldquo;Rejecting tunnels: starting up&rdquo;</li>
<li>Подождите полные 10-15 минут после запуска router, прежде чем ожидать доступ к .i2p</li>
</ol>
<p><strong>Настройка клиентов IRC и электронной почты</strong> следует аналогичным шаблонам прокси:</p>
<p><strong>IRC:</strong> Клиенты подключаются к <strong>127.0.0.1:6668</strong> (IRC-прокси tunnel I2P). Отключите в IRC-клиенте настройки прокси - подключение к localhost:6668 уже проксируется через I2P.</p>
<p><strong>Электронная почта (Postman):</strong>  - SMTP: <strong>127.0.0.1:7659</strong> - POP3: <strong>127.0.0.1:7660</strong>   - Без SSL/TLS (шифрование обеспечивается I2P tunnel) - Учетные данные из регистрации учетной записи на postman.i2p</p>
<p>Все эти tunnels должны отображать статус «running» (зелёный) на http://127.0.0.1:7657/i2ptunnel.</p>
<h2 id="сбои-при-установке-и-проблемы-с-пакетами">Сбои при установке и проблемы с пакетами</h2>
<p>Пакетные установки (Debian, Ubuntu, Arch) иногда завершаются сбоем из‑за <strong>изменений в репозиториях</strong>, <strong>истечения срока действия GPG ключей</strong> или <strong>конфликтов зависимостей</strong>. В последних версиях официальные репозитории были перенесены с deb.i2p2.de/deb.i2p2.no (сняты с поддержки) на <strong>deb.i2p.net</strong>.</p>
<p><strong>Обновите репозиторий Debian/Ubuntu до актуального состояния:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Remove old repository entries</span>
</span></span><span style="display:flex;"><span>sudo rm /etc/apt/sources.list.d/i2p.list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add current repository</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;deb [signed-by=/usr/share/keyrings/i2p-archive-keyring.gpg] https://deb.i2p.net/ </span><span style="color:#66d9ef">$(</span>lsb_release -sc<span style="color:#66d9ef">)</span><span style="color:#e6db74"> main&#34;</span> | sudo tee /etc/apt/sources.list.d/i2p.list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Download and install current signing key</span>
</span></span><span style="display:flex;"><span>curl -o i2p-archive-keyring.gpg https://geti2p.net/_static/i2p-archive-keyring.gpg
</span></span><span style="display:flex;"><span>sudo cp i2p-archive-keyring.gpg /usr/share/keyrings/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Update and install</span>
</span></span><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt install i2p i2p-keyring
</span></span></code></pre></div><p><strong>Ошибки проверки подписи GPG</strong> возникают, когда ключи репозитория истекают или меняются:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Error: &#34;The following signatures were invalid&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution: Install current keyring package</span>
</span></span><span style="display:flex;"><span>sudo apt install i2p-keyring
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Manual key import if package unavailable</span>
</span></span><span style="display:flex;"><span>wget https://geti2p.net/_static/i2p-debian-repo.key.asc
</span></span><span style="display:flex;"><span>sudo apt-key add i2p-debian-repo.key.asc
</span></span></code></pre></div><p><strong>Служба не запускается после установки пакета</strong> чаще всего из-за проблем с профилем AppArmor в Debian/Ubuntu:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Check service status</span>
</span></span><span style="display:flex;"><span>sudo systemctl status i2p.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Common error: &#34;Failed at step APPARMOR spawning&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution: Reconfigure without AppArmor</span>
</span></span><span style="display:flex;"><span>sudo dpkg-reconfigure -plow i2p
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Select &#34;No&#34; for AppArmor when prompted</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Alternative: Set profile to complain mode</span>
</span></span><span style="display:flex;"><span>sudo aa-complain /usr/sbin/wrapper
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check logs for specific errors  </span>
</span></span><span style="display:flex;"><span>sudo journalctl -xe -u i2p.service
</span></span></code></pre></div><p><strong>Проблемы с правами доступа</strong> в I2P, установленном через пакетный менеджер:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Fix ownership (package install uses &#39;i2psvc&#39; user)</span>
</span></span><span style="display:flex;"><span>sudo chown -R i2psvc:i2psvc /var/lib/i2p /var/log/i2p /run/i2p
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">750</span> /var/log/i2p /var/lib/i2p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set file descriptor limits (add to /etc/security/limits.conf)</span>
</span></span><span style="display:flex;"><span>i2psvc soft nofile <span style="color:#ae81ff">4096</span>  
</span></span><span style="display:flex;"><span>i2psvc hard nofile <span style="color:#ae81ff">8192</span>
</span></span></code></pre></div><p><strong>Проблемы совместимости с Java:</strong></p>
<p>I2P 2.10.0 требует <strong>минимум Java 8</strong>. На более старых системах может быть Java 7 или более ранняя версия:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Check Java version</span>
</span></span><span style="display:flex;"><span>java -version
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Install appropriate Java (Debian/Ubuntu)</span>
</span></span><span style="display:flex;"><span>sudo apt install openjdk-11-jre-headless
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set default Java if multiple versions installed</span>
</span></span><span style="display:flex;"><span>sudo update-alternatives --config java
</span></span></code></pre></div><p><strong>Ошибки конфигурации Wrapper (Java Service Wrapper — служебная оболочка)</strong> предотвращают запуск службы:</p>
<p>Расположение Wrapper.config зависит от способа установки: - Установка пользователем: <code>~/.i2p/wrapper.config</code> - Установка из пакета: <code>/etc/i2p/wrapper.config</code> или <code>/var/lib/i2p/wrapper.config</code></p>
<p>Распространенные проблемы с wrapper.config:</p>
<ul>
<li>Некорректные пути: <code>wrapper.java.command</code> должен указывать на корректную установку Java</li>
<li>Недостаточный объём памяти: значение <code>wrapper.java.maxmemory</code> установлено слишком низким (увеличьте до 512+)</li>
<li>Неверное расположение pidfile: <code>wrapper.pidfile</code> должен указывать на расположение, доступное для записи</li>
<li>Отсутствует бинарный файл wrapper: на некоторых платформах нет предварительно скомпилированного wrapper (используйте runplain.sh как резервный вариант)</li>
</ul>
<p><strong>Сбои при обновлении и повреждённые обновления:</strong></p>
<p>Обновления консоли Router иногда срываются во время загрузки из‑за перебоев в сети. Процедура ручного обновления:</p>
<ol>
<li>Скачайте i2pupdate_X.X.X.zip с <a href="https://geti2p.net/en/download">https://geti2p.net/en/download</a>
</li>
<li>Проверьте, что контрольная сумма SHA256 совпадает с опубликованным хэшем</li>
<li>Скопируйте в каталог установки I2P как <code>i2pupdate.zip</code></li>
<li>Перезапустите router - обновление будет автоматически обнаружено и распаковано</li>
<li>Подождите 5-10 минут, пока обновление установится</li>
<li>Проверьте новую версию на http://127.0.0.1:7657</li>
</ol>
<p><strong>Миграция с очень старых версий</strong> (до 0.9.47) на текущие версии может завершиться неудачей из‑за несовместимых ключей подписи или удалённых возможностей. Необходимы поэтапные обновления:</p>
<ul>
<li>Версии старее 0.9.9: невозможно проверить текущие подписи - необходимо ручное обновление</li>
<li>Версии, работающие на Java 6/7: необходимо обновить Java перед обновлением I2P до 2.x</li>
<li>Существенный разрыв между версиями: сначала обновитесь до промежуточной версии (рекомендуемая контрольная точка - 0.9.47)</li>
</ul>
<p><strong>Когда использовать установщик, а когда пакет:</strong></p>
<ul>
<li><strong>Пакеты (apt/yum):</strong> Лучший вариант для серверов, автоматических обновлений безопасности, интеграции с системой, управления через systemd</li>
<li><strong>Установщик (.jar):</strong> Лучший вариант для установки на уровне пользователя, Windows, macOS, нестандартных установок, доступности последней версии</li>
</ul>
<h2 id="повреждение-конфигурационного-файла-и-восстановление">Повреждение конфигурационного файла и восстановление</h2>
<p>Сохранение конфигурации I2P опирается на несколько критически важных файлов. Повреждение обычно возникает из‑за <strong>неправильного завершения работы</strong>, <strong>ошибок диска</strong> или <strong>ошибок при ручном редактировании</strong>. Понимание назначения этих файлов позволяет проводить точечное восстановление вместо полной переустановки.</p>
<p><strong>Критические файлы и их назначение:</strong></p>
<ul>
<li><strong>router.keys</strong> (516+ байт): Криптографическая идентичность router - потеря этого файла создаст новую идентичность</li>
<li><strong>router.info</strong> (автоматически создается): Опубликованная информация о router - можно удалить, восстановится автоматически</li>
<li><strong>router.config</strong> (текст): Основная конфигурация - пропускная способность, сетевые настройки, предпочтения</li>
<li><strong>i2ptunnel.config</strong> (текст): Определения tunnel - клиентские/серверные tunnel, ключи, назначения</li>
<li><strong>netDb/</strong> (каталог): База данных пиров - информация о router для участников сети</li>
<li><strong>peerProfiles/</strong> (каталог): Статистика производительности по пирам - влияет на выбор tunnel</li>
<li><strong>keyData/</strong> (каталог): Ключи назначений для eepsites и сервисов - потеря приведет к смене адресов</li>
<li><strong>addressbook/</strong> (каталог): Локальные сопоставления имен хостов .i2p</li>
</ul>
<p><strong>Полная процедура резервного копирования</strong> перед внесением изменений:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Stop I2P first</span>
</span></span><span style="display:flex;"><span>i2prouter stop  <span style="color:#75715e"># or: systemctl stop i2p</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Backup directory</span>
</span></span><span style="display:flex;"><span>BACKUP_DIR<span style="color:#f92672">=</span>~/i2p-backup-<span style="color:#66d9ef">$(</span>date +%Y%m%d-%H%M<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>mkdir -p $BACKUP_DIR
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Copy critical files</span>
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/router.keys $BACKUP_DIR/
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/*.config $BACKUP_DIR/
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/keyData $BACKUP_DIR/
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/addressbook $BACKUP_DIR/
</span></span><span style="display:flex;"><span>cp -r ~/.i2p/eepsite $BACKUP_DIR/  <span style="color:#75715e"># if hosting sites</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Optional but recommended</span>
</span></span><span style="display:flex;"><span>tar -czf $BACKUP_DIR.tar.gz $BACKUP_DIR
</span></span></code></pre></div><p><strong>Симптомы повреждения Router.config:</strong></p>
<ul>
<li>Router не запускается из-за ошибок разбора в журналах</li>
<li>Настройки не сохраняются после перезапуска</li>
<li>Появляются неожиданные значения по умолчанию</li>
<li>Искажённые символы при просмотре файла</li>
</ul>
<p><strong>Восстановление повреждённого router.config:</strong></p>
<ol>
<li>Сделайте резервную копию имеющегося: <code>cp router.config router.config.broken</code></li>
<li>Проверьте кодировку файла: должна быть UTF-8 без BOM</li>
<li>Проверьте синтаксис: ключи используют разделитель <code>=</code> (не <code>:</code>), у ключей не должно быть завершающих пробелов, <code>#</code> — только для комментариев</li>
<li>Распространённые проблемы: не-ASCII символы в значениях, проблемы с концами строк (CRLF vs LF)</li>
<li>Если исправить не удаётся: удалите router.config - router создаст файл по умолчанию, сохранив идентичность</li>
</ol>
<p><strong>Важные настройки router.config, которые следует сохранить:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">i2np.bandwidth.inboundKBytesPerSecond</span><span style="color:#f92672">=</span><span style="color:#e6db74">512</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.bandwidth.outboundKBytesPerSecond</span><span style="color:#f92672">=</span><span style="color:#e6db74">256</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.updatePolicy</span><span style="color:#f92672">=</span><span style="color:#e6db74">notify</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">routerconsole.lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">en</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.hiddenMode</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span></code></pre></div><p><strong>Утерянный или недействительный router.keys</strong> создаёт новую идентичность router. Это приемлемо, за исключением случаев:</p>
<ul>
<li>Работа в режиме floodfill (узел-распространитель netDb) (теряет статус floodfill)</li>
<li>Размещение eepsites (скрытые сайты I2P) с опубликованным адресом (теряется непрерывность)</li>
<li>Сформированная репутация в сети</li>
</ul>
<p>Восстановление без резервной копии невозможно — создайте новую: удалите router.keys, перезапустите I2P, будет создана новая идентичность.</p>
<p><strong>Ключевое различие:</strong> router.keys (идентичность) против keyData/* (службы). Потеря router.keys изменит идентичность router&rsquo;а. Потеря keyData/mysite-keys.dat изменит .i2p-адрес вашего eepsite - катастрофа, если адрес уже опубликован.</p>
<p><strong>Создавайте резервные копии ключей eepsite/службы отдельно:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Identify your service keys</span>
</span></span><span style="display:flex;"><span>ls -la ~/.i2p/keyData/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Backup with descriptive names  </span>
</span></span><span style="display:flex;"><span>cp ~/.i2p/keyData/myservice-keys.dat ~/backups/myservice-keys-<span style="color:#66d9ef">$(</span>date +%Y%m%d<span style="color:#66d9ef">)</span>.dat
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Store securely (encrypted if sensitive)</span>
</span></span><span style="display:flex;"><span>gpg -c ~/backups/myservice-keys-*.dat
</span></span></code></pre></div><p><strong>Повреждение NetDb и peerProfiles (профили пиров):</strong></p>
<p>Симптомы: Ноль активных пиров, не удаётся построить tunnels, в журналах «Database corruption detected»</p>
<p>Безопасное исправление (всё автоматически пройдет через reseed (получение стартовых пиров)/пересборку):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>i2prouter stop
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/netDb/*
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/peerProfiles/*
</span></span><span style="display:flex;"><span>i2prouter start
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Wait 10-15 minutes for reseed and integration</span>
</span></span></code></pre></div><p>Эти каталоги содержат только кэшированную сетевую информацию — их удаление заставит выполнить новый bootstrap (первичную инициализацию), но не приведёт к потере критически важных данных.</p>
<p><strong>Стратегии предотвращения:</strong></p>
<ol>
<li><strong>Всегда корректное завершение работы:</strong> Используйте <code>i2prouter stop</code> или кнопку «Shutdown» в консоли router — никогда не завершайте процесс принудительно</li>
<li><strong>Автоматические резервные копии:</strong> Задача cron: еженедельная резервная копия ~/.i2p на отдельный диск</li>
<li><strong>Мониторинг состояния диска:</strong> Периодически проверяйте статус SMART — сбойные диски приводят к повреждению данных</li>
<li><strong>Достаточно свободного места на диске:</strong> Поддерживайте свободными 1+ ГБ — переполненные диски вызывают повреждение данных</li>
<li><strong>Рекомендуется ИБП:</strong> Отключения питания во время записи приводят к повреждению файлов</li>
<li><strong>Контроль версий критически важных конфигураций:</strong> Репозиторий Git для router.config, i2ptunnel.config позволяет откатывать изменения</li>
</ol>
<p><strong>Права доступа к файлам имеют значение:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Correct permissions (user install)</span>
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> ~/.i2p/router.keys
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> ~/.i2p/*.config  
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">700</span> ~/.i2p/keyData
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">755</span> ~/.i2p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Never run as root - creates permission problems</span>
</span></span></code></pre></div><h2 id="расшифровка-распространённых-сообщений-об-ошибках">Расшифровка распространённых сообщений об ошибках</h2>
<p>Журналирование в I2P предоставляет конкретные сообщения об ошибках, которые точно указывают на проблему. Понимание этих сообщений ускоряет устранение неполадок.</p>
<p><strong>&ldquo;No tunnels available&rdquo;</strong> появляется, когда router не построил достаточно tunnels для работы. Это <strong>нормально в течение первых 5–10 минут</strong> после запуска. Если сохраняется дольше 15 минут:</p>
<ol>
<li>Убедитесь, что число активных пиров &gt; 10 на http://127.0.0.1:7657</li>
<li>Проверьте, что выделенная пропускная способность достаточна (минимум 128+ КБ/с)</li>
<li>Проверьте процент успешных tunnel на http://127.0.0.1:7657/tunnels (должен быть &gt;40%)</li>
<li>Просмотрите журналы на предмет причин отказа в построении tunnel</li>
</ol>
<p><strong>&ldquo;Clock skew detected&rdquo;</strong> или <strong>&ldquo;NTCP2 disconnect code 7&rdquo;</strong> означает, что системное время отличается от консенсуса сети более чем на 90 секунд. I2P требует <strong>точности ±60 секунд</strong>. Соединения с routers с рассинхронизированным временем автоматически отклоняются.</p>
<p>Исправить немедленно:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Linux  </span>
</span></span><span style="display:flex;"><span>sudo timedatectl set-ntp true
</span></span><span style="display:flex;"><span>sudo systemctl restart systemd-timesyncd
</span></span><span style="display:flex;"><span>date  <span style="color:#75715e"># Verify correct time</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Windows</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Control Panel → Date and Time → Internet Time → Update now</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verify after sync</span>
</span></span><span style="display:flex;"><span>http://127.0.0.1:7657/logs  <span style="color:#75715e"># Should no longer show clock skew warnings</span>
</span></span></code></pre></div><p><strong>&ldquo;Build timeout&rdquo;</strong> или <strong>&ldquo;Tunnel build timeout exceeded&rdquo;</strong> означает, что построение tunnel через цепочку пиров не завершилось в отведённое окно тайм-аута (обычно 60 секунд). Причины:</p>
<ul>
<li><strong>Медленные узлы:</strong> Router выбрал неотзывчивых участников для tunnel</li>
<li><strong>Перегрузка сети:</strong> сеть I2P испытывает высокую нагрузку</li>
<li><strong>Недостаточная пропускная способность:</strong> ваши ограничения пропускной способности препятствуют своевременному построению tunnel</li>
<li><strong>Перегруженный router:</strong> слишком много участвующих tunnels потребляют ресурсы</li>
</ul>
<p>Решения: Увеличьте пропускную способность, уменьшите число участвующих tunnels (<code>router.maxParticipatingTunnels</code> на http://127.0.0.1:7657/configadvanced), включите проброс портов для улучшения выбора пиров.</p>
<p><strong>&ldquo;Router is shutting down&rdquo;</strong> или <strong>&ldquo;Graceful shutdown in progress&rdquo;</strong> появляются во время обычного завершения работы или восстановления после сбоя. Корректное завершение работы может занять <strong>до 10 минут</strong>, пока router закрывает tunnels, уведомляет пиры и сохраняет состояние.</p>
<p>Если застрял в состоянии завершения дольше 11 минут, выполните принудительное завершение:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Linux  </span>
</span></span><span style="display:flex;"><span>kill -9 <span style="color:#66d9ef">$(</span>pgrep -f i2p<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Windows</span>
</span></span><span style="display:flex;"><span>taskkill /F /IM javaw.exe
</span></span></code></pre></div><p><strong>&ldquo;java.lang.OutOfMemoryError: Java heap space&rdquo;</strong> сигнализирует об исчерпании кучи. Немедленные решения:</p>
<ol>
<li>Отредактируйте wrapper.config: <code>wrapper.java.maxmemory=512</code> (или выше)</li>
<li><strong>Требуется полное выключение</strong> - перезапуск не применит изменения</li>
<li>Подождите 11 минут для полного выключения</li>
<li>Запустите router заново</li>
<li>Проверьте выделение памяти на http://127.0.0.1:7657/graphs - должен быть виден запас</li>
</ol>
<p><strong>Связанные ошибки памяти:</strong></p>
<ul>
<li><strong>&ldquo;GC overhead limit exceeded&rdquo; (превышено ограничение по времени на сборку мусора):</strong> Слишком много времени тратится на сборку мусора - увеличьте размер кучи</li>
<li><strong>&ldquo;Metaspace&rdquo; (область метаданных классов Java):</strong> Пространство метаданных классов Java исчерпано - добавьте <code>wrapper.java.additional.X=-XX:MaxMetaspaceSize=256M</code></li>
</ul>
<p><strong>Только для Windows:</strong> Kaspersky Antivirus ограничивает кучу Java до 512 МБ независимо от настроек в wrapper.config - удалите Kaspersky Antivirus или добавьте I2P в исключения.</p>
<p><strong>&ldquo;Тайм-аут соединения&rdquo;</strong> или <strong>&ldquo;Ошибка I2CP - порт 7654&rdquo;</strong> когда приложения пытаются подключиться к router:</p>
<ol>
<li>Проверьте, что router запущен: http://127.0.0.1:7657 должен отвечать</li>
<li>Проверьте порт I2CP: <code>netstat -an | grep 7654</code> должно показать LISTENING</li>
<li>Убедитесь, что брандмауэр localhost разрешает: <code>sudo ufw allow from 127.0.0.1</code></li>
<li>Проверьте, что приложение использует правильный порт (I2CP=7654, SAM=7656)</li>
</ol>
<p><strong>&ldquo;Certificate validation failed&rdquo;</strong> или <strong>&ldquo;RouterInfo corrupt&rdquo;</strong> во время reseed (ресид):</p>
<p>Основные причины: смещение системных часов (сначала исправьте), повреждённый netDb, недействительные reseed certificates (сертификаты серверов ресида)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># After fixing clock:</span>
</span></span><span style="display:flex;"><span>i2prouter stop
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/netDb/*  <span style="color:#75715e"># Delete corrupted database</span>
</span></span><span style="display:flex;"><span>i2prouter start  <span style="color:#75715e"># Auto-reseeds with fresh data</span>
</span></span></code></pre></div><p><strong>&ldquo;Database corruption detected&rdquo;</strong> указывает на повреждение данных на уровне диска в netDb или peerProfiles (каталог профилей пиров):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Safe fix - all will rebuild</span>
</span></span><span style="display:flex;"><span>i2prouter stop  
</span></span><span style="display:flex;"><span>rm -rf ~/.i2p/netDb/* ~/.i2p/peerProfiles/*
</span></span><span style="display:flex;"><span>i2prouter start
</span></span></code></pre></div><p>Проверьте состояние диска с помощью утилит SMART — повторяющееся повреждение данных указывает на выход из строя накопителя.</p>
<h2 id="проблемы-специфичные-для-платформы">Проблемы, специфичные для платформы</h2>
<p>Различные операционные системы создают специфические сложности при развертывании I2P, связанные с правами доступа, политиками безопасности и интеграцией с системой.</p>
<h3 id="проблемы-с-правами-доступа-и-службами-в-linux">Проблемы с правами доступа и службами в Linux</h3>
<p>I2P, установленный из пакета, запускается от имени системного пользователя <strong>i2psvc</strong> (Debian/Ubuntu) или <strong>i2p</strong> (другие дистрибутивы), что требует определённых прав доступа:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Fix package install permissions  </span>
</span></span><span style="display:flex;"><span>sudo chown -R i2psvc:i2psvc /var/lib/i2p /var/log/i2p /run/i2p
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">750</span> /var/log/i2p /var/lib/i2p
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">644</span> /var/lib/i2p/*.config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># User install permissions (should be your user)</span>
</span></span><span style="display:flex;"><span>chown -R $USER:$USER ~/.i2p
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">700</span> ~/.i2p
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> ~/.i2p/router.keys ~/.i2p/*.config
</span></span></code></pre></div><p><strong>Ограничения на файловые дескрипторы</strong> влияют на возможности router по обслуживанию соединений. Значение по умолчанию (1024) недостаточно для router с высокой пропускной способностью:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Check current limits</span>
</span></span><span style="display:flex;"><span>ulimit -n
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Temporary increase  </span>
</span></span><span style="display:flex;"><span>ulimit -n <span style="color:#ae81ff">4096</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Permanent fix: Edit /etc/security/limits.conf</span>
</span></span><span style="display:flex;"><span>i2psvc soft nofile <span style="color:#ae81ff">4096</span>
</span></span><span style="display:flex;"><span>i2psvc hard nofile <span style="color:#ae81ff">8192</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Systemd override</span>
</span></span><span style="display:flex;"><span>sudo mkdir -p /etc/systemd/system/i2p.service.d/
</span></span><span style="display:flex;"><span>sudo nano /etc/systemd/system/i2p.service.d/override.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add:</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>LimitNOFILE<span style="color:#f92672">=</span><span style="color:#ae81ff">8192</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo systemctl daemon-reload
</span></span><span style="display:flex;"><span>sudo systemctl restart i2p
</span></span></code></pre></div><p><strong>Конфликты AppArmor</strong>, распространённые в Debian/Ubuntu, препятствуют запуску службы:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Error: &#34;Failed at step APPARMOR spawning /usr/sbin/wrapper&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Cause: AppArmor profile missing or misconfigured</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution 1: Disable AppArmor for I2P</span>
</span></span><span style="display:flex;"><span>sudo aa-complain /usr/sbin/wrapper
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution 2: Reconfigure package without AppArmor</span>
</span></span><span style="display:flex;"><span>sudo dpkg-reconfigure -plow i2p  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Select &#34;No&#34; when asked about AppArmor</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Solution 3: LXC/Proxmox containers - disable AppArmor in container config</span>
</span></span><span style="display:flex;"><span>lxc.apparmor.profile: unconfined
</span></span></code></pre></div><p><strong>Проблемы с SELinux</strong> на RHEL/CentOS/Fedora:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Temporary: Set permissive mode</span>
</span></span><span style="display:flex;"><span>sudo setenforce <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Permanent: Generate custom policy</span>
</span></span><span style="display:flex;"><span>sudo ausearch -c <span style="color:#e6db74">&#39;java&#39;</span> --raw | audit2allow -M i2p_policy
</span></span><span style="display:flex;"><span>sudo semodule -i i2p_policy.pp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Or disable SELinux for I2P process (less secure)</span>
</span></span><span style="display:flex;"><span>sudo semanage permissive -a i2p_t
</span></span></code></pre></div><p><strong>Устранение неполадок службы SystemD:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Detailed service status</span>
</span></span><span style="display:flex;"><span>sudo systemctl status i2p.service -l
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Full logs  </span>
</span></span><span style="display:flex;"><span>sudo journalctl -xe -u i2p.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Follow logs live</span>
</span></span><span style="display:flex;"><span>sudo journalctl -f -u i2p.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Restart with logging</span>
</span></span><span style="display:flex;"><span>sudo systemctl restart i2p.service <span style="color:#f92672">&amp;&amp;</span> sudo journalctl -f -u i2p.service
</span></span></code></pre></div><h3 id="вмешательство-брандмауэра-windows-и-антивируса">Вмешательство брандмауэра Windows и антивируса</h3>
<p>Windows Defender и сторонние антивирусы часто помечают I2P как угрозу из‑за характерных шаблонов сетевого поведения. Правильная настройка предотвращает ненужные блокировки при сохранении безопасности.</p>
<p><strong>Настройте брандмауэр Защитника Windows:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#75715e"># Run PowerShell as Administrator</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Find Java path (adjust for your Java installation)</span>
</span></span><span style="display:flex;"><span>$javaPath = <span style="color:#e6db74">&#34;C:\Program Files\Eclipse Adoptium\jdk-11.0.16.101-hotspot\bin\javaw.exe&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create inbound rules</span>
</span></span><span style="display:flex;"><span>New-NetFirewallRule -DisplayName <span style="color:#e6db74">&#34;I2P Java&#34;</span> -Direction Inbound -Program $javaPath -Action Allow
</span></span><span style="display:flex;"><span>New-NetFirewallRule -DisplayName <span style="color:#e6db74">&#34;I2P UDP&#34;</span> -Direction Inbound -Protocol UDP -LocalPort <span style="color:#ae81ff">22648</span> -Action Allow  
</span></span><span style="display:flex;"><span>New-NetFirewallRule -DisplayName <span style="color:#e6db74">&#34;I2P TCP&#34;</span> -Direction Inbound -Protocol TCP -LocalPort <span style="color:#ae81ff">22648</span> -Action Allow
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add exclusions to Windows Defender</span>
</span></span><span style="display:flex;"><span>Add-MpPreference -ExclusionPath <span style="color:#e6db74">&#34;C:\Program Files\i2p&#34;</span>
</span></span><span style="display:flex;"><span>Add-MpPreference -ExclusionPath <span style="color:#e6db74">&#34;</span>$env:APPDATA<span style="color:#e6db74">\I2P&#34;</span>
</span></span><span style="display:flex;"><span>Add-MpPreference -ExclusionPath <span style="color:#e6db74">&#34;</span>$env:LOCALAPPDATA<span style="color:#e6db74">\I2P&#34;</span>
</span></span><span style="display:flex;"><span>Add-MpPreference -ExclusionProcess <span style="color:#e6db74">&#34;javaw.exe&#34;</span>
</span></span></code></pre></div><p>Замените порт 22648 на ваш фактический порт I2P, указанный на http://127.0.0.1:7657/confignet.</p>
<p><strong>Специфическая проблема Kaspersky Antivirus:</strong> компонент Kaspersky &ldquo;Application Control&rdquo; ограничивает кучу Java до 512 МБ вне зависимости от настроек в wrapper.config. Это приводит к OutOfMemoryError на router с высокой пропускной способностью.</p>
<p>Решения: 1. Добавьте I2P в исключения Kaspersky: Настройки → Дополнительно → Угрозы и исключения → Управление исключениями 2. Или удалите Kaspersky (рекомендуется для корректной работы I2P)</p>
<p><strong>Общие рекомендации по сторонним антивирусам:</strong></p>
<ul>
<li>Добавьте каталог установки I2P в исключения</li>
<li>Добавьте %APPDATA%\I2P и %LOCALAPPDATA%\I2P в исключения</li>
<li>Исключите javaw.exe из поведенческого анализа</li>
<li>Отключите функции &ldquo;Network Attack Protection&rdquo;, которые могут мешать протоколам I2P</li>
</ul>
<h3 id="macos-gatekeeper-механизм-безопасности-macos-для-проверки-приложений-блокирует-установку">macOS Gatekeeper (механизм безопасности macOS для проверки приложений) блокирует установку</h3>
<p>Gatekeeper в macOS препятствует запуску неподписанных приложений. Установщики I2P не подписаны Apple Developer ID, что приводит к предупреждениям безопасности.</p>
<p><strong>Обход Gatekeeper для установщика I2P:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Method 1: Remove quarantine attribute</span>
</span></span><span style="display:flex;"><span>xattr -d com.apple.quarantine ~/Downloads/i2pinstall_*.jar
</span></span><span style="display:flex;"><span>java -jar ~/Downloads/i2pinstall_*.jar
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Method 2: Use System Settings (macOS 13+)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Try to open installer → macOS blocks it</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># System Settings → Privacy &amp; Security → scroll down</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Click &#34;Open Anyway&#34; next to I2P warning</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Confirm in dialog</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Method 3: Control-click installer</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Control-click (right-click) i2pinstall_*.jar</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Select &#34;Open&#34; from menu → &#34;Open&#34; again in dialog</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Bypasses Gatekeeper for this specific file</span>
</span></span></code></pre></div><p><strong>После установки запуск</strong> может по-прежнему вызывать предупреждения:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># If I2P won&#39;t start due to Gatekeeper:</span>
</span></span><span style="display:flex;"><span>xattr -dr com.apple.quarantine ~/i2p/
</span></span></code></pre></div><p><strong>Никогда не отключайте Gatekeeper (функция безопасности macOS) постоянно</strong> - это представляет угрозу безопасности для других приложений. Используйте только исключения для конкретных файлов.</p>
<p><strong>Настройка брандмауэра macOS:</strong></p>
<ol>
<li>Системные настройки → Защита и безопасность → Брандмауэр → Параметры брандмауэра</li>
<li>Нажмите &ldquo;+&rdquo;, чтобы добавить приложение</li>
<li>Перейдите к каталогу установки Java (например, <code>/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home/bin/java</code>)</li>
<li>Добавьте и установите значение &ldquo;Разрешить входящие соединения&rdquo;</li>
</ol>
<h3 id="проблемы-приложения-i2p-на-android">Проблемы приложения I2P на Android</h3>
<p>Ограничения версий Android и ограниченность ресурсов создают особые сложности.</p>
<p><strong>Минимальные требования:</strong> - Требуется Android 5.0+ (API level 21+) для текущих версий - минимум 512 МБ ОЗУ, рекомендуется 1 ГБ+   - 100 МБ места для приложения и данных router - Для I2P должны быть отключены ограничения фоновой работы приложения</p>
<p><strong>Приложение сразу вылетает:</strong></p>
<ol>
<li><strong>Проверьте версию Android:</strong> Настройки → О телефоне → Версия Android (должна быть 5.0+)</li>
<li><strong>Удалите все версии I2P:</strong> Установите только один вариант:
<ul>
<li>net.i2p.android (Google Play)</li>
<li>net.i2p.android.router (F-Droid)<br>
Одновременная установка нескольких вариантов вызывает конфликт</li>
</ul>
</li>
<li><strong>Очистьте данные приложения:</strong> Настройки → Приложения → I2P → Хранилище → Очистить данные</li>
<li><strong>Переустановите начисто</strong></li>
</ol>
<p><strong>Оптимизация батареи убивает router:</strong></p>
<p>Android агрессивно завершает фоновые приложения для экономии заряда аккумулятора. Для I2P нужно добавить исключение:</p>
<ol>
<li>Настройки → Батарея → Оптимизация батареи (или Использование батареи приложениями)</li>
<li>Найдите I2P → Не оптимизировать (или Разрешить фоновую активность)</li>
<li>Настройки → Приложения → I2P → Батарея → Разрешить фоновую активность + Снять ограничения</li>
</ol>
<p><strong>Проблемы с подключением на мобильных устройствах:</strong></p>
<ul>
<li><strong>Для начальной синхронизации (bootstrap) требуется Wi‑Fi:</strong> Начальная процедура reseed (получение стартовых узлов) загружает значительный объём данных — используйте Wi‑Fi, а не сотовую связь</li>
<li><strong>Изменения сети:</strong> I2P плохо обрабатывает переключение сетей — перезапустите приложение после перехода между Wi‑Fi и сотовой связью</li>
<li><strong>Пропускная способность для мобильной связи:</strong> Настройте консервативно на 64-128 КБ/с, чтобы избежать исчерпания сотового трафика</li>
</ul>
<p><strong>Оптимизация производительности для мобильных устройств:</strong></p>
<ol>
<li>Приложение I2P → Меню → Настройки → Пропускная способность</li>
<li>Установите подходящие ограничения: 64 KB/sec входящая, 32 KB/sec исходящая для сотовой связи</li>
<li>Сократите количество участвующих tunnels: Настройки → Дополнительно → Max participating tunnels: 100-200</li>
<li>Включите &ldquo;Останавливать I2P при выключенном экране&rdquo; для экономии заряда батареи</li>
</ol>
<p><strong>Торренты на Android:</strong></p>
<ul>
<li>Ограничьте количество одновременно активных торрентов до 2–3</li>
<li>Снизьте агрессивность DHT</li>
<li>Используйте WiFi только для торрентов</li>
<li>Примите более низкие скорости на мобильных устройствах</li>
</ul>
<h2 id="проблемы-с-reseed-получением-начальных-данных-netdb-и-bootstrap-начальной-инициализацией">Проблемы с Reseed (получением начальных данных netDb) и bootstrap (начальной инициализацией)</h2>
<p>Новые установки I2P требуют <strong>reseeding</strong> (первичное получение начальной информации о пирах) - загрузки этих данных с публичных HTTPS-серверов для присоединения к сети. Проблемы с reseed оставляют пользователей без пиров и без доступа к сети.</p>
<p><strong>&ldquo;No active peers&rdquo; после чистой установки</strong> обычно указывает на сбой reseed (получение начальных пиров). Симптомы:</p>
<ul>
<li>Известные пиры: 0 или их число держится ниже 5</li>
<li>&ldquo;Network: Testing&rdquo; сохраняется дольше 15 минут</li>
<li>В логах видно &ldquo;Reseed failed&rdquo; или ошибки подключения к серверам reseed (серверы первичной загрузки пиров)</li>
</ul>
<p><strong>Почему не удаётся reseed (начальная загрузка пиров):</strong></p>
<ol>
<li><strong>Блокировка HTTPS межсетевым экраном:</strong> Корпоративные/ISP межсетевые экраны блокируют подключения к reseed server (сервер начальной загрузки I2P) (порт 443)</li>
<li><strong>Ошибки SSL-сертификатов:</strong> В системе отсутствуют актуальные корневые сертификаты</li>
<li><strong>Требуется прокси:</strong> Сеть требует HTTP/SOCKS-прокси для внешних подключений</li>
<li><strong>Смещение системного времени:</strong> Проверка SSL-сертификатов завершается ошибкой, если системное время указано неверно</li>
<li><strong>Географическая цензура:</strong> Некоторые страны/провайдеры блокируют известные reseed servers</li>
</ol>
<p><strong>Принудительный ручной ресид:</strong></p>
<ol>
<li>Откройте http://127.0.0.1:7657/configreseed</li>
<li>Нажмите &ldquo;Save changes and reseed now&rdquo;</li>
<li>Следите за http://127.0.0.1:7657/logs на предмет &ldquo;Reseed got XX router infos&rdquo;</li>
<li>Дайте 5-10 минут на обработку</li>
<li>Проверьте http://127.0.0.1:7657 - показатель Known peers должен увеличиться до 50+</li>
</ol>
<p><strong>Настройте reseed proxy</strong> (прокси для начальной загрузки узлов сети) для сетей с ограничениями:</p>
<p>http://127.0.0.1:7657/configreseed → Настройка прокси:</p>
<ul>
<li>HTTP-прокси: [proxy-server]:[port]</li>
<li>Или SOCKS5: [socks-server]:[port]</li>
<li>Включить &ldquo;Use proxy for reseed only&rdquo; (reseed — начальная загрузка узлов)</li>
<li>Учетные данные, если требуется</li>
<li>Сохранить и принудительно выполнить reseed</li>
</ul>
<p><strong>Альтернатива: Tor-прокси для reseed (процедуры начальной загрузки пиров):</strong></p>
<p>Если запущены Tor Browser или демон Tor:</p>
<ul>
<li>Тип прокси: SOCKS5</li>
<li>Хост: 127.0.0.1</li>
<li>Порт: 9050 (порт SOCKS Tor по умолчанию)</li>
<li>Включить и выполнить reseed (процедура начальной загрузки узлов)</li>
</ul>
<p><strong>Ручной reseed (ресид) через файл su3</strong> (в крайнем случае):</p>
<p>Если все автоматические попытки reseed (повторное получение начальных данных о пирах) терпят неудачу, получите файл reseed по стороннему каналу:</p>
<ol>
<li>Скачайте i2pseeds.su3 из доверенного источника через неограниченное подключение (<a href="https://reseed.i2p.rocks/i2pseeds.su3">https://reseed.i2p.rocks/i2pseeds.su3</a>
, <a href="https://reseed-fr.i2pd.xyz/i2pseeds.su3">https://reseed-fr.i2pd.xyz/i2pseeds.su3</a>
)</li>
<li>Полностью остановите I2P</li>
<li>Скопируйте i2pseeds.su3 в каталог ~/.i2p/</li>
<li>Запустите I2P — он автоматически извлечёт и обработает файл</li>
<li>Удалите i2pseeds.su3 после обработки</li>
<li>Убедитесь, что число пиров увеличивается на http://127.0.0.1:7657</li>
</ol>
<p><strong>Ошибки SSL-сертификатов при reseed (получение начальных узлов сети):</strong></p>
<pre tabindex="0"><code>Error: &#34;Reseed: Certificate verification failed&#34;  
Cause: System root certificates outdated or missing
</code></pre><p>Решения:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Linux - update certificates</span>
</span></span><span style="display:flex;"><span>sudo apt install ca-certificates
</span></span><span style="display:flex;"><span>sudo update-ca-certificates
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Windows - install KB updates for root certificate trust</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Or install .NET Framework (includes certificate updates)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># macOS - update system</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Software Update includes certificate trust updates</span>
</span></span></code></pre></div><p><strong>Зависло на 0 известных пирах более 30 минут:</strong></p>
<p>Указывает на полный сбой reseed (получение начальных пиров). Порядок устранения неполадок:</p>
<ol>
<li><strong>Проверьте корректность системного времени</strong> (самая частая проблема — исправьте СНАЧАЛА)</li>
<li><strong>Проверьте подключение по HTTPS:</strong> Попробуйте открыть <a href="https://reseed.i2p.rocks">https://reseed.i2p.rocks</a>
 в браузере — если не открывается, проблема с сетью</li>
<li><strong>Проверьте журналы I2P</strong> на http://127.0.0.1:7657/logs на предмет конкретных ошибок reseed (получение начального списка узлов)</li>
<li><strong>Попробуйте другой reseed URL:</strong> http://127.0.0.1:7657/configreseed → добавьте пользовательский reseed URL: <a href="https://reseed-fr.i2pd.xyz/">https://reseed-fr.i2pd.xyz/</a>
</li>
<li><strong>Используйте ручной метод с файлом su3</strong>, если автоматические попытки исчерпаны</li>
</ol>
<p><strong>Reseed servers (серверы первичной загрузки) периодически недоступны:</strong> I2P включает несколько жёстко заданных reseed servers. Если один из них отказывает, router автоматически пробует другие. Полный отказ всех reseed servers крайне редок, но возможен.</p>
<p><strong>Текущие активные ресид-серверы</strong> (по состоянию на октябрь 2025 года):</p>
<ul>
<li><a href="https://reseed.i2p.rocks/">https://reseed.i2p.rocks/</a>
</li>
<li><a href="https://reseed-fr.i2pd.xyz/">https://reseed-fr.i2pd.xyz/</a>
</li>
<li><a href="https://i2p.novg.net/">https://i2p.novg.net/</a>
</li>
<li><a href="https://i2p-projekt.de/">https://i2p-projekt.de/</a>
</li>
</ul>
<p>Добавьте как пользовательские URL-адреса, если возникают проблемы с URL-адресами по умолчанию.</p>
<p><strong>Для пользователей в регионах с жёсткой цензурой:</strong></p>
<p>Рассмотрите возможность использования мостов Snowflake/Meek (подключаемых транспортов Tor для обхода блокировок) через Tor для первичного reseed (загрузки начальных данных о пирах), а затем переключитесь на прямое подключение к I2P, как только вы подключитесь к сети. Или получите i2pseeds.su3 с помощью стеганографии, по электронной почте или через USB-накопитель за пределами зоны цензуры.</p>
<h2 id="когда-обращаться-за-дополнительной-помощью">Когда обращаться за дополнительной помощью</h2>
<p>Это руководство охватывает подавляющее большинство проблем I2P, но некоторые из них требуют внимания разработчиков или экспертных знаний сообщества.</p>
<p><strong>Обращайтесь за помощью к сообществу I2P, когда:</strong></p>
<ul>
<li>Router стабильно падает после выполнения всех шагов по устранению неполадок</li>
<li>Утечки памяти, приводящие к устойчивому росту использования памяти сверх выделенной кучи</li>
<li>Уровень успешности Tunnel остается ниже 20% несмотря на корректную настройку</li>
<li>Новые ошибки в журналах, не охваченные данным руководством</li>
<li>Выявленные уязвимости безопасности</li>
<li>Запросы новых функций или предложения по улучшениям</li>
</ul>
<p><strong>Перед обращением за помощью соберите диагностическую информацию:</strong></p>
<ol>
<li>Версия I2P: http://127.0.0.1:7657 (например, &ldquo;2.10.0&rdquo;)</li>
<li>Версия Java: вывод <code>java -version</code></li>
<li>Операционная система и версия</li>
<li>Статус router: состояние сети, количество активных пиров, участвующие tunnels</li>
<li>Конфигурация пропускной способности: входящие/исходящие лимиты</li>
<li>Состояние переадресации портов: Firewalled или OK</li>
<li>Соответствующие выдержки из журналов: последние 50 строк с ошибками из http://127.0.0.1:7657/logs</li>
</ol>
<p><strong>Официальные каналы поддержки:</strong></p>
<ul>
<li><strong>Форум:</strong> <a href="https://i2pforum.net">https://i2pforum.net</a>
 (клирнет) или <a href="http://i2pforum.i">http://i2pforum.i</a>
2p (внутри I2P)</li>
<li><strong>IRC:</strong> #i2p на Irc2P (irc.postman.i2p через I2P) или irc.freenode.net (клирнет)</li>
<li><strong>Reddit:</strong> <a href="https://reddit.com/r/i2p">https://reddit.com/r/i2p</a>
 для обсуждений в сообществе</li>
<li><strong>Трекер ошибок:</strong> <a href="https://i2pgit.org/i2p-hackers/i2p.i2p/-/issues">https://i2pgit.org/i2p-hackers/i2p.i2p/-/issues</a>
 для подтверждённых ошибок</li>
<li><strong>Список рассылки:</strong> <a href="mailto:i2p-dev@lists.i2p-projekt.de">i2p-dev@lists.i2p-projekt.de</a>
 для вопросов по разработке</li>
</ul>
<p><strong>Реалистичные ожидания имеют значение.</strong> I2P медленнее, чем clearnet (обычный интернет), по самой своей архитектуре: многохоповая зашифрованная передача через tunnel создаёт неизбежные задержки. Рабочий I2P router с загрузкой страниц за 30 секунд и скоростью торрентов 50 KB/sec — <strong>функционирует корректно</strong>, а не сломан. Пользователи, ожидающие скоростей clearnet, будут разочарованы вне зависимости от оптимизации конфигурации.</p>
<h2 id="заключение">Заключение</h2>
<p>Большинство проблем в I2P сводятся к трём категориям: недостаточное терпение во время bootstrap (начальная инициализация сети; требуется 10–15 минут), недостаточное выделение ресурсов (минимум 512 МБ ОЗУ и 256 КБ/с пропускной способности) или некорректно настроенный проброс портов. Понимание распределённой архитектуры I2P и ориентированного на анонимность дизайна помогает пользователям отличать ожидаемое поведение от реальных проблем.</p>
<p>Статус router &ldquo;Firewalled&rdquo;, хотя и не оптимален, не мешает использованию I2P - он лишь ограничивает вклад в сеть и немного снижает производительность. Новым пользователям следует ставить в приоритет <strong>стабильность, а не оптимизацию</strong>: запустите router и держите его запущенным непрерывно в течение нескольких дней, прежде чем менять продвинутые настройки, поскольку интеграция с сетью естественным образом улучшается по мере увеличения времени работы.</p>
<p>При устранении неполадок всегда сначала проверяйте базовые вещи: корректное системное время, достаточную пропускную способность, непрерывную работу router (узел I2P) и наличие 10+ активных пиров. Большинство проблем решается, если сперва заняться этими основами, а не пытаться править неочевидные параметры конфигурации. I2P вознаграждает терпение и непрерывную работу улучшением производительности по мере того, как router наращивает репутацию и оптимизирует выбор пиров в течение дней и недель времени работы.</p>

                </article>

                
                <nav class="page-nav">
                    
                    
                        <a href="../../../ru/docs/writing-guidelines/" class="page-nav-link next">
                            <span class="nav-label">Next →</span>
                            <span class="nav-title">Рекомендации по написанию документации I2P</span>
                        </a>
                    
                </nav>

                
                <div class="docs-feedback">
                    <p>Was this page helpful?</p>
                    <div class="feedback-buttons" id="feedback-buttons">
                        <button class="feedback-btn" id="feedback-yes">👍 Yes</button>
                        <button class="feedback-btn" id="feedback-no">👎 No</button>
                    </div>

                    
                    <div class="feedback-form-container" id="feedback-form-container" style="display: none;">
                        <p class="feedback-form-title">We're sorry to hear that. How can we improve this page?</p>
                        <form id="feedback-form">
                            <div class="form-group">
                                <label for="feedback-email">Email (optional - if you'd like a response)</label>
                                <input type="email" id="feedback-email" name="email" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label for="feedback-message">Feedback *</label>
                                <textarea id="feedback-message" name="message" rows="4" required placeholder="Tell us what we can improve..."></textarea>
                            </div>
                            <button type="submit" class="btn-submit-feedback" id="feedback-submit-btn">
                                <span class="btn-text">Submit Feedback</span>
                                <span class="btn-loading" style="display: none;">Sending...</span>
                            </button>
                        </form>
                    </div>

                    
                    <div class="feedback-message" id="feedback-success" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2"/>
                        </svg>
                        <span id="feedback-success-text">Thanks for your feedback!</span>
                    </div>
                    <div class="feedback-message feedback-error" id="feedback-error" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <path d="M12 8v4M12 16h.01" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span id="feedback-error-text">Something went wrong. Please try again.</span>
                    </div>

                    <p class="feedback-note">
                        Found an issue? <a href="https://gitlab.com/stormycloud-group/i-2-p-www-v-2/-/blob/main/hugo-site/content/ru/docs/troubleshooting.md?ref_type=heads" target="_blank">Edit this page on GitLab</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.docs-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.article-header {
    margin-bottom: var(--spacing-2xl);
}

.article-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--color-text);
}

.article-description {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-md);
}

.article-meta {
    display: flex;
    gap: var(--spacing-lg);
    flex-wrap: wrap;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.meta-item svg {
    color: var(--color-primary);
}

 
.docs-layout {
    display: block;
}

.docs-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.docs-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.docs-main {
    min-width: 0;
    max-width: 900px;
}

 
.article-content {
    line-height: 1.8;
    color: var(--color-text);
}

.article-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.article-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.article-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.article-content p {
    margin-bottom: var(--spacing-md);
}

.article-content ul,
.article-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.article-content li {
    margin-bottom: var(--spacing-xs);
}

.article-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.article-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
}

.article-content pre code {
    background: none;
    padding: 0;
}

.article-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

.article-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.article-content a:hover {
    border-bottom-color: var(--color-primary);
}

 
.page-nav {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
}

.page-nav-link {
    display: flex;
    flex-direction: column;
    padding: var(--spacing-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
}

.page-nav-link.next {
    text-align: right;
}

.nav-label {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xs);
}

.nav-title {
    font-weight: 600;
    color: var(--color-text);
}

 
.docs-feedback {
    margin-top: var(--spacing-2xl);
    padding: var(--spacing-lg);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-md);
    text-align: center;
}

.feedback-buttons {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    margin: var(--spacing-md) 0;
}

.feedback-btn {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.feedback-btn:hover {
    border-color: var(--color-primary);
    background: var(--color-primary);
    color: white;
}

.feedback-note {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-top: var(--spacing-md);
}

.feedback-note a {
    color: var(--color-primary);
    text-decoration: none;
}

.feedback-note a:hover {
    text-decoration: underline;
}

 
.feedback-form-container {
    margin-top: var(--spacing-lg);
    padding: var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-align: left;
}

.feedback-form-title {
    font-weight: 600;
    margin-bottom: var(--spacing-md);
    color: var(--color-text);
}

.form-group {
    margin-bottom: var(--spacing-md);
}

.form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--color-text);
}

.form-group input[type="email"],
.form-group textarea {
    width: 100%;
    padding: var(--spacing-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg);
    color: var(--color-text);
    font-family: inherit;
    font-size: 0.9375rem;
    transition: border-color var(--transition-fast);
}

.form-group input[type="email"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color-primary);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

.btn-submit-feedback {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.btn-submit-feedback:hover:not(:disabled) {
    background: var(--color-primary-dark);
    transform: translateY(-1px);
}

.btn-submit-feedback:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

 
.feedback-message {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background: #d1fae5;
    color: #065f46;
    border-radius: var(--radius-md);
    margin-top: var(--spacing-md);
}

.feedback-message.feedback-error {
    background: #fee2e2;
    color: #991b1b;
}

.feedback-message svg {
    flex-shrink: 0;
}

 
@media (max-width: 1024px) {
    .docs-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .docs-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .article-title {
        font-size: 1.75rem;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



<script>
(function() {
    'use strict';
    
    
    let baseUrl = window.feedbackBaseUrl;
    if (!baseUrl) {
        const hostname = window.location.hostname;
        
        if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
            baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
        } else if (hostname.endsWith('.onion')) {
            baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
        } else {
            baseUrl = 'https://feedback.i2p.net';
        }
    }
    
    const script = document.createElement('script');
    script.src = baseUrl + '/widgets/docs-feedback.js';
    script.async = true;
    script.onerror = function() {
        console.error('[Docs Feedback] Failed to load docs-feedback.js from:', baseUrl);
    };
    document.body.appendChild(script);
})();
</script>


    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">Следите за новостями I2P:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="Введите ваш email" required>
                            <button type="submit">Подписаться</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>Быстрые ссылки</h3>
                <ul>
                    <li><a href="../../../ru/financial-support/">Пожертвовать</a></li>
                    <li><a href="../../../ru/docs/overview/intro/">Введение в I2P</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Сообщество</h3>
                <ul>
                    <li><a href="../../../ru/get-involved/">Присоединяйтесь</a></li>
                    <li><a href="../../../ru/blog/">Блог</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">Официальные форумы</a></li>
                    <li><a href="../../../ru/contact/">Контакты</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Ресурсы</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">I2P Метрики</a></li>
                    <li><a href="../../../ru/papers/">Исследование</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">StormyCloud</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 Проект Невидимый Интернет. Лицензировано под Creative Commons.</p>
            <div class="footer-links">
                <a href="../../../ru/privacy/">Конфиденциальность</a>
                <a href="../../../ru/terms/">Условия</a>
                <a href="../../../ru/about/media/">Пресса</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="Закрыть">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>Опрос сообщества</h2>
            <p class="modal-subtitle">Мы хотели бы услышать ваше мнение</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                Ваш голос помогает формировать будущее I2P.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>