<!DOCTYPE html>
<html lang="ko" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>I2P 네트워크 프로토콜 (I2NP) | I2P - 보이지 않는 인터넷 프로젝트</title>

    <meta name="description" content="I2P 내부의 router 간 메시지 형식, 우선순위 및 크기 제한">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="I2P 네트워크 프로토콜 (I2NP) | I2P - 보이지 않는 인터넷 프로젝트">
    <meta property="og:description" content="I2P 내부의 router 간 메시지 형식, 우선순위 및 크기 제한">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/ko/docs/specs/i2np/">

    
    <link rel="icon" type="image/svg+xml" href="../../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">I2P 베타 사이트 현재 운영 중 문의사항은 stormycloud@mail.i2p로 이메일 주세요</span>
            
        </div>
        
        <form method="GET" action="../../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="배너 닫기" title="배너 닫기">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../../ko/" class="logo-link">
                    <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../../ko/about/" class="">소개</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../ko/about/">개요</a></li>
                            <li><a href="../../../../ko/papers/">연구 논문</a></li>
                            <li><a href="../../../../ko/about/media/">보도자료</a></li>
                            <li><a href="../../../../ko/contact/">문의하기</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../../ko/docs/" class="active">문서</a></li>
                    <li><a href="../../../../ko/downloads/" class="">다운로드</a></li>
                    <li><a href="../../../../ko/blog/" class="">블로그</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../../ko/get-involved/" class="">참여하기</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../ko/get-involved/">개요</a></li>
                            <li><a href="../../../../ko/feedback/">기능 제안</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">ko</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../en/docs/specs/i2np/"
                                class="lang-option">영어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../es/docs/specs/i2np/"
                                class="lang-option">스페인어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ko/docs/specs/i2np/"
                                class="lang-option active">한국어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../zh/docs/specs/i2np/"
                                class="lang-option">중국어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ru/docs/specs/i2np/"
                                class="lang-option">러시아어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../cs/docs/specs/i2np/"
                                class="lang-option">체코어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../de/docs/specs/i2np/"
                                class="lang-option">독일어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../fr/docs/specs/i2np/"
                                class="lang-option">프랑스어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../tr/docs/specs/i2np/"
                                class="lang-option">터키어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../vi/docs/specs/i2np/"
                                class="lang-option">베트남어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../hi/docs/specs/i2np/"
                                class="lang-option">힌디어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ar/docs/specs/i2np/"
                                class="lang-option">아랍어</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../pt/docs/specs/i2np/"
                                class="lang-option">포르투갈어</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../../ko/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../../ko/downloads/" class="btn btn-primary">I2P 다운로드</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        




<div class="docs-page">
    <div class="container">
        
        <div class="docs-layout docs-layout--with-toc">
            
            
            <aside class="docs-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#개요">개요</a>
      <ul>
        <li><a href="#현재-전송-프로토콜">현재 전송 프로토콜</a></li>
      </ul>
    </li>
    <li><a href="#버전-번호-체계">버전 번호 체계</a>
      <ul>
        <li><a href="#릴리스-버전-사용자-대상">릴리스 버전 (사용자 대상)</a></li>
        <li><a href="#api-버전프로토콜-호환성">API 버전(프로토콜 호환성)</a></li>
        <li><a href="#버전-매핑-표">버전 매핑 표</a></li>
      </ul>
    </li>
    <li><a href="#프로토콜-버전">프로토콜 버전</a>
      <ul>
        <li><a href="#api-버전별-기능-요약">API 버전별 기능 요약</a></li>
      </ul>
    </li>
    <li><a href="#메시지-헤더">메시지 헤더</a>
      <ul>
        <li><a href="#헤더-형식-비교">헤더 형식 비교</a></li>
        <li><a href="#헤더-필드-세부-정보">헤더 필드 세부 정보</a></li>
      </ul>
    </li>
    <li><a href="#크기-제약-조건">크기 제약 조건</a>
      <ul>
        <li><a href="#역사적-맥락">역사적 맥락</a></li>
        <li><a href="#애플리케이션-데이터-고려-사항">애플리케이션 데이터 고려 사항</a></li>
        <li><a href="#단편화-기술적-세부사항">단편화 기술적 세부사항</a></li>
      </ul>
    </li>
    <li><a href="#일반적인-메시지-유형">일반적인 메시지 유형</a>
      <ul>
        <li><a href="#메시지-유형-참고-사항">메시지 유형 참고 사항</a></li>
      </ul>
    </li>
    <li><a href="#암호화-및-메시지-래핑">암호화 및 메시지 래핑</a>
      <ul>
        <li><a href="#암호화-알고리즘">암호화 알고리즘</a></li>
        <li><a href="#elgamal-router-사용-중단-예정">ElGamal Router 사용 중단 예정</a></li>
        <li><a href="#ecies-x25519-aead-ratchet-세부-사항">ECIES-X25519-AEAD-Ratchet 세부 사항</a></li>
      </ul>
    </li>
    <li><a href="#공통-구조">공통 구조</a>
      <ul>
        <li><a href="#buildrequestrecord-빌드-요청-레코드-elgamal">BuildRequestRecord (빌드 요청 레코드) (ElGamal)</a></li>
        <li><a href="#buildrequestrecord빌드-요청-레코드-ecies-x25519-long">BuildRequestRecord(빌드 요청 레코드) (ECIES-X25519 Long)</a></li>
        <li><a href="#buildrequestrecord-빌드-요청-레코드-ecies-x25519-단축형">BuildRequestRecord (빌드 요청 레코드) (ECIES-X25519 단축형)</a></li>
        <li><a href="#buildresponserecord-elgamal-공개키-암호">BuildResponseRecord (ElGamal 공개키 암호)</a></li>
        <li><a href="#buildresponserecord-빌드-응답-레코드-ecies-x25519">BuildResponseRecord (빌드 응답 레코드) (ECIES-X25519)</a></li>
        <li><a href="#garlicclovei2p-garlic-encryption의-하위-메시지-elgamalaes">GarlicClove(I2P garlic encryption의 하위 메시지) (ElGamal/AES)</a></li>
        <li><a href="#garlicclove-ecies-x25519-aead-ratchet">GarlicClove (ECIES-X25519-AEAD-Ratchet)</a></li>
        <li><a href="#garlic-clove개별-메시지-단위-전달-지침">Garlic Clove(개별 메시지 단위) 전달 지침</a></li>
      </ul>
    </li>
    <li><a href="#i2np-메시지">I2NP 메시지</a>
      <ul>
        <li><a href="#메시지-유형-요약">메시지 유형 요약</a></li>
        <li><a href="#databasestore-유형-1">DatabaseStore (유형 1)</a></li>
        <li><a href="#databaselookup데이터베이스-조회-유형-2">DatabaseLookup(데이터베이스 조회) (유형 2)</a></li>
        <li><a href="#databasesearchreply-데이터베이스-검색-응답-유형-3">DatabaseSearchReply (데이터베이스 검색 응답) (유형 3)</a></li>
        <li><a href="#deliverystatus전달-상태-유형-10">DeliveryStatus(전달 상태) (유형 10)</a></li>
        <li><a href="#garlicmessage갈릭-메시지-type-11">GarlicMessage(갈릭 메시지) (Type 11)</a></li>
        <li><a href="#tunneldata-유형-18">TunnelData (유형 18)</a></li>
        <li><a href="#tunnelgateway-유형-19">TunnelGateway (유형 19)</a></li>
        <li><a href="#datamessage데이터-메시지-유형-20">DataMessage(데이터 메시지) (유형 20)</a></li>
        <li><a href="#tunnelbuild-유형-21">TunnelBuild (유형 21)</a></li>
        <li><a href="#tunnelbuildreply-유형-22">TunnelBuildReply (유형 22)</a></li>
        <li><a href="#variabletunnelbuild-유형-23">VariableTunnelBuild (유형 23)</a></li>
        <li><a href="#variabletunnelbuildreply-유형-24">VariableTunnelBuildReply (유형 24)</a></li>
        <li><a href="#shorttunnelbuild-유형-25">ShortTunnelBuild (유형 25)</a></li>
        <li><a href="#outboundtunnelbuildreply-유형-26">OutboundTunnelBuildReply (유형 26)</a></li>
      </ul>
    </li>
    <li><a href="#참고-자료">참고 자료</a>
      <ul>
        <li><a href="#공식-명세">공식 명세</a></li>
        <li><a href="#제안서">제안서</a></li>
        <li><a href="#문서">문서</a></li>
        <li><a href="#소스-코드">소스 코드</a></li>
        <li><a href="#주요-소스-코드-위치">주요 소스 코드 위치</a></li>
      </ul>
    </li>
    <li><a href="#부록-a-네트워크-통계-및-현재-상태">부록 A: 네트워크 통계 및 현재 상태</a>
      <ul>
        <li><a href="#네트워크-구성-2025년-10월-기준">네트워크 구성 (2025년 10월 기준)</a></li>
        <li><a href="#최소-router-요구-사항">최소 Router 요구 사항</a></li>
        <li><a href="#대역폭-요구-사항">대역폭 요구 사항</a></li>
        <li><a href="#tunnel-통계">Tunnel 통계</a></li>
        <li><a href="#성능-지표">성능 지표</a></li>
      </ul>
    </li>
    <li><a href="#부록-b-사용-중단-및-제거된-기능">부록 B: 사용 중단 및 제거된 기능</a>
      <ul>
        <li><a href="#완전히-제거됨-더-이상-지원되지-않음">완전히 제거됨 (더 이상 지원되지 않음)</a></li>
        <li><a href="#사용-중단됨지원되지만-권장하지-않음">사용 중단됨(지원되지만 권장하지 않음)</a></li>
        <li><a href="#레거시-지원-일정">레거시 지원 일정</a></li>
      </ul>
    </li>
    <li><a href="#부록-c-향후-개발">부록 C: 향후 개발</a>
      <ul>
        <li><a href="#양자내성-암호">양자내성 암호</a></li>
        <li><a href="#계획된-기능">계획된 기능</a></li>
        <li><a href="#연구-분야">연구 분야</a></li>
      </ul>
    </li>
    <li><a href="#부록-d-구현-지침">부록 D: 구현 지침</a>
      <ul>
        <li><a href="#새로운-구현을-위한">새로운 구현을 위한</a></li>
        <li><a href="#테스트-및-검증">테스트 및 검증</a></li>
        <li><a href="#구현-시-흔한-함정">구현 시 흔한 함정</a></li>
      </ul>
    </li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="docs-main">
                
                <nav class="breadcrumbs">
                    <a href="../../../../ko/">Home</a>
                    <span class="separator">/</span>
                    <a href="../../../../ko/docs/">Docs</a>
                    
                        
                            <span class="separator">/</span>
                            <a href="../../../../ko/docs/specs/">Specifications</a>
                        
                    
                    <span class="separator">/</span>
                    <span class="current">I2P 네트워크 프로토콜 (I2NP)</span>
                </nav>

                
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">이 번역은 기계 학습을 사용하여 생성되었으며 100% 정확하지 않을 수 있습니다.</span>
    
    
    <a href="../../../../en/docs/specs/i2np/" class="disclaimer-link">영어 버전 보기</a>
    
</div>



                
                <header class="article-header">
                    <h1 class="article-title">I2P 네트워크 프로토콜 (I2NP)</h1>
                    
                        <p class="article-description">I2P 내부의 router 간 메시지 형식, 우선순위 및 크기 제한</p>
                    
                    <div class="article-meta">
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Updated: 2025-10
                            </span>
                        
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                Accurate for: 2.10.0
                            </span>
                        
                    </div>
                </header>

                
                <article class="article-content">
                    <h2 id="개요">개요</h2>
<p>I2P 네트워크 프로토콜(I2NP)은 routers가 메시지를 교환하고, 전송 프로토콜을 선택하며, 익명성을 보존하면서 트래픽을 혼합하는 방법을 정의합니다. 이는 <strong>I2CP</strong> (클라이언트 API)와 전송 프로토콜(<strong>NTCP2</strong> 및 <strong>SSU2</strong>) 사이에서 동작합니다.</p>
<p>I2NP는 I2P 전송 프로토콜 위에 있는 계층이다. 이는 다음을 위한 router 간 프로토콜이다: - 네트워크 데이터베이스 조회 및 응답 - tunnel 생성 - 암호화된 router 및 클라이언트 데이터 메시지</p>
<p>I2NP 메시지는 다른 router로 점대점으로 전송되거나, tunnel을 통해 해당 router로 익명으로 전송될 수 있다.</p>
<p>Routers는 로컬 우선순위를 사용하여 발신 작업을 대기열에 넣습니다. 우선순위 번호가 높을수록 먼저 처리됩니다. 표준 tunnel 데이터 우선순위(400)를 초과하는 것은 긴급으로 취급됩니다.</p>
<h3 id="현재-전송-프로토콜">현재 전송 프로토콜</h3>
<p>I2P는 이제 IPv4와 IPv6 모두에서 <strong>NTCP2</strong> (TCP)와 <strong>SSU2</strong> (UDP)를 사용합니다. 두 전송 프로토콜 모두 다음을 사용합니다: - <strong>X25519</strong> 키 교환 (Noise 프로토콜 프레임워크) - <strong>ChaCha20/Poly1305</strong> 인증된 암호화 (AEAD) - <strong>SHA-256</strong> 해싱</p>
<p><strong>레거시 전송 프로토콜(transport) 제거됨:</strong> - NTCP (원래의 TCP)는 Java router 0.9.50 릴리스(2021년 5월)에서 제거되었습니다 - SSU v1 (원래의 UDP)는 Java router 2.4.0 릴리스(2023년 12월)에서 제거되었습니다 - SSU v1은 i2pd 2.44.0 릴리스(2022년 11월)에서 제거되었습니다</p>
<p>2025년 기준, 네트워크는 레거시 전송을 전혀 지원하지 않고, 전부 Noise(프로토콜 프레임워크) 기반 전송으로 완전히 전환되었습니다.</p>
<hr>
<h2 id="버전-번호-체계">버전 번호 체계</h2>
<p><strong>중요:</strong> I2P는 이중 버전 관리 시스템을 사용하며, 이를 명확히 이해해야 합니다:</p>
<h3 id="릴리스-버전-사용자-대상">릴리스 버전 (사용자 대상)</h3>
<p>사용자가 보고 다운로드하는 버전은 다음과 같습니다: - 0.9.50 (2021년 5월) - 마지막 0.9.x 릴리스 - <strong>1.5.0</strong> (2021년 8월) - 첫 1.x 릴리스 - 1.6.0, 1.7.0, 1.8.0, 1.9.0 (2021-2022에 걸쳐) - <strong>2.0.0</strong> (2022년 11월) - 첫 2.x 릴리스 - 2.1.0부터 2.9.0까지 (2023-2025에 걸쳐) - <strong>2.10.0</strong> (2025년 9월 8일) - 현재 릴리스</p>
<h3 id="api-버전프로토콜-호환성">API 버전(프로토콜 호환성)</h3>
<p>다음은 RouterInfo 속성의 &ldquo;router.version&rdquo; 필드에 게시되는 내부 버전 번호입니다: - 0.9.50 (2021년 5월) - <strong>0.9.51</strong> (2021년 8월) - 릴리스 1.5.0용 API 버전 - 0.9.52부터 0.9.66까지 (2.x 릴리스를 통해 계속됨) - <strong>0.9.67</strong> (2025년 9월) - 릴리스 2.10.0용 API 버전</p>
<p><strong>핵심 사항:</strong> 0.9.51부터 0.9.67까지 번호가 매겨진 릴리스는 전혀 없었습니다. 이 번호들은 API 버전 식별자용으로만 존재합니다. I2P는 0.9.50 릴리스에서 곧바로 1.5.0으로 건너뛰었습니다.</p>
<h3 id="버전-매핑-표">버전 매핑 표</h3>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Release Version</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">API Version</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Date</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Key Features</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">0.9.50</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.50</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">May 2021</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Last 0.9.x release, removed NTCP1</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">1.5.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.51</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">August 2021</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Short tunnel build messages (218 bytes)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">1.6.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.52</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">November 2021</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Various improvements</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">1.7.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.53</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">January 2022</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Performance enhancements</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">1.8.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.54</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">May 2022</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">SSU2 introduced</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">1.9.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.55</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">August 2022</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">SSU2 improvements</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.0.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.56</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">November 2022</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">SSU2 enabled by default</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.1.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.57</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">January 2023</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Stability improvements</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.2.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.58</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">March 2023</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>ElGamal routers deprecated</strong></td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.3.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.59</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">May 2023</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Various improvements</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.4.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.61</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">December 2023</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Removed SSU1 support</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.5.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.62</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">February 2024</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Performance improvements</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.6.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.63</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">May 2024</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Network optimizations</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.7.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.64</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">October 2024</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Post-quantum preparation work</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.8.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.65</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">February 2025</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Tunnel bandwidth parameters</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.9.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.66</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">June 2025</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">LeaseSet service records</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">2.10.0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.67</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">September 2025</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Post-quantum hybrid cryptography (beta)</td>
    </tr>
  </tbody>
</table>
**예정:** 릴리스 2.11.0 (2025년 12월 예정)은 Java 17+를 요구하며 기본적으로 양자내성 암호를 활성화합니다.
<hr>
<h2 id="프로토콜-버전">프로토콜 버전</h2>
<p>모든 router는 RouterInfo 속성의 &ldquo;router.version&rdquo; 필드에 자신들의 I2NP 프로토콜 버전을 게시해야 합니다. 이 버전 필드는 API 버전으로, 다양한 I2NP 프로토콜 기능에 대한 지원 수준을 나타내며, 반드시 실제 router 버전을 의미하는 것은 아닙니다.</p>
<p>대체(비-Java) router가 실제 router 구현에 대한 버전 정보를 공개하고자 하는 경우, 해당 정보는 다른 속성에 기재해야 한다. 아래에 나열된 것 외의 버전도 허용된다. 지원 여부는 숫자 비교를 통해 결정되며, 예를 들어 0.9.13은 0.9.12 기능 지원을 의미한다.</p>
<p><strong>참고:</strong> &ldquo;coreVersion&rdquo; 속성은 더 이상 router 정보에 포함되지 않으며, I2NP 프로토콜 버전을 결정하는 데 사용된 적이 없습니다.</p>
<h3 id="api-버전별-기능-요약">API 버전별 기능 요약</h3>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">API Version</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Required I2NP Features</th>
    </tr>
  </thead>
  <tbody>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.67</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Post-quantum hybrid cryptography (MLKEM ratchet) support (beta), UDP tracker support</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.66</td><td style="border:1px solid var(--color-border); padding:0.5rem;">LeaseSet2 service record options (see proposal 167)</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.65</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Tunnel build bandwidth parameters (see proposal 168)</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.59</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Minimum peers will build tunnels through (as of 0.9.63), minimum floodfill peers will send DSM to (as of 0.9.63)</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.58</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Minimum peers will build tunnels through (as of 0.9.62), <strong>ElGamal routers deprecated</strong></td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.55</td><td style="border:1px solid var(--color-border); padding:0.5rem;">SSU2 transport support (if published in router info)</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.51</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Short tunnel build messages for ECIES-X25519 routers, minimum peers will build tunnels through (as of 0.9.58), minimum floodfill peers will send DSM to (as of 0.9.58)</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.49</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Garlic messages to ECIES-X25519 routers</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.48</td><td style="border:1px solid var(--color-border); padding:0.5rem;">ECIES-X25519 routers, ECIES-X25519 build request/response records</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.46</td><td style="border:1px solid var(--color-border); padding:0.5rem;">DatabaseLookup flag bit 4 for AEAD reply</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.44</td><td style="border:1px solid var(--color-border); padding:0.5rem;">ECIES-X25519 keys in LeaseSet2</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.40</td><td style="border:1px solid var(--color-border); padding:0.5rem;">MetaLeaseSet may be sent in a DSM</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.39</td><td style="border:1px solid var(--color-border); padding:0.5rem;">EncryptedLeaseSet may be sent in a DSM, RedDSA_SHA512_Ed25519 signature type supported</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.38</td><td style="border:1px solid var(--color-border); padding:0.5rem;">DSM type bits 3-0 now contain the type; LeaseSet2 may be sent in a DSM</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.36</td><td style="border:1px solid var(--color-border); padding:0.5rem;">NTCP2 transport support (if published in router info), minimum peers will build tunnels through (as of 0.9.46)</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.28</td><td style="border:1px solid var(--color-border); padding:0.5rem;">RSA signature types disallowed, minimum floodfill peers will send DSM to (as of 0.9.34)</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.18</td><td style="border:1px solid var(--color-border); padding:0.5rem;">DSM type bits 7-1 ignored</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.16</td><td style="border:1px solid var(--color-border); padding:0.5rem;">RI key certs / ECDSA and EdDSA signature types, DLM lookup types (flag bits 3-2), minimum version compatible with the current network</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.15</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Destination/LeaseSet key certificates with EdDSA Ed25519 signature type (if floodfill)</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.12</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Destination/LeaseSet key certificates with ECDSA P-256, P-384, and P-521 signature types (if floodfill); non-zero expiration allowed in RouterAddress</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.7</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Encrypted DSM/DSRM replies supported (DLM flag bit 1) for floodfill routers</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.6</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Non-zero DLM flag bits 7-1 allowed</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.3</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Requires zero expiration in RouterAddress</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Supports up to 16 leases in a DSM LeaseSet store (previously 6)</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.7.12</td><td style="border:1px solid var(--color-border); padding:0.5rem;">VTBM and VTBRM message support</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.7.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Floodfill supports encrypted DSM stores</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">TBM and TBRM messages introduced; minimum version compatible with the current network</td></tr>
  </tbody>
</table>
**참고:** 전송과 관련된 기능 및 호환성 문제도 있습니다. 자세한 내용은 NTCP2 및 SSU2 전송 문서를 참조하십시오.
<hr>
<h2 id="메시지-헤더">메시지 헤더</h2>
<p>I2NP는 논리적인 16바이트 헤더 구조를 사용하고, 현대식 전송 프로토콜(NTCP2 및 SSU2)은 중복되는 크기와 체크섬 필드를 생략한 축약된 9바이트 헤더를 사용합니다. 필드는 개념적으로 동일하게 유지됩니다.</p>
<h3 id="헤더-형식-비교">헤더 형식 비교</h3>
<p><strong>표준 형식 (16바이트):</strong></p>
<p>레거시 NTCP 전송과 I2NP 메시지가 다른 메시지(TunnelData, TunnelGateway, GarlicClove) 내에 포함될 때 사용됩니다.</p>
<pre tabindex="0"><code>Bytes 0-15:
+----+----+----+----+----+----+----+----+
|type|      msg_id       |  expiration
+----+----+----+----+----+----+----+----+
                         |  size   |chks|
+----+----+----+----+----+----+----+----+

type :: Integer (1 byte)
        Identifies the message type (see message type table)

msg_id :: Integer (4 bytes)
          Uniquely identifies this message (for some time at least)
          Usually a locally-generated random number, but for outgoing
          tunnel build messages may be derived from the incoming message

expiration :: Date (8 bytes)
              Unix timestamp in milliseconds when this message expires

size :: Integer (2 bytes)
        Length of the payload (0 to ~61.2 KB for tunnel messages)

chks :: Integer (1 byte)
        SHA256 hash of payload truncated to first byte
        Deprecated - NTCP2/SSU2 use ChaCha20/Poly1305 AEAD for integrity
</code></pre><p><strong>SSU용 단축 형식(사용 중단됨, 5바이트):</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+
|type| short_expiration  |
+----+----+----+----+----+

type :: Integer (1 byte)
short_expiration :: Integer (4 bytes, seconds since epoch)
</code></pre><p><strong>NTCP2, SSU2, 및 ECIES-Ratchet(키 래칫 메커니즘) garlic 클로브의 단축 형식 (9바이트):</strong></p>
<p>최신 트랜스포트와 ECIES로 암호화된 garlic 메시지(여러 메시지를 한 덩어리로 묶는 I2P 메시지)에 사용됩니다.</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
|type|      msg_id       | short_expira-
+----+----+----+----+----+----+----+----+
 tion|
+----+

type :: Integer (1 byte)
msg_id :: Integer (4 bytes)
short_expiration :: Integer (4 bytes, seconds since epoch, unsigned)
</code></pre><h3 id="헤더-필드-세부-정보">헤더 필드 세부 정보</h3>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Field</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Bytes</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>Type</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">1</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Identifies the message class (0&ndash;255, see message types below)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>Unique ID</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">4</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Locally unique identifier for matching replies</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>Expiration</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">8 (standard) / 4 (short)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Timestamp when the message expires. Routers discard expired messages. Short format uses seconds since epoch (unsigned, wraps February 7, 2106)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>Payload Length</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Size in bytes (0 to ~61.2 KB for tunnel messages). NTCP2 and SSU2 encode this in their frame headers</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>Checksum</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">1</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Deprecated. First byte of SHA-256 hash of the payload. NTCP2/SSU2 use ChaCha20/Poly1305 AEAD for integrity</td>
    </tr>
  </tbody>
</table>
### 구현 참고 사항
<ul>
<li>SSU(사용 중단됨)로 전송될 때는 유형과 4바이트 만료 시간만 포함되었습니다</li>
<li>NTCP2 또는 SSU2로 전송될 때는 9바이트 짧은 형식이 사용됩니다</li>
<li>다른 메시지(Data, TunnelData, TunnelGateway, GarlicClove)에 포함된 I2NP 메시지에는 표준 16바이트 헤더가 필요합니다</li>
<li>릴리스 0.8.12부터 효율성을 위해 프로토콜 스택의 일부 지점에서 체크섬 검증이 비활성화되었지만, 호환성을 위해 체크섬 생성은 여전히 필요합니다</li>
<li>짧은 만료 값은 부호 없는 값이며 2106년 2월 7일에 순환됩니다. 그 이후에는 올바른 시간을 얻기 위해 오프셋을 추가해야 합니다</li>
<li>이전 버전과의 호환성을 위해 검증되지 않을 수 있더라도 항상 체크섬을 생성해야 합니다</li>
</ul>
<hr>
<h2 id="크기-제약-조건">크기 제약 조건</h2>
<p>Tunnel 메시지는 I2NP 페이로드를 고정 크기의 조각으로 분할합니다: - <strong>첫 번째 조각:</strong> 약 956바이트 - <strong>이후 조각들:</strong> 각 약 996바이트 - <strong>최대 조각 수:</strong> 64개 (번호 0-63) - <strong>최대 페이로드:</strong> 약 61,200바이트 (61.2 KB)</p>
<p><strong>계산:</strong> 956 + (63 × 996) = 63,704 바이트의 이론적 최대치이며, 오버헤드로 인해 실제 한계는 약 61,200 바이트입니다.</p>
<h3 id="역사적-맥락">역사적 맥락</h3>
<p>이전 전송 방식들은 프레임 크기 제한이 더 엄격했습니다: - NTCP: 16 KB 프레임 - SSU: 약 32 KB 프레임</p>
<p>NTCP2는 약 65 KB 크기의 프레임을 지원하지만, tunnel 단편화 제한은 여전히 적용됩니다.</p>
<h3 id="애플리케이션-데이터-고려-사항">애플리케이션 데이터 고려 사항</h3>
<p>Garlic 메시지는 LeaseSets, Session Tags(세션 태그), 또는 암호화된 LeaseSet2 변형을 함께 묶어 포함할 수 있어 페이로드 데이터에 사용할 수 있는 공간이 줄어듭니다.</p>
<p><strong>권장 사항:</strong> 데이터그램은 신뢰할 수 있는 전달을 보장하기 위해 ≤ 10 KB로 유지하는 것이 좋습니다. 61 KB 제한에 가까운 메시지는 다음과 같은 현상이 발생할 수 있습니다: - 조각화 재조립으로 인한 지연 증가 - 전달 실패 가능성 증가 - 트래픽 분석에 대한 노출 증가</p>
<h3 id="단편화-기술적-세부사항">단편화 기술적 세부사항</h3>
<p>각 tunnel 메시지는 정확히 1,024바이트 (1 KB)이며 다음을 포함합니다: - 4바이트 tunnel ID - 16바이트 초기화 벡터 (IV) - 1,004바이트의 암호화된 데이터</p>
<p>암호화된 데이터 내부에서, tunnel 메시지는 조각 헤더를 통해 다음 정보를 나타내는 단편화된 I2NP 메시지를 포함한다: - 조각 번호 (0-63) - 이것이 첫 번째 조각인지 후속 조각인지 - 재조립을 위한 전체 메시지 ID</p>
<p>첫 번째 프래그먼트에는 전체 I2NP 메시지 헤더(16바이트)가 포함되어 페이로드에 대략 956바이트가 남습니다. 후속 프래그먼트에는 메시지 헤더가 포함되지 않으므로 프래그먼트당 페이로드는 대략 996바이트입니다.</p>
<hr>
<h2 id="일반적인-메시지-유형">일반적인 메시지 유형</h2>
<p>router는 메시지 유형과 우선순위를 사용해 발신 작업을 스케줄링합니다. 우선순위 값이 높을수록 먼저 처리됩니다. 아래 값은 현재 Java I2P 기본값과 일치합니다(API 버전 0.9.67 기준).</p>
<p><strong>참고:</strong> 우선순위는 구현에 따라 달라집니다. 공식 우선순위 값은 Java I2P 소스 코드의 <code>OutNetMessage</code> 클래스 문서를 참조하십시오.</p>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Message</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Type</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Priority</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Typical Size</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>DatabaseStore</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">1</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">460</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Varies (LeaseSet ≈ 898&nbsp;B, RouterInfo ≈ 2&ndash;4&nbsp;KB compressed)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Publishes RouterInfo or LeaseSet objects. Supports LeaseSet2, EncryptedLeaseSet, and MetaLeaseSet</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>DatabaseLookup</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">500</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Varies</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Queries the network database for RouterInfo or LeaseSet entries</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>DatabaseSearchReply</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">3</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">300</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">≈161&nbsp;B (5 hashes)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Returns candidate floodfill router hashes (typically 3&ndash;16 hashes, recommended maximum 16)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>DeliveryStatus</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">10</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">Varies</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">12&nbsp;B</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Receipts for tunnel tests or acknowledgements inside GarlicMessages</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>GarlicMessage</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">11</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">100 (local)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Varies</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Bundles multiple message cloves (e.g., DataMessage, LeaseSets). Supports ElGamal/AES (deprecated) and ECIES-X25519-AEAD-Ratchet encryption</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>TunnelData</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">18</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">400</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">1,028&nbsp;B (fixed)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Encrypted tunnel message exchanged between hops. Contains a 4-byte tunnel ID, 16-byte IV, and 1,004 bytes of encrypted data</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>TunnelGateway</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">19</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">300&ndash;400</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Varies</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Encapsulates messages at the tunnel gateway before fragmentation</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>DataMessage</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">20</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">425</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">4&ndash;62&nbsp;KB</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Carries end-to-end garlic payloads (application traffic)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>TunnelBuild</strong> <em>(deprecated)</em></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">21</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">500</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">4,224&nbsp;B</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Requests tunnel participation from routers (8 × 528-byte records). Replaced by VariableTunnelBuild for ECIES</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>TunnelBuildReply</strong> <em>(deprecated)</em></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">22</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">300</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">4,224&nbsp;B</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Replies to TunnelBuild with accept/reject status per hop</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>VariableTunnelBuild</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">23</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">500</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">1,057&ndash;4,225&nbsp;B</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Variable-length tunnel build for ElGamal or ECIES-X25519 routers (1&ndash;8 records, API 0.9.12+)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>VariableTunnelBuildReply</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">24</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">300</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">1,057&ndash;4,225&nbsp;B</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Replies to VariableTunnelBuild</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>ShortTunnelBuild</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">25</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">500</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">873&ndash;1,745&nbsp;B</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Short tunnel build messages for ECIES-X25519 routers only (1&ndash;8 × 218-byte records, API 0.9.51+)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;"><strong>OutboundTunnelBuildReply</strong></td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">26</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">300</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">873&ndash;1,745&nbsp;B</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Sent from outbound endpoint to originator for ECIES-X25519 routers (API 0.9.51+)</td>
    </tr>
  </tbody>
</table>
**예약된 메시지 유형:** - 유형 0: 예약됨 - 유형 4-9: 향후 사용을 위해 예약됨 - 유형 12-17: 향후 사용을 위해 예약됨 - 유형 224-254: 실험적 메시지용으로 예약됨 - 유형 255: 향후 확장을 위해 예약됨
<h3 id="메시지-유형-참고-사항">메시지 유형 참고 사항</h3>
<ul>
<li>제어 평면 메시지(DatabaseLookup, TunnelBuild 등)는 보통 클라이언트 tunnels가 아닌 <strong>탐색용 tunnels</strong>을 통해 전달되어, 우선순위를 독립적으로 지정할 수 있다</li>
<li>우선순위 값은 대략적이며 구현에 따라 달라질 수 있다</li>
<li>TunnelBuild (21)와 TunnelBuildReply (22)는 더 이상 권장되지 않지만, 8 hops를 초과하는 매우 긴 tunnels와의 호환성을 위해 여전히 구현되어 있다</li>
<li>표준 tunnel 데이터 우선순위는 400이며, 이보다 높은 값은 긴급으로 취급된다</li>
<li>현재 네트워크에서 일반적인 tunnel 길이는 3-4 hops이므로, 대부분의 tunnel 빌드는 ShortTunnelBuild (218-byte records) 또는 VariableTunnelBuild (528-byte records)를 사용한다</li>
</ul>
<hr>
<h2 id="암호화-및-메시지-래핑">암호화 및 메시지 래핑</h2>
<p>Routers는 전송 전에 I2NP 메시지를 자주 캡슐화하여 여러 겹의 암호화 계층을 만듭니다. DeliveryStatus 메시지(전달 상태 확인 메시지)는 다음과 같을 수 있습니다: 1. GarlicMessage로 캡슐화됨(암호화됨) 2. DataMessage 내부 3. TunnelData 메시지 내부(다시 암호화됨)</p>
<p>각 hop(네트워크 경유 단계)은 자신의 계층만 복호화한다; 최종 목적지는 가장 내부의 페이로드를 드러낸다.</p>
<h3 id="암호화-알고리즘">암호화 알고리즘</h3>
<p><strong>레거시(단계적으로 폐지 중):</strong> - ElGamal/AES + 세션 태그 - 비대칭 암호화를 위한 ElGamal-2048 - 대칭 암호화를 위한 AES-256 - 32바이트 세션 태그</p>
<p><strong>현재(API 0.9.48 기준 표준):</strong> - ECIES-X25519 + ChaCha20/Poly1305 AEAD, 래칫 기반 전방 기밀성 지원 - Noise 프로토콜 프레임워크 (Noise_IK_25519_ChaChaPoly_SHA256 목적지용) - 8바이트 세션 태그 (32바이트에서 축소) - 전방 기밀성을 위한 Signal Double Ratchet algorithm(시그널 더블 래칫 알고리즘) - API 버전 0.9.46 (2020)에 도입 - API 버전 0.9.58 (2023)부터 모든 routers에 의무화</p>
<p><strong>향후(2.10.0 기준 베타):</strong> - MLKEM (ML-KEM-768)과 X25519를 결합한 양자 내성 하이브리드 암호화 - 고전(클래식) 및 양자 내성 키 합의를 결합한 하이브리드 ratchet(세션 키를 단계적으로 갱신하는 메커니즘) - ECIES-X25519와 하위 호환 - 2.11.0 릴리스(2025년 12월)에서 기본값이 됨</p>
<h3 id="elgamal-router-사용-중단-예정">ElGamal Router 사용 중단 예정</h3>
<p><strong>CRITICAL:</strong> ElGamal routers는 API 버전 0.9.58(릴리스 2.2.0, 2023년 3월)부터 사용 중단되었습니다. 이제 조회할 권장 최소 floodfill 버전이 0.9.58이므로, 구현체는 ElGamal floodfill routers에 대한 암호화를 구현할 필요가 없습니다.</p>
<p><strong>그러나:</strong> 하위 호환성을 위해 ElGamal 목적지는 여전히 지원됩니다. ElGamal 암호화를 사용하는 클라이언트는 ECIES(타원곡선 통합 암호체계) router를 통해서도 여전히 통신할 수 있습니다.</p>
<h3 id="ecies-x25519-aead-ratchet-세부-사항">ECIES-X25519-AEAD-Ratchet 세부 사항</h3>
<p>이는 I2P의 암호화 명세에서의 암호 유형 4입니다. 다음을 제공합니다:</p>
<p><strong>핵심 기능:</strong> - ratcheting(연쇄적 키 갱신 기법)을 통한 순방향 비밀성(각 메시지마다 새 키) - 세션 태그 저장 공간 축소(8바이트 대 32바이트) - 여러 세션 유형(New Session, Existing Session, One-Time) - Noise protocol(경량 암호 핸드셰이크 프레임워크) Noise_IK_25519_ChaChaPoly_SHA256 기반 - Signal의 Double Ratchet 알고리즘(메시지별 키 갱신 알고리즘)과 통합</p>
<p><strong>암호학 기본 구성 요소:</strong> - 디피-헬먼 키 합의를 위한 X25519 - 스트림 암호화를 위한 ChaCha20 - 메시지 인증 (AEAD, 연관 데이터가 포함된 인증된 암호화)을 위한 Poly1305 - 해시를 위한 SHA-256 - 키 파생을 위한 HKDF</p>
<p><strong>세션 관리:</strong> - 신규 세션: 정적 destination key(목적지 키)를 사용하는 초기 연결 - 기존 세션: session tags(세션 태그)를 사용하는 후속 메시지 - 일회성 세션: 오버헤드를 줄이기 위한 단일 메시지 세션</p>
<p>자세한 기술 세부사항은 <a href="../../../../ko/docs/specs/ecies/">ECIES 사양</a>
 및 <a href="../../../../ko/proposals/144-ecies-x25519-aead-ratchet/">제안 144</a>
를 참고하세요.</p>
<hr>
<h2 id="공통-구조">공통 구조</h2>
<p>다음 구조체들은 여러 I2NP 메시지의 구성 요소입니다. 완전한 메시지는 아닙니다.</p>
<h3 id="buildrequestrecord-빌드-요청-레코드-elgamal">BuildRequestRecord (빌드 요청 레코드) (ElGamal)</h3>
<p><strong>사용 중단됨.</strong> 현재 네트워크에서는 tunnel에 ElGamal router가 포함된 경우에만 사용됩니다. 최신 형식은 <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel 생성</a>
을 참조하세요.</p>
<p><strong>목적:</strong> tunnel에서 하나의 홉 생성을 요청하기 위해 사용되는, 여러 개의 레코드로 이루어진 집합 중 하나의 레코드.</p>
<p><strong>형식:</strong></p>
<p>ElGamal과 AES로 암호화됨 (총 528바이트):</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| encrypted data (528 bytes)            |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
</code></pre><p>ElGamal(엘가말)로 암호화된 구조 (528바이트):</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| toPeer (16 bytes)                     |
+----+----+----+----+----+----+----+----+
| ElGamal encrypted data (512 bytes)    |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+

toPeer :: First 16 bytes of SHA-256 hash of peer&#39;s RouterIdentity

encrypted_data :: ElGamal-2048 encrypted (bytes 1-256 and 258-513
                  of the 514-byte ElGamal block, with padding bytes
                  at positions 0 and 257 removed)
</code></pre><p>평문 구조 (암호화 전에 222바이트):</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| receive_tunnel (4) | our_ident (32)   |
+----+----+----+----+                   +
|                                       |
+                   +----+----+----+----+
|                   | next_tunnel (4)   |
+----+----+----+----+----+----+----+----+
| next_ident (32 bytes)                 |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
| layer_key (32 bytes)                  |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
| iv_key (32 bytes)                     |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
| reply_key (32 bytes)                  |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
| reply_iv (16 bytes)                   |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
|flag| request_time (4) | send_msg_id  |
+----+----+----+----+----+----+----+----+
     (4)                | padding (29)  |
+----+----+----+----+----+              +
|                                       |
+                             +----+----+
|                             |
+----+----+----+----+----+----+

receive_tunnel :: TunnelId (4 bytes, nonzero)
our_ident :: Hash (32 bytes)
next_tunnel :: TunnelId (4 bytes, nonzero)
next_ident :: Hash (32 bytes)
layer_key :: SessionKey (32 bytes)
iv_key :: SessionKey (32 bytes)
reply_key :: SessionKey (32 bytes)
reply_iv :: 16 bytes
flag :: Integer (1 byte)
request_time :: Integer (4 bytes, hours since epoch = time / 3600)
send_message_id :: Integer (4 bytes)
padding :: 29 bytes random data
</code></pre><p><strong>참고:</strong> - ElGamal-2048 암호화는 514바이트 블록을 생성하지만, 패딩 바이트 두 개(위치 0과 257)는 제거되어 최종 크기는 512바이트가 됩니다 - 필드 상세 내용은 <a href="../../../../ko/docs/specs/implementation/">Tunnel 생성 사양</a>
을 참조하세요 - 소스 코드: <code>net.i2p.data.i2np.BuildRequestRecord</code> - 상수: <code>EncryptedBuildRecord.RECORD_SIZE = 528</code></p>
<h3 id="buildrequestrecord빌드-요청-레코드-ecies-x25519-long">BuildRequestRecord(빌드 요청 레코드) (ECIES-X25519 Long)</h3>
<p>ECIES-X25519(타원곡선 통합 암호 방식) routers용이며, API 버전 0.9.48에서 도입되었습니다. 혼합 tunnels과의 하위 호환성을 위해 528바이트를 사용합니다.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| toPeer (16 bytes)                     |
+----+----+----+----+----+----+----+----+
| ephemeral_key (32 bytes)              |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
| ChaCha20 encrypted data (464 bytes)   |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
| Poly1305 MAC (16 bytes)               |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+

toPeer :: First 16 bytes of SHA-256 hash of peer&#39;s RouterIdentity
ephemeral_key :: X25519 ephemeral public key (32 bytes)
encrypted_data :: ChaCha20 encrypted (464 bytes)
mac :: Poly1305 message authentication code (16 bytes)
</code></pre><p><strong>총 크기:</strong> 528바이트 (호환성을 위해 ElGamal과 동일)</p>
<p>평문 구조와 암호화 세부 정보는 <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel Creation</a>
을 참조하세요.</p>
<h3 id="buildrequestrecord-빌드-요청-레코드-ecies-x25519-단축형">BuildRequestRecord (빌드 요청 레코드) (ECIES-X25519 단축형)</h3>
<p>ECIES-X25519(X25519 기반 ECIES 암호 방식) router에만 해당하며, API 버전 0.9.51(릴리스 1.5.0) 기준입니다. 이는 현재 표준 형식입니다.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| toPeer (16 bytes)                     |
+----+----+----+----+----+----+----+----+
| ephemeral_key (32 bytes)              |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
| ChaCha20 encrypted data (154 bytes)   |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
| Poly1305 MAC (16 bytes)               |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+

toPeer :: First 16 bytes of SHA-256 hash of peer&#39;s RouterIdentity
ephemeral_key :: X25519 ephemeral public key (32 bytes)
encrypted_data :: ChaCha20 encrypted (154 bytes)
mac :: Poly1305 message authentication code (16 bytes)
</code></pre><p><strong>총 크기:</strong> 218바이트 (528바이트 대비 59% 감소)</p>
<p><strong>핵심 차이점:</strong> Short records(짧은 레코드 형식)는 레코드에 키를 명시적으로 포함하는 대신 HKDF (키 유도 함수)를 통해 모든 키를 유도한다. 이에는 다음이 포함된다: - 레이어 키 (tunnel 암호화용) - IV 키 (tunnel 암호화용) - 응답 키 (빌드 응답용) - 응답 IV (빌드 응답용)</p>
<p>모든 키는 X25519 키 교환으로부터 얻은 공유 비밀을 기반으로 Noise 프로토콜의 HKDF(해시 기반 키 유도 함수) 메커니즘을 사용해 파생됩니다.</p>
<p><strong>장점:</strong> - 짧은 레코드 4개가 하나의 tunnel 메시지(873바이트)에 들어감 - 각 레코드마다 별도의 메시지를 보내는 대신 tunnel 빌드 메시지 3개 - 대역폭과 지연시간 감소 - 긴 형식과 동일한 보안 특성</p>
<p>설계 근거는 <a href="../../../../ko/proposals/157-new-tbm/">Proposal 157</a>
을 참조하고, 완전한 명세는 <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel Creation</a>
을 참조하세요.</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.ShortEncryptedBuildRecord</code> - 상수: <code>ShortEncryptedBuildRecord.RECORD_SIZE = 218</code></p>
<h3 id="buildresponserecord-elgamal-공개키-암호">BuildResponseRecord (ElGamal 공개키 암호)</h3>
<p><strong>사용 중단됨.</strong> tunnel에 ElGamal router가 포함된 경우에만 사용됩니다.</p>
<p><strong>목적:</strong> 빌드 요청에 대한 응답을 담은 여러 레코드로 구성된 집합 중 하나의 레코드.</p>
<p><strong>형식:</strong></p>
<p>암호화됨 (528바이트, BuildRequestRecord(빌드 요청 레코드)와 동일한 크기):</p>
<pre tabindex="0"><code>bytes 0-527 :: AES-encrypted record
</code></pre><p>암호화되지 않은 구조:</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| SHA-256 hash (32 bytes)               |
+                                       +
|        (hash of bytes 32-527)         |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
| random data (495 bytes)               |
~                                       ~
|                                  |ret |
+----+----+----+----+----+----+----+----+

bytes 0-31 :: SHA-256 hash of bytes 32-527
bytes 32-526 :: Random data (could be used for congestion info)
byte 527 :: Reply code (0 = accept, 30 = reject)
</code></pre><p><strong>응답 코드:</strong> - <code>0</code> - 수락 - <code>30</code> - 거부 (대역폭 초과)</p>
<p>응답 필드에 대한 자세한 내용은 <a href="../../../../ko/docs/specs/implementation/">Tunnel Creation Specification</a>
을 참조하십시오.</p>
<h3 id="buildresponserecord-빌드-응답-레코드-ecies-x25519">BuildResponseRecord (빌드 응답 레코드) (ECIES-X25519)</h3>
<p>ECIES-X25519 router의 경우, API 버전은 0.9.48+입니다. 해당 요청과 동일한 크기입니다(긴 형식은 528, 짧은 형식은 218).</p>
<p><strong>형식:</strong></p>
<p>긴 형식(528바이트):</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| ChaCha20 encrypted data (512 bytes)   |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
| Poly1305 MAC (16 bytes)               |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
</code></pre><p>짧은 형식(218바이트):</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| ChaCha20 encrypted data (202 bytes)   |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
| Poly1305 MAC (16 bytes)               |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
</code></pre><p><strong>평문 구조(두 형식 모두):</strong></p>
<p>매핑 구조(I2P의 키-값 형식)에는 다음이 포함됩니다: - 응답 상태 코드(필수) - 사용 가능한 대역폭 매개변수(&ldquo;b&rdquo;)(선택적, API 0.9.65에서 추가됨) - 향후 확장을 위한 기타 선택적 매개변수</p>
<p><strong>응답 상태 코드:</strong> - <code>0</code> - 성공 - <code>30</code> - 거부: 대역폭 초과</p>
<p>전체 명세는 <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel 생성</a>
을 참조하십시오.</p>
<h3 id="garlicclovei2p-garlic-encryption의-하위-메시지-elgamalaes">GarlicClove(I2P garlic encryption의 하위 메시지) (ElGamal/AES)</h3>
<p><strong>경고:</strong> 이는 ElGamal로 암호화된 garlic messages(갈릭 메시지: 여러 cloves를 한 번에 묶어 전달하는 메시지 형식) 내부의 garlic cloves(갈릭 클로브: garlic message를 구성하는 개별 하위 메시지)에 사용되는 형식입니다. ECIES-AEAD-X25519-Ratchet garlic messages 및 garlic cloves의 형식은 이와 크게 다릅니다. 최신 형식은 <a href="../../../../ko/docs/specs/ecies/">ECIES Specification</a>
을 참고하십시오.</p>
<p><strong>router에서는 더 이상 권장되지 않음 (API 0.9.58+), 목적지에서는 여전히 지원됩니다.</strong></p>
<p><strong>형식:</strong></p>
<p>암호화되지 않음:</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| Delivery Instructions (variable)      |
~                                       ~
+----+----+----+----+----+----+----+----+
| I2NP Message (variable)               |
~                                       ~
+----+----+----+----+----+----+----+----+
| Clove ID (4)  | Expiration (8)   |Cert|
+----+----+----+----+----+----+----+----+
                                    (3) |
+----+----+----+----+----+----+----+----+

Delivery Instructions :: Variable length (typically 1, 33, or 37 bytes)
I2NP Message :: Any I2NP message
Clove ID :: 4-byte Integer (random, checked for duplicates)
Expiration :: Date (8 bytes)
Certificate :: Always NULL (3 bytes total, all zeroes)
</code></pre><p><strong>참고:</strong> - clove(garlic에서 묶이는 개별 하위 메시지 단위)는 절대 단편화되지 않는다 - Delivery Instructions 플래그 바이트의 첫 번째 비트가 0이면, clove는 암호화되지 않는다 - 첫 번째 비트가 1이면, clove는 암호화된다(미구현 기능) - 최대 길이는 전체 clove 길이들의 합과 최대 GarlicMessage 길이의 함수다 - 인증서는 라우팅에 대한 &ldquo;지불&quot;을 위해 HashCash에 사용될 수도 있다(향후 가능성) - 실제로 사용되는 메시지: DataMessage, DeliveryStatusMessage, DatabaseStoreMessage - GarlicMessage는 GarlicMessage를 포함할 수 있다(중첩된 garlic), 그러나 실제로는 사용되지 않는다</p>
<p>개념적 개요는 <a href="../../../../ko/docs/overview/garlic-routing/">Garlic Routing(갈릭 라우팅)</a>
을 참조하세요.</p>
<h3 id="garlicclove-ecies-x25519-aead-ratchet">GarlicClove (ECIES-X25519-AEAD-Ratchet)</h3>
<p>ECIES-X25519 router와 목적지의 경우, API 버전은 0.9.46+입니다. 이는 현재 표준 형식입니다.</p>
<p><strong>중요한 차이점:</strong> ECIES garlic은 명시적인 clove(메시지 묶음 내 개별 서브메시지) 구조가 아니라 Noise 프로토콜 블록을 기반으로 한 완전히 다른 구조를 사용합니다.</p>
<p><strong>형식:</strong></p>
<p>ECIES(타원곡선 통합 암호화 방식) garlic 메시지(여러 메시지를 묶어 전송하는 I2P 방식의 메시지)에는 일련의 블록이 포함됩니다:</p>
<pre tabindex="0"><code>Block structure:
+----+----+----+----+----+----+----+----+
|type| length    | data ...
+----+----+----+----+----+-//-

type :: 1 byte block type
length :: 2 bytes block length
data :: variable length data
</code></pre><p><strong>블록 유형:</strong> - <code>0</code> - Garlic Clove Block (갈릭 클로브 블록; I2NP 메시지를 포함) - <code>1</code> - DateTime Block (날짜/시간 블록; 타임스탬프) - <code>2</code> - Options Block (옵션 블록; 전달 옵션) - <code>3</code> - Padding Block (패딩 블록) - <code>254</code> - Termination Block (종료 블록; 구현되지 않음)</p>
<p><strong>Garlic Clove Block(garlic 메시지에서 각 clove를 담는 블록) (type 0):</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
|  0 | length    | Delivery Instructions |
+----+----+----+----+                    +
~                                       ~
+----+----+----+----+----+----+----+----+
| I2NP Message                          |
~                                       ~
+----+----+----+----+----+----+----+----+
| Clove ID (4)  | Expiration (4)        |
+----+----+----+----+----+----+----+----+
</code></pre><p><strong>ElGamal(엘가말) 형식과의 주요 차이점:</strong> - 8바이트 Date 대신 4바이트 만료 시간(epoch 기준 초 단위)을 사용 - certificate 필드 없음 - type과 length를 포함하는 블록 구조로 감싸짐 - 전체 메시지는 ChaCha20/Poly1305 AEAD로 암호화됨 - ratcheting(래칫 방식)을 통한 세션 관리</p>
<p>Noise Protocol Framework(Noise 프로토콜 프레임워크)와 블록 구조에 대한 자세한 내용은 <a href="../../../../ko/docs/specs/ecies/">ECIES Specification</a>
을 참조하세요.</p>
<h3 id="garlic-clove개별-메시지-단위-전달-지침">Garlic Clove(개별 메시지 단위) 전달 지침</h3>
<p>이 형식은 ElGamal 및 ECIES garlic cloves(마늘 메시지의 개별 구성 요소) 모두에 사용됩니다. 이는 포함된 메시지를 전달하는 방법을 지정합니다.</p>
<p><strong>중대한 경고:</strong> 이 명세는 Garlic Cloves(garlic 메시지의 clove 단위) 내부의 Delivery Instructions(전송 지시사항)에만 해당합니다. &ldquo;Delivery Instructions&quot;는 Tunnel 메시지 내부에서도 사용되며, 그 형식은 상당히 다릅니다. Tunnel delivery instructions에 대해서는 <a href="../../../../ko/docs/specs/implementation/">Tunnel Message Specification</a>
을 참조하십시오. 이 두 형식을 혼동하지 마십시오.</p>
<p><strong>형식:</strong></p>
<p>세션 키와 지연은 사용되지 않으며 존재하지 않으므로, 가능한 길이는 다음 세 가지입니다:</p>
<ul>
<li>1 바이트 (LOCAL)</li>
<li>33 바이트 (ROUTER 및 DESTINATION)</li>
<li>37 바이트 (TUNNEL)</li>
</ul>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
|flag|                                  |
+----+                                  +
|       Session Key (optional, 32)     |
+                                       +
|                                       |
+    +----+----+----+----+--------------+
|    |                                  |
+----+                                  +
|       To Hash (optional, 32)         |
+                                       +
|                                       |
+    +----+----+----+----+--------------+
|    | Tunnel ID (4, opt)| Delay (4, opt)|
+----+----+----+----+----+----+----+----+

flag :: 1 byte
        Bit order: 76543210
        bit 7: encrypted? (Unimplemented, always 0)
               If 1, a 32-byte encryption session key follows
        bits 6-5: delivery type
               0x0 = LOCAL (0)
               0x1 = DESTINATION (1)
               0x2 = ROUTER (2)
               0x3 = TUNNEL (3)
        bit 4: delay included? (Not fully implemented, always 0)
               If 1, four delay bytes are included
        bits 3-0: reserved, set to 0 for compatibility

Session Key :: 32 bytes (Optional, unimplemented)
               Present if encrypt flag bit is set

To Hash :: 32 bytes (Optional)
           Present if delivery type is DESTINATION, ROUTER, or TUNNEL
           - DESTINATION: SHA256 hash of the destination
           - ROUTER: SHA256 hash of the router identity
           - TUNNEL: SHA256 hash of the gateway router identity

Tunnel ID :: 4 bytes (Optional)
             Present if delivery type is TUNNEL
             The destination tunnel ID (nonzero)

Delay :: 4 bytes (Optional, unimplemented)
         Present if delay included flag is set
         Specifies delay in seconds
</code></pre><p><strong>일반적인 길이:</strong> - 로컬 전달: 1바이트 (플래그만) - ROUTER / 목적지 전달: 33바이트 (플래그 + 해시) - TUNNEL 전달: 37바이트 (플래그 + 해시 + tunnel ID)</p>
<p><strong>전송 유형 설명:</strong></p>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Type</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Value</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">LOCAL</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Deliver to the local router (this router)</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">DESTINATION</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">1</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Deliver to a destination (client) identified by hash</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ROUTER</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Deliver to another router identified by hash</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">TUNNEL</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">3</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Deliver to a tunnel gateway router</td>
    </tr>
  </tbody>
</table>
**구현 참고 사항:** - 세션 키 암호화는 미구현이며 플래그 비트는 항상 0이다 - 지연은 완전히 구현되지 않았으며 플래그 비트는 항상 0이다 - TUNNEL 전달의 경우, 해시는 게이트웨이 router를 식별하며 tunnel ID는 어느 인바운드 tunnel인지를 지정한다 - DESTINATION 전달의 경우, 해시는 대상의 공개 키의 SHA-256이다 - ROUTER 전달의 경우, 해시는 router의 식별자의 SHA-256이다
<hr>
<h2 id="i2np-메시지">I2NP 메시지</h2>
<p>모든 I2NP 메시지 유형에 대한 포괄적인 메시지 사양.</p>
<h3 id="메시지-유형-요약">메시지 유형 요약</h3>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Message</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Type</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Since</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Status</th>
    </tr>
  </thead>
  <tbody>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">DatabaseStore</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">1</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">DatabaseLookup</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">DatabaseSearchReply</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">3</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">DeliveryStatus</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">10</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">Garlic</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">11</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">TunnelData</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">18</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">TunnelGateway</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">19</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">Data</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">20</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">TunnelBuild</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">21</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Deprecated</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">TunnelBuildReply</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">22</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.6.1.10</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Deprecated</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">VariableTunnelBuild</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">23</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.7.12</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">VariableTunnelBuildReply</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">24</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.7.12</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">ShortTunnelBuild</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">25</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.51</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
    <tr><td style="border:1px solid var(--color-border); padding:0.5rem;">OutboundTunnelBuildReply</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">26</td><td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0.9.51</td><td style="border:1px solid var(--color-border); padding:0.5rem;">Active</td></tr>
  </tbody>
</table>
**예약됨:** - 유형 0: 예약됨 - 유형 4-9: 향후 사용을 위해 예약됨 - 유형 12-17: 향후 사용을 위해 예약됨 - 유형 224-254: 실험적 메시지용으로 예약됨 - 유형 255: 향후 확장을 위해 예약됨
<hr>
<h3 id="databasestore-유형-1">DatabaseStore (유형 1)</h3>
<p><strong>Purpose:</strong> 요청되지 않은 데이터베이스 저장, 또는 성공한 DatabaseLookup message(데이터베이스 조회 메시지)에 대한 응답.</p>
<p><strong>내용:</strong> 압축되지 않은 LeaseSet(목적지 접속 경로 정보 집합), LeaseSet2(2세대 LeaseSet 형식), MetaLeaseSet(여러 LeaseSet을 참조하는 메타 형식), 또는 EncryptedLeaseSet(암호화된 LeaseSet), 또는 압축된 RouterInfo(router 정보).</p>
<p><strong>응답 토큰으로 포맷:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| SHA256 Hash as key (32 bytes)        |
+                                       +
|                                       |
+                                       +
|                                       |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
|type| reply token (4)   | reply_tunnelId
+----+----+----+----+----+----+----+----+
     (4)               | reply gateway  |
+----+----+----+----+----+              +
|       SHA256 hash (32 bytes)          |
+                                       +
|                                       |
+                                  +----+
|                                  |
+----+----+----+----+----+----+----+
| data ...
+----+-//

key :: 32 bytes
       SHA256 hash (the &#34;real&#34; hash, not routing key)

type :: 1 byte
        Type identifier
        bit 0:
            0 = RouterInfo
            1 = LeaseSet or variants
        bits 3-1: (as of 0.9.38)
            0: RouterInfo or LeaseSet (types 0 or 1)
            1: LeaseSet2 (type 3)
            2: EncryptedLeaseSet (type 5)
            3: MetaLeaseSet (type 7)
            4-7: Unsupported, invalid
        bits 7-4:
            Reserved, set to 0

reply token :: 4 bytes
               If greater than zero, a DeliveryStatusMessage is
               requested with the Message ID set to the reply token
               A floodfill router is also expected to flood the data
               to the closest floodfill peers

reply_tunnelId :: 4 bytes (only if reply token &gt; 0)
                  TunnelId of the inbound gateway of the tunnel
                  for the response
                  If 0, reply is sent directly to reply gateway

reply gateway :: 32 bytes (only if reply token &gt; 0)
                 SHA256 hash of the RouterInfo
                 If reply_tunnelId is nonzero: inbound gateway router
                 If reply_tunnelId is zero: router to send reply to

data :: Variable length
        If type == 0: 2-byte Integer length + gzip-compressed RouterInfo
        If type == 1: Uncompressed LeaseSet
        If type == 3: Uncompressed LeaseSet2
        If type == 5: Uncompressed EncryptedLeaseSet
        If type == 7: Uncompressed MetaLeaseSet
</code></pre><p><strong>응답 토큰 == 0인 형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| SHA256 Hash as key (32 bytes)        |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
|type|         0         | data ...
+----+----+----+----+----+-//
</code></pre><p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.DatabaseStoreMessage</code> - <code>net.i2p.data.RouterInfo</code> (RouterInfo(router에 대한 정보) 구조체용) - <code>net.i2p.data.LeaseSet</code> (LeaseSet(임대 정보 집합) 구조체용)</p>
<hr>
<h3 id="databaselookup데이터베이스-조회-유형-2">DatabaseLookup(데이터베이스 조회) (유형 2)</h3>
<p><strong>목적:</strong> 네트워크 데이터베이스에서 항목을 조회하기 위한 요청입니다. 응답은 DatabaseStore 또는 DatabaseSearchReply 중 하나입니다.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| SHA256 hash as the key (32 bytes)    |
+                                       +
|                                       |
+                                       +
|                                       |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
| SHA256 hash of the from router (32)  |
+    or reply tunnel gateway            +
|                                       |
+                                       +
|                                       |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
|flag| reply_tunnelId (4)| size (2)|   |
+----+----+----+----+----+----+----+    +
| SHA256 of key1 to exclude (32 bytes) |
+                                       +
|                                       |
+                                  +----+
|                                  |    |
+----+----+----+----+----+----+----+    +
| SHA256 of key2 to exclude (32)       |
+                                       +
~                                       ~
|                                       |
+                                  +----+
|                                  |    |
+----+----+----+----+----+----+----+    +
|   Session key if reply encryption     |
+       requested (32 bytes)             +
|                                       |
+                                  +----+
|                                  |tags|
+----+----+----+----+----+----+----+----+
|   Session tags if reply encryption    |
+       requested (variable)             +
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+

key :: 32 bytes
       SHA256 hash of the object to lookup

from :: 32 bytes
        If deliveryFlag == 0: SHA256 hash of RouterInfo (sender)
        If deliveryFlag == 1: SHA256 hash of reply tunnel gateway

flags :: 1 byte
         Bit order: 76543210
         bit 0: deliveryFlag
             0 = send reply directly
             1 = send reply to some tunnel
         bit 1: encryptionFlag
             Through 0.9.5: must be 0
             As of 0.9.6: ignored
             As of 0.9.7:
                 0 = send unencrypted reply
                 1 = send AES encrypted reply using key and tag
         bits 3-2: lookup type flags
             Through 0.9.5: must be 00
             As of 0.9.6: ignored
             As of 0.9.16:
                 00 = ANY (deprecated, use LS or RI as of 0.9.16)
                 01 = LS lookup (LeaseSet or variants)
                 10 = RI lookup (RouterInfo)
                 11 = exploration lookup (RouterInfo, non-floodfill)
         bit 4: ECIESFlag
             Before 0.9.46: ignored
             As of 0.9.46:
                 0 = send unencrypted or ElGamal reply
                 1 = send ChaCha/Poly encrypted reply using key
         bits 7-5:
             Reserved, set to 0

reply_tunnelId :: 4 bytes (only if deliveryFlag == 1)
                  TunnelId of the tunnel to send reply to (nonzero)

size :: 2 bytes
        Integer (valid range: 0-512)
        Number of peers to exclude from DatabaseSearchReply

excludedPeers :: $size SHA256 hashes of 32 bytes each
                 If lookup fails, exclude these peers from the reply
                 If includes a hash of all zeroes, the request is
                 exploratory (return non-floodfill routers only)

reply_key :: 32 bytes (conditional, see encryption modes below)
reply_tags :: 1 byte count + variable length tags (conditional)
</code></pre><p><strong>응답 암호화 모드:</strong></p>
<p><strong>NOTE:</strong> ElGamal router는 API 0.9.58부터 사용 중단되었습니다. 조회 시 권장되는 최소 floodfill 버전이 이제 0.9.58이므로, 구현체는 ElGamal floodfill router에 대한 암호화를 구현할 필요가 없습니다. ElGamal 목적지는 여전히 지원됩니다.</p>
<p>플래그 비트 4(ECIESFlag)는 비트 1(encryptionFlag)과 조합되어 응답 암호화 모드를 결정하는 데 사용된다:</p>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Flag bits 4,1</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">From</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">To Router</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Reply</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">DH?</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0 0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Any</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Any</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">No encryption</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">n/a</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">No encryption</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">0 1</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ElG</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ElG</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">AES</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">No</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">As of 0.9.7, deprecated 0.9.58</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">1 0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ECIES</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ElG</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">AEAD</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">No</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">As of 0.9.46, deprecated 0.9.58</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">1 0</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ECIES</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ECIES</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">AEAD</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">No</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">As of 0.9.49, current standard</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">1 1</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ElG</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ECIES</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">AES</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">Yes</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">TBD, future</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">1 1</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ECIES</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ECIES</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">AEAD</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">Yes</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">TBD, future</td>
    </tr>
  </tbody>
</table>
**암호화 없음 (플래그 0,0):**
<p>reply_key, tags, 그리고 reply_tags는 존재하지 않습니다.</p>
<p><strong>ElG에서 ElG로 (플래그 0,1) - 사용 중단됨:</strong></p>
<p>0.9.7부터 지원되며, 0.9.58부터 더 이상 권장되지 않습니다.</p>
<pre tabindex="0"><code>reply_key :: 32 byte SessionKey (big-endian)
             CSRNG(32) random data

tags :: 1 byte Integer (1-32, typically 1)
        Number of reply tags that follow

reply_tags :: One or more 32-byte SessionTags
              Each is CSRNG(32) random data
</code></pre><p><strong>ECIES에서 ElG로 (플래그 1,0) - 사용 중단됨:</strong></p>
<p>버전 0.9.46부터 지원됨, 버전 0.9.58부터 더 이상 권장되지 않음.</p>
<pre tabindex="0"><code>reply_key :: 32 byte ECIES SessionKey (big-endian)
             CSRNG(32) random data

tags :: 1 byte Integer (required value: 1)
        Number of reply tags that follow

reply_tags :: One 8-byte ECIES SessionTag
              CSRNG(8) random data
</code></pre><p>응답은 <a href="../../../../ko/docs/specs/ecies/">ECIES 사양</a>
에 정의된 ECIES 기존 세션 메시지입니다:</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| Session Tag (8 bytes)                 |
+----+----+----+----+----+----+----+----+
| ChaCha20 encrypted payload            |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
| Poly1305 MAC (16 bytes)               |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+

tag :: 8 byte reply_tag
k :: 32 byte session key (the reply_key)
n :: 0 (nonce)
ad :: The 8 byte reply_tag
payload :: Plaintext data (DSM or DSRM)
ciphertext = ENCRYPT(k, n, payload, ad)
</code></pre><p><strong>ECIES(타원곡선 통합 암호체계)에서 ECIES로 (플래그 1,0) - 현재 표준:</strong></p>
<p>ECIES(타원 곡선 통합 암호화 체계) 목적지 또는 router가 ECIES router로 조회 요청을 보냅니다. 0.9.49부터 지원됩니다.</p>
<p>위의 &ldquo;ECIES to ElG&quot;와 동일한 형식입니다. 조회 메시지 암호화는 <a href="../../../../ko/docs/specs/ecies/#routers">ECIES Routers</a>
에 명시되어 있습니다. 요청자는 익명입니다.</p>
<p><strong>ECIES(타원곡선 통합 암호 체계)에서 ECIES로, DH(디피-헬먼 키 교환) 사용 (플래그 1,1) - 향후:</strong></p>
<p>아직 완전히 정의되지 않았습니다. <a href="../../../../ko/proposals/156-ecies-routers/">Proposal 156</a>
를 참조하십시오.</p>
<p><strong>참고:</strong> - 0.9.16 이전에는 키가 RouterInfo 또는 LeaseSet용일 수 있었습니다(동일한 키 공간, 구분할 플래그 없음) - 암호화된 응답은 응답이 tunnel을 통해 이뤄질 때만 유용합니다 - 대체 DHT 조회 전략이 구현된 경우 포함된 태그 수는 하나보다 클 수 있습니다 - 조회 키와 제외 키는 &ldquo;실제&rdquo; 해시이며, 라우팅 키가 아닙니다 - 유형 3, 5, 7(LeaseSet2 variants)은 0.9.38부터 반환될 수 있습니다. <a href="../../../../ko/proposals/123-new-netdb-entries/">Proposal 123</a>
를 참조하세요 - <strong>탐색적 조회 참고:</strong> 탐색적 조회는 키와 가까운 non-floodfill 해시 목록을 반환하도록 정의됩니다. 그러나 구현은 다양합니다: Java는 RI(RouterInfo)에 대해 검색 키를 조회하고 존재하면 DatabaseStore를 반환하지만; i2pd는 그렇지 않습니다. 따라서 이전에 수신한 해시에 대해 탐색적 조회를 사용하는 것은 권장되지 않습니다</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.DatabaseLookupMessage</code> - 암호화: <code>net.i2p.crypto.SessionKeyManager</code></p>
<hr>
<h3 id="databasesearchreply-데이터베이스-검색-응답-유형-3">DatabaseSearchReply (데이터베이스 검색 응답) (유형 3)</h3>
<p><strong>목적:</strong> 실패한 DatabaseLookup 메시지에 대한 응답.</p>
<p><strong>내용:</strong> 요청된 키에 가장 가까운 router 해시 목록.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| SHA256 hash as query key (32 bytes)  |
+                                       +
|                                       |
+                                       +
|                                       |
+                                       +
|                                       |
+----+----+----+----+----+----+----+----+
| num| peer_hashes (variable)           |
+----+                                  +
|                                       |
~                                       ~
|                                       |
+    +----+----+----+----+----+----+----+
|    | from (32 bytes)                  |
+----+                                  +
|                                       |
+                                       +
|                                       |
+                                       +
|                                       |
+    +----+----+----+----+----+----+----+
|    |
+----+

key :: 32 bytes
       SHA256 of the object being searched

num :: 1 byte Integer
       Number of peer hashes that follow (0-255)

peer_hashes :: $num SHA256 hashes of 32 bytes each (total $num*32 bytes)
               SHA256 of the RouterIdentity that the sender thinks is
               close to the key

from :: 32 bytes
        SHA256 of the RouterInfo of the router this reply was sent from
</code></pre><p><strong>참고:</strong> - &lsquo;from&rsquo; 해시는 인증되지 않았으며 신뢰할 수 없다 - 반환된 피어 해시는 쿼리 중인 router보다 키에 더 가까울 필요는 없다. 일반 조회에 대한 응답의 경우, 새로운 floodfills(특수 역할의 router)를 발견하고 견고성을 위해 &ldquo;역방향&rdquo; 검색(키에서 더 먼 방향)을 수행하는 데 도움이 된다 - 탐색 조회의 경우, 키는 보통 무작위로 생성된다. 응답의 floodfill이 아닌 peer_hashes는 로컬 전체 데이터베이스의 비효율적인 정렬을 피하기 위해 최적화된 알고리즘(예: 가깝지만 반드시 가장 가까운 피어일 필요는 없는 피어들)을 사용해 선택될 수 있다. 캐싱 전략을 사용할 수도 있다. 이는 구현에 따라 달라진다 - <strong>반환되는 해시의 일반적인 개수:</strong> 3 - <strong>반환할 해시의 권장 최대 개수:</strong> 16 - 조회 키, 피어 해시, 그리고 from 해시는 &ldquo;실제&rdquo; 해시이며, 라우팅 키가 아니다 - num이 0이면, 더 가까운 피어를 찾지 못했음을 의미한다(막다른 지점)</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.DatabaseSearchReplyMessage</code></p>
<hr>
<h3 id="deliverystatus전달-상태-유형-10">DeliveryStatus(전달 상태) (유형 10)</h3>
<p><strong>Purpose:</strong> 간단한 메시지 수신 확인. 일반적으로 메시지 발신자가 생성하며, 메시지 자체와 함께 Garlic Message(여러 메시지를 묶어 전달하는 I2P 메시지 형식)로 감싸 목적지에서 회신되도록 한다.</p>
<p><strong>내용:</strong> 전달된 메시지의 ID와 생성 시간 또는 도착 시간.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+----+----+----+----+
| msg_id (4)            | time_stamp (8)                    |
+----+----+----+----+----+----+----+----+----+----+----+----+

msg_id :: Integer (4 bytes)
          Unique ID of the message we deliver the DeliveryStatus for
          (see I2NP Message Header for details)

time_stamp :: Date (8 bytes)
              Time the message was successfully created or delivered
</code></pre><p><strong>참고:</strong> - 타임스탬프는 작성자가 항상 현재 시간으로 설정합니다. 하지만 코드에서 이 타임스탬프가 여러 용도로 사용되고 있으며, 앞으로 더 추가될 수 있습니다 - 이 메시지는 SSU에서 세션 수립 확인 용도로도 사용됩니다. 이 경우 메시지 ID는 무작위 값으로 설정되고, &ldquo;도착 시간&quot;은 현재 네트워크 전역 ID인 2로 설정됩니다(즉, <code>0x0000000000000002</code>) - DeliveryStatus(전달 상태 메시지)는 일반적으로 GarlicMessage(갈릭 메시지)에 래핑되어 tunnel을 통해 전송되며, 발신자를 드러내지 않고 수신 확인을 제공합니다 - tunnel 테스트에 사용되어 지연 시간과 신뢰성을 측정합니다</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.DeliveryStatusMessage</code> - 사용 위치: <code>net.i2p.router.tunnel.InboundEndpointProcessor</code> tunnel 테스트를 위해</p>
<hr>
<h3 id="garlicmessage갈릭-메시지-type-11">GarlicMessage(갈릭 메시지) (Type 11)</h3>
<p><strong>경고:</strong> 이것은 ElGamal로 암호화된 garlic messages(여러 메시지를 하나로 묶어 전달하는 I2P 방식)에 사용되는 형식입니다. ECIES-AEAD-X25519-Ratchet garlic messages의 형식은 현저히 다릅니다. 최신 형식은 <a href="../../../../ko/docs/specs/ecies/">ECIES Specification</a>
을 참조하세요.</p>
<p><strong>목적:</strong> 여러 개의 암호화된 I2NP 메시지를 감싸는 데 사용됩니다.</p>
<p><strong>내용:</strong> 복호화되면 일련의 Garlic Cloves(개별 메시지 단위)와 추가 데이터로 구성되며, Clove Set(클로브 집합)이라고도 한다.</p>
<p><strong>암호화된 형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| length (4)            | data          |
+----+----+----+----+----+              +
|                                       |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+

length :: 4 byte Integer
          Number of bytes that follow (0 to 64 KB)

data :: $length bytes
        ElGamal encrypted data
</code></pre><p><strong>복호화된 데이터 (Clove Set, 클로브 집합):</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| num| clove 1 (variable)               |
+----+                                  +
|                                       |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
| clove 2 (variable)                    |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
| Certificate (3) | Message_ID (4)  |
+----+----+----+----+----+----+----+----+
    Expiration (8)                  |
+----+----+----+----+----+----+----+----+

num :: 1 byte Integer
       Number of GarlicCloves to follow

clove :: GarlicClove (see GarlicClove structure above)

Certificate :: Always NULL (3 bytes total, all zeroes)

Message_ID :: 4 byte Integer

Expiration :: Date (8 bytes)
</code></pre><p><strong>ECIES-X25519-AEAD-Ratchet 형식 (routers용 현재 표준)의 경우:</strong></p>
<p><a href="../../../../ko/docs/specs/ecies/">ECIES 명세</a>
 및 <a href="../../../../ko/proposals/144-ecies-x25519-aead-ratchet/">제안 144</a>
를 참조하십시오.</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.GarlicMessage</code> - 암호화: <code>net.i2p.crypto.elgamal.ElGamalAESEngine</code> (사용 중단됨) - 최신 암호화: <code>net.i2p.crypto.ECIES</code> 패키지</p>
<hr>
<h3 id="tunneldata-유형-18">TunnelData (유형 18)</h3>
<p><strong>목적:</strong> tunnel의 게이트웨이 또는 참가자가 다음 참가자 또는 엔드포인트로 보내는 메시지. 데이터는 고정 길이이며, 분할·배치·패딩 처리되어 암호화된 I2NP 메시지를 포함한다.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| tunnelID (4)          | data (1024)   |
+----+----+----+----+----+              +
|                                       |
~                                       ~
|                                       |
+                   +----+----+----+----+
|                   |
+----+----+----+----+

tunnelId :: 4 bytes
            TunnelId identifying the tunnel this message is directed at
            Nonzero

data :: 1024 bytes
        Payload data, fixed to 1024 bytes
</code></pre><p><strong>페이로드 구조 (1024바이트):</strong></p>
<pre tabindex="0"><code>Bytes 0-15: Initialization Vector (IV) for AES encryption
Bytes 16-1023: Encrypted tunnel message data (1008 bytes)
</code></pre><p><strong>참고:</strong> - TunnelData에 대한 I2NP 메시지 ID는 각 홉마다 새로운 난수로 설정됩니다 - 암호화된 데이터 내부의 tunnel 메시지 형식은 <a href="../../../../ko/docs/specs/implementation/">Tunnel Message Specification</a>
에 정의되어 있습니다 - 각 홉은 CBC 모드의 AES-256을 사용해 한 겹을 복호화합니다 - 복호화된 데이터를 사용하여 각 홉에서 IV(초기화 벡터)가 갱신됩니다 - 전체 크기는 정확히 1,028 바이트입니다(4 tunnelId + 1024 data) - 이는 tunnel 트래픽의 기본 단위입니다 - TunnelData 메시지는 분할된 I2NP 메시지(GarlicMessage, DatabaseStore 등)를 운반합니다</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.TunnelDataMessage</code> - 상수: <code>TunnelDataMessage.DATA_LENGTH = 1024</code> - 처리: <code>net.i2p.router.tunnel.InboundGatewayProcessor</code></p>
<hr>
<h3 id="tunnelgateway-유형-19">TunnelGateway (유형 19)</h3>
<p><strong>목적:</strong> 다른 I2NP 메시지를 감싸, 해당 tunnel의 인바운드 게이트웨이에서 tunnel로 전송되도록 한다.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+-//
| tunnelId (4)          | length (2)| data...
+----+----+----+----+----+----+----+-//

tunnelId :: 4 bytes
            TunnelId identifying the tunnel this message is directed at
            Nonzero

length :: 2 byte Integer
          Length of the payload

data :: $length bytes
        Actual payload of this message
</code></pre><p><strong>참고:</strong> - 페이로드는 표준 16바이트 헤더를 가진 I2NP 메시지입니다 - 로컬 router에서 여러 tunnel로 메시지를 주입하는 데 사용됩니다 - 필요한 경우 게이트웨이가 포함된 메시지를 조각화합니다 - 조각화 후, 조각들은 TunnelData 메시지로 래핑됩니다 - TunnelGateway는 네트워크를 통해 전송되지 않습니다; 이는 tunnel 처리 이전에 사용되는 내부 메시지 유형입니다</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.TunnelGatewayMessage</code> - 처리: <code>net.i2p.router.tunnel.OutboundGatewayProcessor</code></p>
<hr>
<h3 id="datamessage데이터-메시지-유형-20">DataMessage(데이터 메시지) (유형 20)</h3>
<p><strong>목적:</strong> Garlic Messages(갈릭 메시지)와 Garlic Cloves(갈릭 클로브)에서 임의의 데이터(보통 종단 간 암호화된 애플리케이션 데이터)를 캡슐화하는 데 사용됩니다.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+-//-+
| length (4)            | data...    |
+----+----+----+----+----+----+-//-+

length :: 4 bytes
          Length of the payload

data :: $length bytes
        Actual payload of this message
</code></pre><p><strong>참고:</strong> - 이 메시지에는 라우팅 정보가 없으며 결코 &ldquo;unwrapped&rdquo; 상태로 전송되지 않습니다 - Garlic messages(갈릭 메시지, garlic encryption에서 사용되는 메시지 단위) 내부에서만 사용됩니다 - 일반적으로 종단 간 암호화된 애플리케이션 데이터(HTTP, IRC, email 등)를 포함합니다 - 데이터는 보통 ElGamal/AES 또는 ECIES로 암호화된 페이로드입니다 - tunnel 메시지 단편화 한계로 인해 실사용 가능한 최대 길이는 약 61.2 KB입니다</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.DataMessage</code></p>
<hr>
<h3 id="tunnelbuild-유형-21">TunnelBuild (유형 21)</h3>
<p><strong>사용 중단됨.</strong> VariableTunnelBuild (type 23) 또는 ShortTunnelBuild (type 25)를 사용하세요.</p>
<p><strong>목적:</strong> 8홉을 위한 고정 길이 tunnel 빌드 요청.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| Record 0 (528 bytes)                  |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
| Record 1 (528 bytes)                  |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+
| Record 7 (528 bytes)                  |
~                                       ~
|                                       |
+----+----+----+----+----+----+----+----+

Just 8 BuildRequestRecords attached together
Record size: 528 bytes
Total size: 8 × 528 = 4,224 bytes
</code></pre><p><strong>참고:</strong> - 0.9.48 기준으로 ECIES-X25519 BuildRequestRecords(tunnel 빌드 요청 레코드)를 포함할 수 있습니다. <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel 생성</a>
 - 자세한 내용은 <a href="../../../../ko/docs/specs/implementation/">Tunnel 생성 사양</a>
을 참조하세요 - 이 메시지의 I2NP 메시지 ID는 tunnel 생성 사양에 따라 설정되어야 합니다 - 오늘날의 네트워크에서는 드물게 보이지만(VariableTunnelBuild(가변 길이 tunnel 빌드 메시지 유형)로 대체됨), 매우 긴 tunnel에서는 여전히 사용될 수 있으며 공식적으로 사용 중단(deprecated)되지는 않았습니다 - Routers는 호환성을 위해 여전히 이를 구현해야 합니다 - 고정 8-레코드 형식은 유연성이 떨어지며 더 짧은 tunnel에서는 대역폭을 낭비합니다</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.TunnelBuildMessage</code> - 상수: <code>TunnelBuildMessageBase.MAX_RECORD_COUNT = 8</code></p>
<hr>
<h3 id="tunnelbuildreply-유형-22">TunnelBuildReply (유형 22)</h3>
<p><strong>사용 중단됨.</strong> VariableTunnelBuildReply (type 24) 또는 OutboundTunnelBuildReply (type 26)를 사용하세요.</p>
<p><strong>목적:</strong> 8 홉용 고정 길이 tunnel 구축 응답.</p>
<p><strong>형식:</strong></p>
<p>TunnelBuildMessage와 동일한 형식이며, BuildRequestRecords 대신 BuildResponseRecords를 사용합니다.</p>
<pre tabindex="0"><code>Total size: 8 × 528 = 4,224 bytes
</code></pre><p><strong>참고:</strong> - 0.9.48 기준, ECIES-X25519 BuildResponseRecords(빌드 응답 레코드)를 포함할 수 있습니다. <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel 생성</a>
을 참조하세요 - 자세한 내용은 <a href="../../../../ko/docs/specs/implementation/">Tunnel 생성 명세</a>
를 참조하세요 - 이 메시지의 I2NP 메시지 ID는 tunnel 생성 명세에 따라 설정되어야 합니다 - 오늘날의 네트워크에서는 드물게 보이지만(VariableTunnelBuildReply(가변 Tunnel 빌드 응답)로 대체됨), 매우 긴 tunnel에서는 여전히 사용될 수 있으며 공식적으로 사용 중단으로 지정되지는 않았습니다 - 호환성을 위해 Routers는 여전히 이를 구현해야 합니다</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.TunnelBuildReplyMessage</code></p>
<hr>
<h3 id="variabletunnelbuild-유형-23">VariableTunnelBuild (유형 23)</h3>
<p><strong>목적:</strong> 1~8 홉에 대한 가변 길이 tunnel 구축. ElGamal 및 ECIES-X25519 routers 모두를 지원합니다.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| num| BuildRequestRecords (variable)   |
+----+----+----+----+----+----+----+----+

num :: 1 byte Integer
       Valid values: 1-8

BuildRequestRecords :: $num records of 528 bytes each

Record size: 528 bytes
Total size: 1 + ($num × 528) bytes
</code></pre><p><strong>참고:</strong> - 0.9.48 기준, ECIES-X25519 BuildRequestRecords(ECIES-X25519 기반 빌드 요청 레코드)을 포함할 수 있습니다. <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel 생성</a>
 - router 버전 0.7.12(2009)에서 도입 - 0.7.12 이전 버전의 tunnel 참가자에게는 전송되지 않을 수 있습니다 - 자세한 내용은 <a href="../../../../ko/docs/specs/implementation/">Tunnel Creation 명세</a>
를 참조하십시오 - I2NP 메시지 ID는 tunnel 생성 명세에 따라 설정되어야 합니다 - <strong>일반적인 레코드 수:</strong> 4 (4-hop tunnel의 경우) - <strong>일반적인 총 크기:</strong> 1 + (4 × 528) = 2,113 바이트 - 이것은 ElGamal router용 표준 tunnel 빌드 메시지입니다 - ECIES router는 일반적으로 ShortTunnelBuild(type 25)(짧은 tunnel 빌드)를 대신 사용합니다</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.VariableTunnelBuildMessage</code></p>
<hr>
<h3 id="variabletunnelbuildreply-유형-24">VariableTunnelBuildReply (유형 24)</h3>
<p><strong>목적:</strong> 1~8홉용 가변 길이 tunnel 빌드 응답. ElGamal 및 ECIES-X25519 routers를 모두 지원합니다.</p>
<p><strong>형식:</strong></p>
<p>BuildRequestRecords 대신 BuildResponseRecords를 사용하는 점을 제외하면 VariableTunnelBuildMessage와 동일한 형식입니다.</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| num| BuildResponseRecords (variable)  |
+----+----+----+----+----+----+----+----+

num :: 1 byte Integer
       Valid values: 1-8

BuildResponseRecords :: $num records of 528 bytes each

Record size: 528 bytes
Total size: 1 + ($num × 528) bytes
</code></pre><p><strong>참고:</strong> - 0.9.48 기준, ECIES-X25519 BuildResponseRecords(빌드 응답 레코드) 를 포함할 수 있습니다. <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel Creation</a>
을 참조하세요 - router 버전 0.7.12(2009)에서 도입됨 - 버전 0.7.12 이전의 tunnel 참가자에게는 전송되지 않을 수 있습니다 - 자세한 내용은 <a href="../../../../ko/docs/specs/implementation/">Tunnel Creation Specification</a>
을 참조하세요 - I2NP 메시지 ID는 tunnel 생성 사양에 따라 설정해야 합니다 - <strong>일반적인 레코드 수:</strong> 4 - <strong>일반적인 총 크기:</strong> 2,113 바이트</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.VariableTunnelBuildReplyMessage</code></p>
<hr>
<h3 id="shorttunnelbuild-유형-25">ShortTunnelBuild (유형 25)</h3>
<p><strong>목적:</strong> ECIES-X25519 routers 전용의 짧은 tunnel 구축 메시지. API 버전 0.9.51(릴리스 1.5.0, 2021년 8월)에 도입됨. 이는 ECIES tunnel 구축의 현재 표준입니다.</p>
<p><strong>형식:</strong></p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| num| ShortBuildRequestRecords (var)   |
+----+----+----+----+----+----+----+----+

num :: 1 byte Integer
       Valid values: 1-8

ShortBuildRequestRecords :: $num records of 218 bytes each

Record size: 218 bytes
Total size: 1 + ($num × 218) bytes
</code></pre><p><strong>참고:</strong> - router 버전 0.9.51(릴리스 1.5.0, 2021년 8월)에 도입 - API 버전 0.9.51 미만의 tunnel 참가자에게는 전송되지 않을 수 있음 - 전체 사양은 <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel Creation</a>
 참조 - 설계 근거는 <a href="../../../../ko/proposals/157-new-tbm/">Proposal 157</a>
 참조 - <strong>일반적인 레코드 수:</strong> 4 - <strong>일반적인 총 크기:</strong> 1 + (4 × 218) = 873 바이트 - <strong>대역폭 절감:</strong> VariableTunnelBuild 대비 59% 작음(873 대 2,113 바이트) - <strong>성능 이점:</strong> 짧은 레코드 4개가 하나의 tunnel 메시지에 들어감; VariableTunnelBuild는 3개의 tunnel 메시지가 필요함 - 이는 현재 순수 ECIES-X25519 tunnel에 대한 표준 tunnel 빌드 형식임 - 레코드는 키를 명시적으로 포함하는 대신 HKDF(키 파생 함수)를 통해 파생함</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.ShortTunnelBuildMessage</code> - 상수: <code>ShortEncryptedBuildRecord.RECORD_SIZE = 218</code></p>
<hr>
<h3 id="outboundtunnelbuildreply-유형-26">OutboundTunnelBuildReply (유형 26)</h3>
<p><strong>Purpose:</strong> 새로 생성된 tunnel의 아웃바운드 엔드포인트에서 생성자에게 전송됩니다. ECIES-X25519 routers 전용입니다. API 버전 0.9.51에서 도입되었습니다(릴리스 1.5.0, 2021년 8월).</p>
<p><strong>형식:</strong></p>
<p>ShortTunnelBuildMessage와 동일한 형식이며, ShortBuildRequestRecords 대신 ShortBuildResponseRecords를 사용합니다.</p>
<pre tabindex="0"><code>+----+----+----+----+----+----+----+----+
| num| ShortBuildResponseRecords (var)  |
+----+----+----+----+----+----+----+----+

num :: 1 byte Integer
       Valid values: 1-8

ShortBuildResponseRecords :: $num records of 218 bytes each

Record size: 218 bytes
Total size: 1 + ($num × 218) bytes
</code></pre><p><strong>참고:</strong> - router 버전 0.9.51에 도입됨(릴리스 1.5.0, 2021년 8월) - 전체 사양은 <a href="../../../../ko/docs/specs/implementation/">ECIES Tunnel 생성</a>
을 참조하십시오 - <strong>일반적인 레코드 수:</strong> 4 - <strong>일반적인 전체 크기:</strong> 873 바이트 - 이 응답은 새로 생성된 outbound tunnel을 통해 outbound endpoint(OBEP, 아웃바운드 엔드포인트)에서 tunnel 생성자로 되돌려 전송됩니다 - 모든 홉이 tunnel 구축을 수락했음을 확인합니다</p>
<p><strong>소스 코드:</strong> - <code>net.i2p.data.i2np.OutboundTunnelBuildReplyMessage</code></p>
<hr>
<h2 id="참고-자료">참고 자료</h2>
<h3 id="공식-명세">공식 명세</h3>
<ul>
<li><strong><a href="../../../../ko/docs/specs/i2np/">I2NP 사양</a>
</strong> - I2NP 메시지 형식의 완전한 사양</li>
<li><strong><a href="../../../../ko/docs/specs/common-structures/">공통 구조</a>
</strong> - I2P 전반에서 사용되는 데이터 타입과 구조</li>
<li><strong><a href="../../../../ko/docs/specs/implementation/">tunnel 생성</a>
</strong> - ElGamal tunnel 생성(사용 중단됨)</li>
<li><strong><a href="../../../../ko/docs/specs/implementation/">ECIES tunnel 생성</a>
</strong> - ECIES-X25519 tunnel 생성(현재)</li>
<li><strong><a href="../../../../ko/docs/specs/implementation/">tunnel 메시지</a>
</strong> - tunnel 메시지 형식 및 전달 지침</li>
<li><strong><a href="../../../../ko/docs/specs/ntcp2/">NTCP2 사양</a>
</strong> - TCP 전송 프로토콜</li>
<li><strong><a href="../../../../ko/docs/specs/ssu2/">SSU2 사양</a>
</strong> - UDP 전송 프로토콜</li>
<li><strong><a href="../../../../ko/docs/specs/ecies/">ECIES 사양</a>
</strong> - ECIES-X25519-AEAD-Ratchet 암호화</li>
<li><strong><a href="../../../../ko/docs/specs/cryptography/">암호학 사양</a>
</strong> - 저수준 암호 프리미티브</li>
<li><strong><a href="../../../../ko/docs/specs/i2cp/">I2CP 사양</a>
</strong> - 클라이언트 프로토콜 사양</li>
<li><strong><a href="../../../../ko/docs/api/datagrams/">데이터그램 사양</a>
</strong> - Datagram2 및 Datagram3 형식</li>
</ul>
<h3 id="제안서">제안서</h3>
<ul>
<li><strong><a href="../../../../ko/proposals/123-new-netdb-entries/">제안 123</a>
</strong> - 새로운 netDB 항목 (LeaseSet2, EncryptedLeaseSet, MetaLeaseSet)</li>
<li><strong><a href="../../../../ko/proposals/144-ecies-x25519-aead-ratchet/">제안 144</a>
</strong> - ECIES-X25519-AEAD-Ratchet 암호화</li>
<li><strong><a href="../../../../ko/proposals/154-ecies-lookups/">제안 154</a>
</strong> - 암호화된 데이터베이스 조회</li>
<li><strong><a href="../../../../ko/proposals/156-ecies-routers/">제안 156</a>
</strong> - ECIES routers</li>
<li><strong><a href="../../../../ko/proposals/157-new-tbm/">제안 157</a>
</strong> - 더 작은 tunnel 빌드 메시지 (짧은 형식)</li>
<li><strong><a href="../../../../ko/proposals/159-ssu2/">제안 159</a>
</strong> - SSU2 트랜스포트</li>
<li><strong><a href="../../../../ko/proposals/161-ri-dest-padding/">제안 161</a>
</strong> - 압축 가능한 패딩</li>
<li><strong><a href="../../../../ko/proposals/163-datagram2/">제안 163</a>
</strong> - Datagram2 및 Datagram3</li>
<li><strong><a href="../../../../ko/proposals/167-service-records/">제안 167</a>
</strong> - LeaseSet 서비스 레코드 매개변수</li>
<li><strong><a href="../../../../ko/proposals/168-tunnel-bandwidth/">제안 168</a>
</strong> - tunnel 빌드 대역폭 매개변수</li>
<li><strong><a href="../../../../ko/proposals/169-pq-crypto/">제안 169</a>
</strong> - 포스트-양자 하이브리드 암호기술</li>
</ul>
<h3 id="문서">문서</h3>
<ul>
<li><strong><a href="../../../../ko/docs/overview/garlic-routing/">Garlic 라우팅</a>
</strong> - 계층화된 메시지 번들링</li>
<li><strong><a href="../../../../ko/docs/legacy/elgamal-aes/">ElGamal/AES</a>
</strong> - 사용 중단된 암호화 방식</li>
<li><strong><a href="../../../../ko/docs/specs/implementation/">Tunnel 구현</a>
</strong> - 단편화 및 처리</li>
<li><strong><a href="../../../../ko/docs/specs/common-structures/">네트워크 데이터베이스</a>
</strong> - 분산 해시 테이블</li>
<li><strong><a href="../../../../ko/docs/specs/ntcp2/">NTCP2 전송</a>
</strong> - TCP 전송 명세</li>
<li><strong><a href="../../../../ko/docs/specs/ssu2/">SSU2 전송</a>
</strong> - UDP 전송 명세</li>
<li><strong><a href="../../../../ko/docs/overview/tech-intro/">기술 소개</a>
</strong> - I2P 아키텍처 개요</li>
</ul>
<h3 id="소스-코드">소스 코드</h3>
<ul>
<li><strong><a href="https://i2pgit.org/I2P_Developers/i2p.i2p">Java I2P 저장소</a>
</strong> - 공식 Java 구현</li>
<li><strong><a href="https://github.com/i2p/i2p.i2p">GitHub 미러</a>
</strong> - Java I2P의 GitHub 미러</li>
<li><strong><a href="https://github.com/PurpleI2P/i2pd">i2pd 저장소</a>
</strong> - C++ 구현</li>
</ul>
<h3 id="주요-소스-코드-위치">주요 소스 코드 위치</h3>
<p><strong>Java I2P (i2pgit.org/I2P_Developers/i2p.i2p):</strong> - <code>core/java/src/net/i2p/data/i2np/</code> - I2NP 메시지 구현 - <code>core/java/src/net/i2p/crypto/</code> - 암호화 구현 - <code>router/java/src/net/i2p/router/tunnel/</code> - Tunnel 처리 - <code>router/java/src/net/i2p/router/transport/</code> - 전송 구현</p>
<p><strong>상수와 값:</strong> - <code>I2NPMessage.MAX_SIZE = 65536</code> - I2NP 메시지 최대 크기 - <code>I2NPMessageImpl.HEADER_LENGTH = 16</code> - 표준 헤더 크기 - <code>TunnelDataMessage.DATA_LENGTH = 1024</code> - tunnel 메시지 페이로드 - <code>EncryptedBuildRecord.RECORD_SIZE = 528</code> - 긴 빌드 레코드 - <code>ShortEncryptedBuildRecord.RECORD_SIZE = 218</code> - 짧은 빌드 레코드 - <code>TunnelBuildMessageBase.MAX_RECORD_COUNT = 8</code> - 빌드당 최대 레코드 수</p>
<hr>
<h2 id="부록-a-네트워크-통계-및-현재-상태">부록 A: 네트워크 통계 및 현재 상태</h2>
<h3 id="네트워크-구성-2025년-10월-기준">네트워크 구성 (2025년 10월 기준)</h3>
<ul>
<li><strong>총 routers:</strong> 약 60,000-70,000 (변동)</li>
<li><strong>Floodfill routers:</strong> 약 500-700개 활성 상태</li>
<li><strong>암호화 유형:</strong>
<ul>
<li>ECIES-X25519: routers 중 &gt;95%</li>
<li>ElGamal: routers 중 &lt;5% (더 이상 사용되지 않음, 레거시 전용)</li>
</ul>
</li>
<li><strong>전송 채택 현황:</strong>
<ul>
<li>SSU2: &gt;60% 주요 전송</li>
<li>NTCP2: ~40% 주요 전송</li>
<li>레거시 전송(SSU1, NTCP): 0% (제거됨)</li>
</ul>
</li>
<li><strong>서명 유형:</strong>
<ul>
<li>EdDSA (Ed25519): 대다수</li>
<li>ECDSA: 소수</li>
<li>RSA: 허용되지 않음 (제거됨)</li>
</ul>
</li>
</ul>
<h3 id="최소-router-요구-사항">최소 Router 요구 사항</h3>
<ul>
<li><strong>API 버전:</strong> 0.9.16+ (네트워크와의 EdDSA 호환성 확보용)</li>
<li><strong>권장 최소:</strong> API 0.9.51+ (ECIES 짧은 tunnel 빌드)</li>
<li><strong>floodfills(메타데이터를 전파하는 특수 노드)용 현재 최소:</strong> API 0.9.58+ (ElGamal router 사용 중단)</li>
<li><strong>예정 요구사항:</strong> Java 17+ (릴리스 2.11.0 기준, 2025년 12월)</li>
</ul>
<h3 id="대역폭-요구-사항">대역폭 요구 사항</h3>
<ul>
<li><strong>최소:</strong> floodfill(네트워크 데이터베이스를 유포하는 특수 노드)용 128 KBytes/sec (N 플래그 이상)</li>
<li><strong>권장:</strong> 256 KBytes/sec (O 플래그) 이상</li>
<li><strong>Floodfill 요구 사항:</strong>
<ul>
<li>최소 128 KB/sec 대역폭</li>
<li>안정적인 가동 시간(&gt;95% 권장)</li>
<li>낮은 지연 시간(피어까지 &lt;500ms)</li>
<li>상태 검사 통과(대기열 시간, 작업 지연)</li>
</ul>
</li>
</ul>
<h3 id="tunnel-통계">Tunnel 통계</h3>
<ul>
<li><strong>일반적인 tunnel 길이:</strong> 3-4 홉</li>
<li><strong>최대 tunnel 길이:</strong> 8 홉 (이론상, 거의 사용되지 않음)</li>
<li><strong>일반적인 tunnel 수명:</strong> 10분</li>
<li><strong>tunnel 구축 성공률:</strong> 연결성이 좋은 router의 경우 &gt;85%</li>
<li><strong>tunnel 구축 메시지 형식:</strong>
<ul>
<li>ECIES(타원곡선 통합 암호화 방식) router: ShortTunnelBuild (218바이트 레코드)</li>
<li>혼합 tunnel: VariableTunnelBuild (528바이트 레코드)</li>
</ul>
</li>
</ul>
<h3 id="성능-지표">성능 지표</h3>
<ul>
<li><strong>Tunnel 구축 시간:</strong> 1-3초 (일반적)</li>
<li><strong>엔드 투 엔드 지연:</strong> 0.5-2초 (일반적, 총 6-8 홉)</li>
<li><strong>처리량:</strong> tunnel 대역폭에 의해 제한됨 (일반적으로 tunnel당 10-50 KB/sec)</li>
<li><strong>최대 데이터그램 크기:</strong> 10 KB 권장 (이론상 최대 61.2 KB)</li>
</ul>
<hr>
<h2 id="부록-b-사용-중단-및-제거된-기능">부록 B: 사용 중단 및 제거된 기능</h2>
<h3 id="완전히-제거됨-더-이상-지원되지-않음">완전히 제거됨 (더 이상 지원되지 않음)</h3>
<ul>
<li><strong>NTCP 전송</strong> - 0.9.50 릴리스에서 제거됨 (2021년 5월)</li>
<li><strong>SSU v1 전송</strong> - Java I2P의 2.4.0 릴리스에서 제거됨 (2023년 12월)</li>
<li><strong>SSU v1 전송</strong> - i2pd의 2.44.0 릴리스에서 제거됨 (2022년 11월)</li>
<li><strong>RSA 서명 유형</strong> - API 0.9.28부터 허용되지 않음</li>
</ul>
<h3 id="사용-중단됨지원되지만-권장하지-않음">사용 중단됨(지원되지만 권장하지 않음)</h3>
<ul>
<li><strong>ElGamal routers</strong> - API 0.9.58 (2023년 3월)부터 사용 중단됨
<ul>
<li>ElGamal 목적지는 이전 버전과의 호환성을 위해 여전히 지원됨</li>
<li>새로운 routers는 ECIES-X25519만 사용해야 함</li>
</ul>
</li>
<li><strong>TunnelBuild (type 21)</strong> - VariableTunnelBuild 및 ShortTunnelBuild로 대체되어 사용 중단됨
<ul>
<li>매우 긴 tunnels (&gt;8 홉)에는 여전히 구현되어 있음</li>
</ul>
</li>
<li><strong>TunnelBuildReply (type 22)</strong> - VariableTunnelBuildReply 및 OutboundTunnelBuildReply로 대체되어 사용 중단됨</li>
<li><strong>ElGamal/AES encryption</strong> - ECIES-X25519-AEAD-Ratchet로 대체되어 사용 중단됨
<ul>
<li>레거시 목적지에서는 여전히 사용됨</li>
</ul>
</li>
<li><strong>Long ECIES BuildRequestRecords (528 bytes)</strong> - 짧은 형식 (218 바이트)으로 대체되어 사용 중단됨
<ul>
<li>ElGamal 홉이 포함된 혼합 tunnels에서는 여전히 사용됨</li>
</ul>
</li>
</ul>
<h3 id="레거시-지원-일정">레거시 지원 일정</h3>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Feature</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Introduced</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Deprecated</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;">Removed</th>
      <th style="border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;">Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">NTCP</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2003</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2018 (0.9.36)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2021 (0.9.50)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Replaced by NTCP2</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">SSU v1</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2004</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2022 (0.9.54)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2023 (Java) / 2022 (i2pd)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Replaced by SSU2</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">ElGamal routers</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2003</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2023 (0.9.58)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">TBD</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Destinations still supported</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">RSA signatures</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2015</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2017</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2017 (0.9.28)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Never widely used</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">TunnelBuild</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2004</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">2009 (0.7.12)</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem; text-align:center;">Not removed</td>
      <td style="border:1px solid var(--color-border); padding:0.5rem;">Still supported for long tunnels</td>
    </tr>
  </tbody>
</table>
---
<h2 id="부록-c-향후-개발">부록 C: 향후 개발</h2>
<h3 id="양자내성-암호">양자내성 암호</h3>
<p><strong>상태:</strong> 2.10.0 릴리스(2025년 9월) 기준 베타이며, 2.11.0(2025년 12월)부터 기본 설정이 됩니다</p>
<p><strong>구현:</strong> - 전통적인 X25519와 포스트-양자 MLKEM (ML-KEM-768)을 결합한 하이브리드 접근 방식 - 기존 ECIES-X25519 인프라와 하위 호환 - 전통적인 및 포스트-양자(PQ) 키 자료를 모두 사용하는 Signal Double Ratchet(이중 래칫 프로토콜) 사용 - 자세한 내용은 <a href="../../../../ko/proposals/169-pq-crypto/">Proposal 169</a>
를 참조하세요</p>
<p><strong>마이그레이션 경로:</strong> 1. 릴리스 2.10.0 (2025년 9월): 베타 옵션으로 제공 2. 릴리스 2.11.0 (2025년 12월): 기본적으로 활성화 3. 향후 릴리스: 결국 필수</p>
<h3 id="계획된-기능">계획된 기능</h3>
<ul>
<li><strong>IPv6 개선</strong> - 향상된 IPv6 지원과 전환 메커니즘</li>
<li><strong>tunnel별 스로틀링</strong> - 세밀한 tunnel별 대역폭 제어</li>
<li><strong>향상된 메트릭</strong> - 더 나은 성능 모니터링과 진단</li>
<li><strong>프로토콜 최적화</strong> - 오버헤드 감소와 효율성 향상</li>
<li><strong>향상된 floodfill 선택</strong> - 더 나은 네트워크 데이터베이스 분산</li>
</ul>
<h3 id="연구-분야">연구 분야</h3>
<ul>
<li><strong>Tunnel 길이 최적화</strong> - 위협 모델 기반의 동적 Tunnel 길이</li>
<li><strong>고급 패딩</strong> - 트래픽 분석 저항성 개선</li>
<li><strong>새로운 암호화 방식</strong> - 양자 컴퓨팅 위협 대비</li>
<li><strong>혼잡 제어</strong> - 네트워크 부하 처리 개선</li>
<li><strong>모바일 지원</strong> - 모바일 기기와 네트워크를 위한 최적화</li>
</ul>
<hr>
<h2 id="부록-d-구현-지침">부록 D: 구현 지침</h2>
<h3 id="새로운-구현을-위한">새로운 구현을 위한</h3>
<p><strong>최소 요구 사항:</strong> 1. API 버전 0.9.51+ 기능 지원 2. ECIES-X25519-AEAD-Ratchet 암호화 구현 3. NTCP2 및 SSU2 transports(전송 프로토콜) 지원 4. ShortTunnelBuild 메시지 구현(218바이트 레코드) 5. LeaseSet2 변형 지원(유형 3, 5, 7) 6. EdDSA 서명 사용(Ed25519)</p>
<p><strong>권장:</strong> 1. 포스트-양자 하이브리드 암호 지원(2.11.0 기준) 2. tunnel별 대역폭 매개변수 구현 3. Datagram2 및 Datagram3 형식 지원(개선된 I2P 데이터그램 형식 버전 2/3) 4. LeaseSets에서 서비스 레코드 옵션 구현 5. /docs/specs/의 공식 사양 준수</p>
<p><strong>필수 아님:</strong> 1. ElGamal router 지원 (사용 중단됨) 2. 레거시 트랜스포트 지원 (SSU1, NTCP) 3. 긴 ECIES BuildRequestRecords(빌드 요청 레코드; 순수 ECIES tunnels의 경우 528바이트) 4. TunnelBuild/TunnelBuildReply 메시지 (Variable 또는 Short 변형 사용)</p>
<h3 id="테스트-및-검증">테스트 및 검증</h3>
<p><strong>프로토콜 준수:</strong> 1. 공식 Java I2P router와 상호운용성 테스트 2. i2pd C++ router와 상호운용성 테스트 3. 명세에 따른 메시지 형식 검증 4. tunnel 구축/해제 사이클 테스트 5. 테스트 벡터로 암호화/복호화 검증</p>
<p><strong>성능 테스트:</strong> 1. tunnel 구축 성공률을 측정(85% 초과여야 함) 2. 다양한 tunnel 길이(2-8홉)로 테스트 3. 단편화와 재조립을 검증 4. 부하 상태에서 테스트(동시에 여러 개의 tunnel) 5. 종단 간 지연시간을 측정</p>
<p><strong>보안 테스트:</strong> 1. 암호화 구현을 검증 (테스트 벡터 사용) 2. 리플레이 공격 방지 기능을 테스트 3. 메시지 만료 처리의 유효성 검증 4. 잘못 형식화된 메시지에 대한 테스트 5. 난수 생성이 적절한지 검증</p>
<h3 id="구현-시-흔한-함정">구현 시 흔한 함정</h3>
<ol>
<li><strong>혼란스러운 전달 지시 형식</strong> - garlic clove(garlic encryption에서 단일 메시지 조각) vs tunnel 메시지</li>
<li><strong>잘못된 키 도출</strong> - 짧은 빌드 레코드를 위한 HKDF 사용</li>
<li><strong>메시지 ID 처리</strong> - tunnel 빌드에서 올바르게 설정하지 않음</li>
<li><strong>분할 문제</strong> - 61.2 KB의 실질적 한계를 준수하지 않음</li>
<li><strong>엔디언 오류</strong> - Java는 모든 정수에 big-endian을 사용함</li>
<li><strong>만료 처리</strong> - Short 형식은 2106년 2월 7일에 순환(wrap)됨</li>
<li><strong>체크섬 생성</strong> - 검증하지 않더라도 여전히 필요함</li>
</ol>

                </article>

                
                <nav class="page-nav">
                    
                        <a href="../../../../ko/docs/specs/i2cp/" class="page-nav-link prev">
                            <span class="nav-label">← Previous</span>
                            <span class="nav-title">I2P 클라이언트 프로토콜 (I2CP)</span>
                        </a>
                    
                    
                        <a href="../../../../ko/docs/specs/ecies-hybrid/" class="page-nav-link next">
                            <span class="nav-label">Next →</span>
                            <span class="nav-title">ECIES-X25519-AEAD-Ratchet 하이브리드 암호화</span>
                        </a>
                    
                </nav>

                
                <div class="docs-feedback">
                    <p>Was this page helpful?</p>
                    <div class="feedback-buttons" id="feedback-buttons">
                        <button class="feedback-btn" id="feedback-yes">👍 Yes</button>
                        <button class="feedback-btn" id="feedback-no">👎 No</button>
                    </div>

                    
                    <div class="feedback-form-container" id="feedback-form-container" style="display: none;">
                        <p class="feedback-form-title">We're sorry to hear that. How can we improve this page?</p>
                        <form id="feedback-form">
                            <div class="form-group">
                                <label for="feedback-email">Email (optional - if you'd like a response)</label>
                                <input type="email" id="feedback-email" name="email" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label for="feedback-message">Feedback *</label>
                                <textarea id="feedback-message" name="message" rows="4" required placeholder="Tell us what we can improve..."></textarea>
                            </div>
                            <button type="submit" class="btn-submit-feedback" id="feedback-submit-btn">
                                <span class="btn-text">Submit Feedback</span>
                                <span class="btn-loading" style="display: none;">Sending...</span>
                            </button>
                        </form>
                    </div>

                    
                    <div class="feedback-message" id="feedback-success" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2"/>
                        </svg>
                        <span id="feedback-success-text">Thanks for your feedback!</span>
                    </div>
                    <div class="feedback-message feedback-error" id="feedback-error" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <path d="M12 8v4M12 16h.01" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span id="feedback-error-text">Something went wrong. Please try again.</span>
                    </div>

                    <p class="feedback-note">
                        Found an issue? <a href="https://gitlab.com/stormycloud-group/i-2-p-www-v-2/-/blob/main/hugo-site/content/ko/docs/specs/i2np.md?ref_type=heads" target="_blank">Edit this page on GitLab</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.docs-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.article-header {
    margin-bottom: var(--spacing-2xl);
}

.article-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--color-text);
}

.article-description {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-md);
}

.article-meta {
    display: flex;
    gap: var(--spacing-lg);
    flex-wrap: wrap;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.meta-item svg {
    color: var(--color-primary);
}

 
.docs-layout {
    display: block;
}

.docs-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.docs-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.docs-main {
    min-width: 0;
    max-width: 900px;
}

 
.article-content {
    line-height: 1.8;
    color: var(--color-text);
}

.article-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.article-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.article-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.article-content p {
    margin-bottom: var(--spacing-md);
}

.article-content ul,
.article-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.article-content li {
    margin-bottom: var(--spacing-xs);
}

.article-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.article-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
}

.article-content pre code {
    background: none;
    padding: 0;
}

.article-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

.article-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.article-content a:hover {
    border-bottom-color: var(--color-primary);
}

 
.page-nav {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
}

.page-nav-link {
    display: flex;
    flex-direction: column;
    padding: var(--spacing-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
}

.page-nav-link.next {
    text-align: right;
}

.nav-label {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xs);
}

.nav-title {
    font-weight: 600;
    color: var(--color-text);
}

 
.docs-feedback {
    margin-top: var(--spacing-2xl);
    padding: var(--spacing-lg);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-md);
    text-align: center;
}

.feedback-buttons {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    margin: var(--spacing-md) 0;
}

.feedback-btn {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.feedback-btn:hover {
    border-color: var(--color-primary);
    background: var(--color-primary);
    color: white;
}

.feedback-note {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-top: var(--spacing-md);
}

.feedback-note a {
    color: var(--color-primary);
    text-decoration: none;
}

.feedback-note a:hover {
    text-decoration: underline;
}

 
.feedback-form-container {
    margin-top: var(--spacing-lg);
    padding: var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-align: left;
}

.feedback-form-title {
    font-weight: 600;
    margin-bottom: var(--spacing-md);
    color: var(--color-text);
}

.form-group {
    margin-bottom: var(--spacing-md);
}

.form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--color-text);
}

.form-group input[type="email"],
.form-group textarea {
    width: 100%;
    padding: var(--spacing-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg);
    color: var(--color-text);
    font-family: inherit;
    font-size: 0.9375rem;
    transition: border-color var(--transition-fast);
}

.form-group input[type="email"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color-primary);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

.btn-submit-feedback {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.btn-submit-feedback:hover:not(:disabled) {
    background: var(--color-primary-dark);
    transform: translateY(-1px);
}

.btn-submit-feedback:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

 
.feedback-message {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background: #d1fae5;
    color: #065f46;
    border-radius: var(--radius-md);
    margin-top: var(--spacing-md);
}

.feedback-message.feedback-error {
    background: #fee2e2;
    color: #991b1b;
}

.feedback-message svg {
    flex-shrink: 0;
}

 
@media (max-width: 1024px) {
    .docs-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .docs-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .article-title {
        font-size: 1.75rem;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



<script>
(function() {
    'use strict';
    
    
    let baseUrl = window.feedbackBaseUrl;
    if (!baseUrl) {
        const hostname = window.location.hostname;
        
        if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
            baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
        } else if (hostname.endsWith('.onion')) {
            baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
        } else {
            baseUrl = 'https://feedback.i2p.net';
        }
    }
    
    const script = document.createElement('script');
    script.src = baseUrl + '/widgets/docs-feedback.js';
    script.async = true;
    script.onerror = function() {
        console.error('[Docs Feedback] Failed to load docs-feedback.js from:', baseUrl);
    };
    document.body.appendChild(script);
})();
</script>


    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">I2P 뉴스 받기:</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="이메일을 입력하세요" required>
                            <button type="submit">구독하기</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>빠른 링크</h3>
                <ul>
                    <li><a href="../../../../ko/financial-support/">기부하기</a></li>
                    <li><a href="../../../../ko/docs/overview/intro/">I2P 소개</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>커뮤니티</h3>
                <ul>
                    <li><a href="../../../../ko/get-involved/">참여하기</a></li>
                    <li><a href="../../../../ko/blog/">블로그</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">공식 포럼</a></li>
                    <li><a href="../../../../ko/contact/">연락처</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>리소스</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">I2P 메트릭</a></li>
                    <li><a href="../../../../ko/papers/">연구</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">스톰이클라우드</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 Invisible Internet Project. Creative Commons 라이선스 적용.</p>
            <div class="footer-links">
                <a href="../../../../ko/privacy/">개인정보 처리방침</a>
                <a href="../../../../ko/terms/">이용 약관</a>
                <a href="../../../../ko/about/media/">언론</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="닫기">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>커뮤니티 설문 조사</h2>
            <p class="modal-subtitle">귀하의 의견을 듣고 싶습니다</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                귀하의 투표는 I2P의 미래를 형성하는 데 도움이 됩니다.
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>