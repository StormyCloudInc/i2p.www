<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Documentation on I2P - 隐形互联网项目</title>
    <link>/zh/docs/</link>
    <description>Recent content in Documentation on I2P - 隐形互联网项目</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <atom:link href="/zh/docs/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>I2P Router 故障排除指南</title>
      <link>/zh/docs/troubleshooting/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/troubleshooting/</guid>
      <description>&lt;p&gt;I2P router 最常见的故障原因是 &lt;strong&gt;端口转发问题&lt;/strong&gt;、&lt;strong&gt;带宽分配不足&lt;/strong&gt; 和 &lt;strong&gt;引导时间不足&lt;/strong&gt;。这三项占已报告问题的 70% 以上。该 router 启动后至少需要 &lt;strong&gt;10-15 分钟&lt;/strong&gt; 才能完全融入网络、至少 &lt;strong&gt;128 KB/秒 的最低带宽&lt;/strong&gt;（建议 256 KB/秒），以及正确的 &lt;strong&gt;UDP/TCP 端口转发&lt;/strong&gt;，才能达到非防火墙状态（未被防火墙阻挡）。新用户常常期望立即连通并过早重启，这会重置接入进度，形成令人沮丧的循环。本指南为 2.10.0 及更高版本中所有主要 I2P 问题提供了详细的解决方案。&lt;/p&gt;&#xA;&lt;p&gt;I2P 的匿名架构通过多跳加密的 tunnel，从根本上以牺牲速度换取隐私。理解这一基本设计有助于用户设定合理预期并更有效地进行故障排查，而不是把正常行为误判为问题。&lt;/p&gt;&#xA;&lt;h2 id=&#34;router-无法启动或立即崩溃&#34;&gt;Router 无法启动或立即崩溃&lt;/h2&gt;&#xA;&lt;p&gt;最常见的启动失败通常由&lt;strong&gt;端口冲突&lt;/strong&gt;、&lt;strong&gt;Java 版本不兼容&lt;/strong&gt;或&lt;strong&gt;配置文件损坏&lt;/strong&gt;引起。在深入排查之前，先检查是否已有其他 I2P 实例正在运行。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;确认没有冲突的进程：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;Linux: &lt;code&gt;ps aux | grep i2p&lt;/code&gt; 或 &lt;code&gt;netstat -tulpn | grep 7657&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;Windows: 任务管理器 → 详细信息 → 查找命令行中包含 i2p 的 java.exe&lt;/p&gt;&#xA;&lt;p&gt;macOS：活动监视器 → 搜索“i2p”&lt;/p&gt;&#xA;&lt;p&gt;如果存在僵尸进程，杀死它：&lt;code&gt;pkill -9 -f i2p&lt;/code&gt; (Linux/Mac) 或 &lt;code&gt;taskkill /F /IM javaw.exe&lt;/code&gt; (Windows)&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;检查 Java 版本兼容性：&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>I2P 文档撰写指南</title>
      <link>/zh/docs/writing-guidelines/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/writing-guidelines/</guid>
      <description>&lt;p&gt;&lt;strong&gt;目的:&lt;/strong&gt; 确保 I2P 技术文档的一致性、准确性和可访问性&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;核心原则&#34;&gt;核心原则&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-验证一切&#34;&gt;1. 验证一切&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;切勿臆测或猜测。&lt;/strong&gt; 所有技术陈述都必须依据以下内容进行核验： - 当前的 I2P 源代码 (&lt;a href=&#34;https://i2pgit.org/I2P_Developers/i2p.i2p/src/branch/master&#34;&gt;https://i2pgit.org/I2P_Developers/i2p.i2p/src/branch/master&lt;/a&gt;&#xA;) - 官方 API 文档 (&lt;a href=&#34;https://i2p.github.io/i2p.i2p/&#34;&gt;https://i2p.github.io/i2p.i2p/&lt;/a&gt;&#xA;  - 配置规范 &lt;a href=&#34;../../zh/docs/&#34;&gt;/docs/specs/&lt;/a&gt;&#xA; - 最新发行说明 &lt;a href=&#34;../../zh/categories/release/&#34;&gt;/releases/&lt;/a&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;正确验证的示例：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;❌ BAD: &amp;#34;The ClientApp interface probably requires three constructor parameters.&amp;#34;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;✅ GOOD: &amp;#34;The ClientApp interface requires this constructor signature: &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         public MyClientApp(I2PAppContext context, ClientAppManager manager, String[] args)&amp;#34;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-清晰优先于简洁&#34;&gt;2. 清晰优先于简洁&lt;/h3&gt;&#xA;&lt;p&gt;写给可能第一次接触 I2P 的开发者。不要假定读者已有相关知识，应当完整、充分地解释各个概念。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;示例：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;❌ BAD: &amp;#34;Use the port mapper for service discovery.&amp;#34;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;✅ GOOD: &amp;#34;The port mapper offers a simple directory for internal TCP services. &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         Register loopback ports so other applications can discover your service &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         without hardcoded addresses.&amp;#34;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;3-无障碍优先&#34;&gt;3. 无障碍优先&lt;/h3&gt;&#xA;&lt;p&gt;尽管 I2P 是一个叠加网络，文档仍必须在明网（常规互联网）上对开发者可用。请始终为 I2P 内部资源提供可在明网访问的替代方案。&lt;/p&gt;</description>
    </item>
    <item>
      <title>NTCP 讨论</title>
      <link>/zh/docs/ntcp/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/ntcp/</guid>
      <description>&lt;h2 id=&#34;ntcp-与-ssu-的讨论2007-年-3-月&#34;&gt;NTCP 与 SSU 的讨论（2007 年 3 月）&lt;/h2&gt;&#xA;&lt;h3 id=&#34;ntcp-问题&#34;&gt;NTCP 问题&lt;/h3&gt;&#xA;&lt;p&gt;&lt;em&gt;改编自 zzz 与 cervantes 在 IRC 上的对话。&lt;/em&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;为何在 NTCP 看起来会增加开销和延迟时，仍然让 NTCP 相比 SSU 具有更高优先级？&lt;/strong&gt;&lt;br&gt;&#xA;与最初的 SSU 实现相比，NTCP 通常提供更高的可靠性。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;通过 NTCP 进行流式传输会遭遇经典的 TCP-over-TCP 崩溃吗？&lt;/strong&gt;&lt;br&gt;&#xA;有可能；但 SSU 原本旨在作为轻量级的 UDP 选项，实践中却被证明过于不可靠。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;ntcpi2p-的旧版传输协议被认为有害-zzz-2007年3月25日&#34;&gt;“NTCP（I2P 的旧版传输协议）被认为有害” (zzz, 2007年3月25日)&lt;/h3&gt;&#xA;&lt;p&gt;摘要：NTCP 更高的时延和开销可能导致拥塞，然而路由选择更偏向 NTCP，因为其 bid scores（竞价分值）被硬编码为比 SSU 更低。该分析提出了若干要点：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;NTCP 当前的竞价值低于 SSU，因此 routers 更倾向于 NTCP，除非已建立 SSU 会话。&lt;/li&gt;&#xA;&lt;li&gt;SSU 通过严格受限的超时和统计来实现确认机制；NTCP 依赖 Java NIO TCP，采用可能更长的 RFC 风格超时。&lt;/li&gt;&#xA;&lt;li&gt;大多数流量（HTTP、IRC、BitTorrent）使用 I2P 的 streaming 库，实际效果是在 NTCP 之上再叠加一层 TCP。当两层都进行重传时，可能出现拥塞崩溃。经典参考包括 &lt;a href=&#34;http://sites.inka.de/~W1011/devel/tcp-tcp.html&#34;&gt;在 TCP 之上再跑 TCP 是个坏主意&lt;/a&gt;&#xA;。&lt;/li&gt;&#xA;&lt;li&gt;在 0.8 版中，streaming 库的超时从 10 秒增加到 45 秒；SSU 的最大超时为 3 秒，而 NTCP 的超时被认为接近 60 秒（RFC 建议）。NTCP 的参数很难从外部检查。&lt;/li&gt;&#xA;&lt;li&gt;2007 年的实地观测显示 i2psnark 的上传吞吐量呈振荡，暗示存在周期性的拥塞崩溃。&lt;/li&gt;&#xA;&lt;li&gt;效率测试（强制偏好 SSU）将 tunnel 开销比从约 3.5:1 降至 3:1，并改进了 streaming 指标（窗口大小、RTT、发送/确认比）。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;2007-年讨论串中的提案&#34;&gt;2007 年讨论串中的提案&lt;/h4&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;切换传输优先级&lt;/strong&gt;，使 routers 更倾向于 SSU（恢复 &lt;code&gt;i2np.udp.alwaysPreferred&lt;/code&gt;）。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;为 Streaming（流式库）流量打标签&lt;/strong&gt;，使 SSU 仅对带标签的消息降低竞价，且不损害匿名性。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;收紧 SSU 重传界限&lt;/strong&gt;，以降低崩溃（拥塞崩溃）风险。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;研究半可靠的下层承载&lt;/strong&gt;，以判断在 Streaming（流式库）之下进行重传是否总体上有利。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;审查优先级队列与超时设置&lt;/strong&gt;—例如，将 Streaming 超时提高到超过 45 s，以与 NTCP 保持一致。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 id=&#34;jrandom-的回复-2007年3月27日&#34;&gt;jrandom 的回复 (2007年3月27日)&lt;/h3&gt;&#xA;&lt;p&gt;关键反驳点：&lt;/p&gt;</description>
    </item>
    <item>
      <title>网络数据库讨论</title>
      <link>/zh/docs/netdb/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/netdb/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt; 本存档讨论概述了针对网络数据库（netDb）的历史性方法。有关当前行为和指导，请参阅&lt;a href=&#34;../../zh/docs/specs/common-structures/&#34;&gt;netDb 主文档&lt;/a&gt;&#xA;。&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;历史&#34;&gt;历史&lt;/h2&gt;&#xA;&lt;p&gt;I2P 的 netDb 使用一种简单的 floodfill 算法进行分发。早期版本还保留了一个 Kademlia DHT 的后备实现，但事实证明它不可靠，并在 0.6.1.20 版本中被完全禁用。floodfill 的设计会将发布的条目转发给一个参与的 router，等待确认，并在必要时与其他 floodfill 对等体重试。floodfill 对等体会将来自非 floodfill router 的存储消息广播给所有其他 floodfill 参与者。&lt;/p&gt;&#xA;&lt;p&gt;在2009年末，为了减轻各个 floodfill routers 的存储负担，Kademlia 查询被部分重新引入。&lt;/p&gt;&#xA;&lt;h3 id=&#34;floodfill-简介&#34;&gt;floodfill 简介&lt;/h3&gt;&#xA;&lt;p&gt;floodfill 最初出现在 0.6.0.4 版本中，而 Kademlia（一种分布式哈希表算法）仍作为后备方案可用。当时，严重的丢包和受限的路由使得从四个最近的对等节点获取确认变得困难，往往需要进行数十次冗余的存储尝试。转而采用由外部可达 routers 组成的 floodfill 子集，提供了一个务实的短期解决方案。&lt;/p&gt;&#xA;&lt;h3 id=&#34;重新思考-kademlia分布式哈希表协议&#34;&gt;重新思考 Kademlia（分布式哈希表协议）&lt;/h3&gt;&#xA;&lt;p&gt;曾考虑的替代方案包括：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;将 netDb 作为 Kademlia DHT（Kademlia 分布式哈希表）运行，且仅限选择参与并可达的 routers&lt;/li&gt;&#xA;&lt;li&gt;保留 floodfill 模型，但将参与限制为有能力的 routers，并通过随机检查验证分布情况&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;floodfill 方法之所以胜出，是因为它更易于部署，而且 netDb 只承载元数据，而不承载用户数据。大多数目的地从不发布 LeaseSet，因为发送方通常会在 garlic messages（I2P 中用于将多条消息捆绑的封装机制）中捆绑其 LeaseSet。&lt;/p&gt;&#xA;&lt;h2 id=&#34;当前状态历史视角&#34;&gt;当前状态（历史视角）&lt;/h2&gt;&#xA;&lt;p&gt;netDb（网络数据库）算法经过针对网络需求的调优，并且从历史上看可以从容应对几百个 router。早期的估算表明，3–5 个 floodfill router（负责存储和分发 netDb 条目的特殊 router）即可支撑大约 10,000 个节点。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
