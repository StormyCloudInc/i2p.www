<!DOCTYPE html>
<html lang="zh" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Router 配置 | I2P - 隐形互联网项目</title>

    <meta name="description" content="I2P routers 和客户端的配置选项与格式">
    <meta name="keywords" content="i2p, privacy, anonymity, dark net, encryption, security">

    
    <meta property="og:title" content="Router 配置 | I2P - 隐形互联网项目">
    <meta property="og:description" content="I2P routers 和客户端的配置选项与格式">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/zh/docs/specs/configuration/">

    
    <link rel="icon" type="image/svg+xml" href="../../../../images/favicon.svg">
    <link rel="icon" type="image/png" href="../../../../images/i2plogo.png" sizes="32x32">

    
    
    
    
    <link rel="stylesheet" href="../../../../css/main.min.be6880f32f5ff44e57579da7b11513b973319944ebe38748e3ac7f3268662d18.css" integrity="sha256-vmiA8y9f9E5XV52nsRUTuXMxmUTr44dI46x/MmhmLRg=">
    


    
</head>

<body>
    
    <input type="checkbox" id="theme-toggle-checkbox" class="theme-checkbox" aria-hidden="true">

    
<div class="site-banner" id="site-banner" data-banner-id="banner-3" role="alert" aria-live="polite">
    <div class="container">
        <div class="banner-content">
            <span class="banner-message">I2P 测试版网站现已上线 电子邮件问题请发送至 stormycloud@mail.i2p</span>
            
        </div>
        
        <form method="GET" action="../../../../api/banner/dismiss" style="display: inline;">
            <input type="hidden" name="id" value="banner-3">
            <button type="submit" class="banner-close" aria-label="关闭横幅" title="关闭横幅">
                <span aria-hidden="true">&times;</span>
            </button>
        </form>
        
    </div>
</div>


    <header class="site-header">
    <div class="container">
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="../../../../zh/" class="logo-link">
                    <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="logo logo-light">
                    <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="logo logo-dark">
                </a>
            </div>

            
            <input type="checkbox" id="mobile-menu-checkbox" class="mobile-menu-checkbox"
                aria-label="Toggle navigation menu">
            <label for="mobile-menu-checkbox" class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger"></span>
            </label>

            <div class="nav-menu">
                <ul class="nav-links">
                    <li class="nav-dropdown">
                        <a href="../../../../zh/about/" class="">关于</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../zh/about/">概览</a></li>
                            <li><a href="../../../../zh/papers/">研究论文</a></li>
                            <li><a href="../../../../zh/about/media/">媒体</a></li>
                            <li><a href="../../../../zh/contact/">联系我们</a></li>
                        </ul>
                    </li>
                    <li><a href="../../../../zh/docs/" class="active">文档</a></li>
                    <li><a href="../../../../zh/downloads/" class="">下载</a></li>
                    <li><a href="../../../../zh/blog/" class="">博客</a></li>
                    <li class="nav-dropdown">
                        <a href="../../../../zh/get-involved/" class="">参与其中</a>
                        <ul class="dropdown-menu">
                            <li><a href="../../../../zh/get-involved/">概览</a></li>
                            <li><a href="../../../../zh/feedback/">功能建议</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav-actions">
                    
                    <div class="language-selector">
                        <button class="language-toggle" aria-label="Select language" title="Language">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                            <span class="current-lang">zh</span>
                        </button>
                        <div class="language-dropdown">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../en/docs/specs/configuration/"
                                class="lang-option">英语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../es/docs/specs/configuration/"
                                class="lang-option">西班牙语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ko/docs/specs/configuration/"
                                class="lang-option">韩语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../zh/docs/specs/configuration/"
                                class="lang-option active">中文</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ru/docs/specs/configuration/"
                                class="lang-option">俄语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../cs/docs/specs/configuration/"
                                class="lang-option">捷克语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../de/docs/specs/configuration/"
                                class="lang-option">德语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../fr/docs/specs/configuration/"
                                class="lang-option">法语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../tr/docs/specs/configuration/"
                                class="lang-option">土耳其语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../vi/docs/specs/configuration/"
                                class="lang-option">越南语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../hi/docs/specs/configuration/"
                                class="lang-option">印地语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../ar/docs/specs/configuration/"
                                class="lang-option">阿拉伯语</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            <a href="../../../../pt/docs/specs/configuration/"
                                class="lang-option">葡萄牙语</a>
                            
                            
                        </div>
                    </div>

                    
                    <label for="theme-toggle-checkbox" class="theme-toggle" aria-label="Toggle dark mode"
                        title="Toggle theme">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </label>

                    
                    <a href="../../../../zh/financial-support/" class="btn btn-primary" id="donate-btn">Donate</a>

                    
                    <a href="../../../../zh/downloads/" class="btn btn-primary">获取I2P</a>
                </div>
            </div>
        </nav>
    </div>
</header>

    <main id="main-content">
        




<div class="docs-page">
    <div class="container">
        
        <div class="docs-layout docs-layout--with-toc">
            
            
            <aside class="docs-toc-sidebar">
                <nav class="toc-nav">
                    <div class="toc-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        On This Page
                    </div>
                    <div class="toc-content">
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#概述">概述</a>
      <ul>
        <li><a href="#范围">范围</a></li>
        <li><a href="#实现说明">实现说明</a></li>
      </ul>
    </li>
    <li><a href="#通用配置文件格式">通用配置文件格式</a>
      <ul>
        <li><a href="#格式规范">格式规范</a></li>
        <li><a href="#文件排序">文件排序</a></li>
        <li><a href="#实现细节">实现细节</a></li>
        <li><a href="#格式示例">格式示例</a></li>
      </ul>
    </li>
    <li><a href="#核心库与-router-配置">核心库与 Router 配置</a>
      <ul>
        <li><a href="#客户端配置-clientsconfig">客户端配置 (clients.config)</a></li>
        <li><a href="#日志记录器配置-loggerconfig">日志记录器配置 (logger.config)</a></li>
        <li><a href="#插件配置">插件配置</a></li>
        <li><a href="#web-应用程序配置webappsconfig">Web 应用程序配置（webapps.config）</a></li>
        <li><a href="#router-配置-routerconfig">Router 配置 (router.config)</a></li>
      </ul>
    </li>
    <li><a href="#应用程序配置文件">应用程序配置文件</a>
      <ul>
        <li><a href="#地址簿配置-addressbookconfigtxt">地址簿配置 (addressbook/config.txt)</a></li>
        <li><a href="#i2psnark-配置-i2psnarkconfigdi2psnarkconfig">I2PSnark 配置 (i2psnark.config.d/i2psnark.config)</a></li>
        <li><a href="#i2ptunnel-配置-i2ptunnelconfig">I2PTunnel 配置 (i2ptunnel.config)</a></li>
      </ul>
    </li>
    <li><a href="#i2ptunnel-配置参考">I2PTunnel 配置参考</a>
      <ul>
        <li><a href="#基本属性">基本属性</a></li>
        <li><a href="#代理配置">代理配置</a></li>
        <li><a href="#服务器配置">服务器配置</a></li>
        <li><a href="#客户端特定选项">客户端特定选项</a></li>
        <li><a href="#i2cp-选项-i2ptunnel-实现">I2CP 选项 (I2PTunnel 实现)</a></li>
        <li><a href="#服务器特定选项">服务器特定选项</a></li>
        <li><a href="#线程池配置">线程池配置</a></li>
        <li><a href="#http-客户端选项">HTTP 客户端选项</a></li>
        <li><a href="#http-客户端身份验证">HTTP 客户端身份验证</a></li>
        <li><a href="#出口代理认证">出口代理认证</a></li>
        <li><a href="#socks-客户端选项">SOCKS 客户端选项</a></li>
        <li><a href="#http-服务器选项">HTTP 服务器选项</a></li>
        <li><a href="#http-服务器安全选项">HTTP 服务器安全选项</a></li>
        <li><a href="#irc-服务器选项">IRC 服务器选项</a></li>
        <li><a href="#ssltls-配置">SSL/TLS 配置</a></li>
        <li><a href="#通用-i2cp-与-streaming流式传输选项">通用 I2CP 与 Streaming（流式传输）选项</a></li>
        <li><a href="#完整的-tunnel-示例">完整的 Tunnel 示例</a></li>
      </ul>
    </li>
    <li><a href="#版本历史与特性时间线">版本历史与特性时间线</a>
      <ul>
        <li><a href="#版本-0910-2013">版本 0.9.10 (2013)</a></li>
        <li><a href="#版本-0918-2015">版本 0.9.18 (2015)</a></li>
        <li><a href="#版本-09232015年11月">版本 0.9.23（2015年11月）</a></li>
        <li><a href="#版本-09252015">版本 0.9.25（2015）</a></li>
        <li><a href="#版本-0933-2018年1月">版本 0.9.33 (2018年1月)</a></li>
        <li><a href="#版本-09412019-年">版本 0.9.41（2019 年）</a></li>
        <li><a href="#版本-09422019年8月">版本 0.9.42（2019年8月）</a></li>
        <li><a href="#版本-09562021">版本 0.9.56（2021）</a></li>
        <li><a href="#版本-09572023年1月">版本 0.9.57（2023年1月）</a></li>
        <li><a href="#版本-260-2024年7月">版本 2.6.0 (2024年7月)</a></li>
        <li><a href="#版本-2100-2025年9月---至今">版本 2.10.0 (2025年9月 - 至今)</a></li>
      </ul>
    </li>
    <li><a href="#弃用与不兼容变更">弃用与不兼容变更</a>
      <ul>
        <li><a href="#重大弃用">重大弃用</a></li>
        <li><a href="#配置架构变更">配置架构变更</a></li>
        <li><a href="#java-版本要求">Java 版本要求</a></li>
        <li><a href="#已移除的功能">已移除的功能</a></li>
        <li><a href="#推荐的迁移">推荐的迁移</a></li>
      </ul>
    </li>
    <li><a href="#参考资料">参考资料</a>
      <ul>
        <li><a href="#官方文档">官方文档</a></li>
        <li><a href="#源代码">源代码</a></li>
        <li><a href="#社区资源">社区资源</a></li>
        <li><a href="#api-文档">API 文档</a></li>
        <li><a href="#规范状态">规范状态</a></li>
      </ul>
    </li>
  </ul>
</nav>
                    </div>
                </nav>
            </aside>
            

            
            <div class="docs-main">
                
                <nav class="breadcrumbs">
                    <a href="../../../../zh/">Home</a>
                    <span class="separator">/</span>
                    <a href="../../../../zh/docs/">Docs</a>
                    
                        
                            <span class="separator">/</span>
                            <a href="../../../../zh/docs/specs/">Specifications</a>
                        
                    
                    <span class="separator">/</span>
                    <span class="current">Router 配置</span>
                </nav>

                
<div class="translation-disclaimer" role="note">
    <span class="disclaimer-message">此翻译是使用机器学习生成的，可能不是100%准确。</span>
    
    
    <a href="../../../../en/docs/specs/configuration/" class="disclaimer-link">查看英文版本</a>
    
</div>



                
                <header class="article-header">
                    <h1 class="article-title">Router 配置</h1>
                    
                        <p class="article-description">I2P routers 和客户端的配置选项与格式</p>
                    
                    <div class="article-meta">
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Updated: 2025-10
                            </span>
                        
                        
                            <span class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                Accurate for: 2.10.0
                            </span>
                        
                    </div>
                </header>

                
                <article class="article-content">
                    <h2 id="概述">概述</h2>
<p>本文件提供了 I2P 配置文件的全面技术规范，这些配置文件由 router 和各类应用程序使用。内容涵盖文件格式规范、属性定义，以及已根据 I2P 源代码和官方文档核实的实现细节。</p>
<h3 id="范围">范围</h3>
<ul>
<li>Router 的配置文件与格式</li>
<li>客户端应用程序配置</li>
<li>I2PTunnel 的 tunnel 配置</li>
<li>文件格式规范与实现</li>
<li>版本特定的特性与弃用</li>
</ul>
<h3 id="实现说明">实现说明</h3>
<p>配置文件通过 I2P 核心库中的 <code>DataHelper.loadProps()</code> 和 <code>storeProps()</code> 方法进行读写。该文件格式与 I2P 协议中使用的序列化格式有显著差异（参见<a href="../../../../zh/docs/specs/common-structures/#type-mapping">通用结构规范 - 类型映射</a>
）。</p>
<hr>
<h2 id="通用配置文件格式">通用配置文件格式</h2>
<p>I2P 配置文件遵循经修改的 Java Properties 格式，并具有特定的例外和约束。</p>
<h3 id="格式规范">格式规范</h3>
<p>基于 <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Properties.html#load%28java.io.InputStream%29">Java Properties</a>
，但有以下关键差异：</p>
<h4 id="编码">编码</h4>
<ul>
<li><strong>必须</strong> 使用 UTF-8 编码（不要使用 ISO-8859-1，正如标准的 Java Properties（属性文件） 所使用的那样）</li>
<li>实现：在所有文件操作中使用 <code>DataHelper.getUTF8()</code> 工具方法</li>
</ul>
<h4 id="转义序列">转义序列</h4>
<ul>
<li><strong>不</strong> 识别转义序列（包括反斜杠 <code>\</code>）</li>
<li><strong>不</strong> 支持续行</li>
<li>反斜杠字符按字面解释</li>
</ul>
<h4 id="注释字符">注释字符</h4>
<ul>
<li><code>#</code> 在一行的任意位置都会开始一条注释</li>
<li><code>;</code> <strong>仅当</strong> 位于第 1 列（行首）时才开始注释</li>
<li><code>!</code> <strong>不会</strong> 开始注释（与 Java Properties 不同）</li>
</ul>
<h4 id="键值分隔符">键值分隔符</h4>
<ul>
<li><code>=</code> 是<strong>唯一</strong>有效的键值分隔符</li>
<li><code>:</code> <strong>不</strong>被识别为分隔符</li>
<li>空白字符<strong>不</strong>被识别为分隔符</li>
</ul>
<h4 id="空白字符处理">空白字符处理</h4>
<ul>
<li>键的前后空白字符<strong>不会</strong>被去除</li>
<li>值的前后空白字符<strong>会</strong>被去除</li>
</ul>
<h4 id="行处理">行处理</h4>
<ul>
<li>未包含 <code>=</code> 的行会被忽略（视为注释或空行）</li>
<li>自 0.9.10 版本起支持空值（<code>key=</code>）</li>
<li>值为空的键会被正常存储和读取</li>
</ul>
<h4 id="字符限制">字符限制</h4>
<p><strong>键不得包含</strong>: - <code>#</code> (井号/英镑符号) - <code>=</code> (等号) - <code>\n</code> (换行符) - 不得以 <code>;</code> 开头 (分号)</p>
<p><strong>值不得包含</strong>: - <code>#</code>（井号） - <code>\n</code>（换行符） - 不能以 <code>\r</code>（回车符）开头或结尾 - 不能以空白字符开头或结尾（会自动去除首尾空白）</p>
<h3 id="文件排序">文件排序</h3>
<p>配置文件不必按键名排序。然而，大多数 I2P 应用程序在写入配置文件时，会按字母顺序对键名进行排序，以便： - 手动编辑 - 版本控制中的 diff（差异比较）操作 - 提高可读性</p>
<h3 id="实现细节">实现细节</h3>
<h4 id="读取配置文件">读取配置文件</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Method signature from net.i2p.data.DataHelper</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Properties <span style="color:#a6e22e">loadProps</span>(File file)
</span></span></code></pre></div><p><strong>行为</strong>: - 读取 UTF-8 编码的文件 - 强制执行上述所有格式规则 - 验证字符限制 - 如果文件不存在，则返回空的 Properties 对象 - 读取错误时抛出 <code>IOException</code></p>
<h4 id="编写配置文件">编写配置文件</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Method signature from net.i2p.data.DataHelper</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">storeProps</span>(Properties props, File file)
</span></span></code></pre></div><p><strong>行为</strong>: - 写入 UTF-8 编码的文件 - 按字母顺序对键排序（除非使用 OrderedProperties（有序属性类）） - 将文件权限设置为 600 模式（仅用户读/写），自 0.8.1 版本起 - 对键或值中的无效字符抛出 <code>IllegalArgumentException</code> - 对写入错误抛出 <code>IOException</code></p>
<h4 id="格式验证">格式验证</h4>
<p>该实现进行严格验证：</p>
<ul>
<li>键和值会被检查是否包含禁止字符</li>
<li>无效条目会在写入操作时引发异常</li>
<li>读取时会静默忽略格式不正确的行（不含<code>=</code>的行）</li>
</ul>
<h3 id="格式示例">格式示例</h3>
<h4 id="有效的配置文件">有效的配置文件</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># This is a comment</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">;</span> <span style="color:#e6db74">This is also a comment (column 1 only)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">key.with.dots</span><span style="color:#f92672">=</span><span style="color:#e6db74">value with spaces</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">another_key</span><span style="color:#f92672">=</span><span style="color:#e6db74">value=with=equals</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">empty.value</span><span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">numeric.value</span><span style="color:#f92672">=</span><span style="color:#e6db74">12345</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">unicode.value</span><span style="color:#f92672">=</span><span style="color:#e6db74">こんにちは</span>
</span></span></code></pre></div><h4 id="无效配置示例">无效配置示例</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># INVALID: Key contains equals sign</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">invalid</span><span style="color:#f92672">=</span><span style="color:#e6db74">key=value</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># INVALID: Key contains hash</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">invalid#key</span><span style="color:#f92672">=</span><span style="color:#e6db74">value</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># INVALID: Value contains newline (implicit)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">value</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">continues</span> <span style="color:#e6db74">here</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># INVALID: Semicolon comment not in column 1 (treated as key)</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">;</span> <span style="color:#e6db74">not.a.comment=value</span>
</span></span></code></pre></div><hr>
<h2 id="核心库与-router-配置">核心库与 Router 配置</h2>
<h3 id="客户端配置-clientsconfig">客户端配置 (clients.config)</h3>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/clients.config</code> (旧版) 或 <code>$I2P_CONFIG_DIR/clients.config.d/</code> (现代)   <strong>配置界面</strong>: Router 控制台位于 <code>/configclients</code>   <strong>格式变更</strong>: 版本 0.9.42 (2019 年 8 月)</p>
<h4 id="目录结构-版本-0942">目录结构 (版本 0.9.42+)</h4>
<p>自 0.9.42 版本起，默认的 clients.config 文件会自动拆分为单独的配置文件：</p>
<pre tabindex="0"><code>$I2P_CONFIG_DIR/
├── clients.config.d/
│   ├── 00-webConsole.config
│   ├── 01-i2ptunnel.config
│   ├── 02-i2psnark.config
│   ├── 03-susidns.config
│   └── ...
└── clients.config (legacy, auto-migrated)
</code></pre><p><strong>迁移行为</strong>: - 升级到 0.9.42+ 后首次运行时，将自动拆分单体文件 - 拆分文件中的属性以 <code>clientApp.0.</code> 为前缀 - 为向后兼容仍然支持旧格式 - 拆分格式支持模块化打包与插件管理</p>
<h4 id="属性格式">属性格式</h4>
<p>各行的形式为 <code>clientApp.x.prop=val</code>，其中 <code>x</code> 是应用编号。</p>
<p><strong>应用编号要求</strong>: - 必须从 0 开始 - 必须连续（不得跳号） - 顺序决定启动顺序</p>
<h4 id="必需属性">必需属性</h4>
<h5 id="主要">主要</h5>
<ul>
<li><strong>类型</strong>: 字符串（完全限定类名）</li>
<li><strong>必需</strong>: 是</li>
<li><strong>描述</strong>: 将根据客户端类型（受管 vs. 非受管）调用此类中的构造函数或 <code>main()</code> 方法</li>
<li><strong>示例</strong>: <code>clientApp.0.main=net.i2p.router.web.RouterConsoleRunner</code></li>
</ul>
<h4 id="可选属性">可选属性</h4>
<h5 id="名称">名称</h5>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>是否必需</strong>: 否</li>
<li><strong>描述</strong>: 在 router 控制台中显示的名称</li>
<li><strong>示例</strong>: <code>clientApp.0.name=Router Console</code></li>
</ul>
<h5 id="参数">参数</h5>
<ul>
<li><strong>类型</strong>: 字符串（以空格或制表符分隔）</li>
<li><strong>是否必需</strong>: 否</li>
<li><strong>说明</strong>: 传递给主类构造函数或 main() 方法的参数</li>
<li><strong>引用</strong>: 含有空格或制表符的参数可以用 &rsquo; 或 &quot; 括起来</li>
<li><strong>示例</strong>: <code>clientApp.0.args=-d $CONFIG/eepsite</code></li>
</ul>
<h5 id="延迟">延迟</h5>
<ul>
<li><strong>类型</strong>: 整数（秒）</li>
<li><strong>必需</strong>: 否</li>
<li><strong>默认值</strong>: 120</li>
<li><strong>描述</strong>: 在启动客户端之前等待的秒数</li>
<li><strong>覆盖</strong>: 被 <code>onBoot=true</code> 覆盖（将延迟设为 0）</li>
<li><strong>特殊值</strong>:
<ul>
<li><code>&lt; 0</code>: 等待 router 达到 RUNNING 状态，然后在新线程中立即启动</li>
<li><code>= 0</code>: 在同一线程中立即运行（异常会传播到控制台）</li>
<li><code>&gt; 0</code>: 在延迟之后于新线程中启动（异常会被记录到日志，不会传播）</li>
</ul>
</li>
</ul>
<h5 id="onboot">onBoot</h5>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>必需</strong>: 否</li>
<li><strong>默认值</strong>: false</li>
<li><strong>说明</strong>: 将延迟强制设为 0，覆盖显式的延迟设置</li>
<li><strong>用例</strong>: 在 router 启动时立即启动关键服务</li>
</ul>
<h5 id="startonload">startOnLoad</h5>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>是否必需</strong>: 否</li>
<li><strong>默认值</strong>: true</li>
<li><strong>描述</strong>: 是否启动客户端</li>
<li><strong>使用场景</strong>: 在不删除配置的情况下禁用客户端</li>
</ul>
<h4 id="插件特定属性">插件特定属性</h4>
<p>这些属性仅供插件使用（非核心客户端）：</p>
<h5 id="stopargs">stopargs</h5>
<ul>
<li><strong>类型</strong>: 字符串（以空格或制表符分隔）</li>
<li><strong>描述</strong>: 用于停止客户端时传递的参数</li>
<li><strong>变量替换</strong>: 是（见下文）</li>
</ul>
<h5 id="uninstallargs">uninstallargs</h5>
<ul>
<li><strong>类型</strong>: 字符串（以空格或制表符分隔）</li>
<li><strong>描述</strong>: 用于卸载客户端时传入的参数</li>
<li><strong>变量替换</strong>: 是（见下文）</li>
</ul>
<h5 id="类路径">类路径</h5>
<ul>
<li><strong>类型</strong>: 字符串（逗号分隔的路径）</li>
<li><strong>描述</strong>: 客户端的附加 classpath（类路径）元素</li>
<li><strong>变量替换</strong>: 是（见下文）</li>
</ul>
<h4 id="变量替换仅限插件">变量替换（仅限插件）</h4>
<p>在插件的 <code>args</code>、<code>stopargs</code>、<code>uninstallargs</code> 和 <code>classpath</code> 中，会替换以下变量：</p>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Variable</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Expands To</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>$I2P</code></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Base I2P installation directory</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>/usr/share/i2p</code></td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>$CONFIG</code></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">User configuration directory</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>~/.i2p</code></td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>$PLUGIN</code></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Plugin directory</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>~/.i2p/plugins/foo</code></td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>$OS</code></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Operating system name</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>linux</code></td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>$ARCH</code></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Architecture name</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>amd64</code></td>
    </tr>
  </tbody>
</table>
**注意**：变量替换仅适用于插件，不适用于核心客户端。
<h4 id="客户端类型">客户端类型</h4>
<h5 id="受管客户端">受管客户端</h5>
<ul>
<li>构造函数会以 <code>RouterContext</code> 和 <code>ClientAppManager</code> 作为参数被调用</li>
<li>客户端必须实现 <code>ClientApp</code> 接口</li>
<li>生命周期由 router 控制</li>
<li>可动态启动、停止和重启</li>
</ul>
<h5 id="未托管客户端">未托管客户端</h5>
<ul>
<li><code>main(String[] args)</code> 方法被调用</li>
<li>在独立线程中运行</li>
<li>生命周期不由 router 管理</li>
<li>遗留客户端类型</li>
</ul>
<h4 id="示例配置">示例配置</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># Router Console (core client)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.0.main</span><span style="color:#f92672">=</span><span style="color:#e6db74">net.i2p.router.web.RouterConsoleRunner</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.0.name</span><span style="color:#f92672">=</span><span style="color:#e6db74">Router Console</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.0.args</span><span style="color:#f92672">=</span><span style="color:#e6db74">-d $CONFIG/eepsite</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.0.delay</span><span style="color:#f92672">=</span><span style="color:#e6db74">0</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.0.onBoot</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.0.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># I2PTunnel (core client)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.1.main</span><span style="color:#f92672">=</span><span style="color:#e6db74">net.i2p.i2ptunnel.TunnelControllerGroup</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.1.name</span><span style="color:#f92672">=</span><span style="color:#e6db74">I2PTunnel</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.1.args</span><span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.1.delay</span><span style="color:#f92672">=</span><span style="color:#e6db74">120</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.1.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Plugin Example</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.2.main</span><span style="color:#f92672">=</span><span style="color:#e6db74">org.example.plugin.PluginMain</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.2.name</span><span style="color:#f92672">=</span><span style="color:#e6db74">Example Plugin</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.2.args</span><span style="color:#f92672">=</span><span style="color:#e6db74">-config $PLUGIN/config.properties</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.2.stopargs</span><span style="color:#f92672">=</span><span style="color:#e6db74">-shutdown</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.2.uninstallargs</span><span style="color:#f92672">=</span><span style="color:#e6db74">-remove $PLUGIN</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.2.classpath</span><span style="color:#f92672">=</span><span style="color:#e6db74">$PLUGIN/lib/plugin.jar,$PLUGIN/lib/dep.jar</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.2.delay</span><span style="color:#f92672">=</span><span style="color:#e6db74">240</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clientApp.2.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span></code></pre></div><hr>
<h3 id="日志记录器配置-loggerconfig">日志记录器配置 (logger.config)</h3>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/logger.config</code>   <strong>配置界面</strong>: Router 控制台的 <code>/configlogging</code></p>
<h4 id="属性参考">属性参考</h4>
<h5 id="控制台缓冲区配置">控制台缓冲区配置</h5>
<h6 id="loggerconsolebuffersize">logger.consoleBufferSize</h6>
<ul>
<li><strong>类型</strong>: 整数</li>
<li><strong>默认值</strong>: 20</li>
<li><strong>描述</strong>: 在控制台中可缓冲的日志消息最大数量</li>
<li><strong>范围</strong>: 建议 1-1000</li>
</ul>
<h5 id="日期和时间格式化">日期和时间格式化</h5>
<h6 id="loggerdateformat">logger.dateFormat</h6>
<ul>
<li><strong>类型</strong>: 字符串 (SimpleDateFormat 模式)</li>
<li><strong>默认</strong>: 来自系统区域设置</li>
<li><strong>示例</strong>: <code>HH:mm:ss.SSS</code></li>
<li><strong>文档</strong>: <a href="https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html">Java SimpleDateFormat</a>
</li>
</ul>
<h5 id="日志级别">日志级别</h5>
<h6 id="loggerdefaultlevel">logger.defaultLevel</h6>
<ul>
<li><strong>类型</strong>: 枚举</li>
<li><strong>默认</strong>: ERROR</li>
<li><strong>可选值</strong>: <code>CRIT</code>, <code>ERROR</code>, <code>WARN</code>, <code>INFO</code>, <code>DEBUG</code></li>
<li><strong>描述</strong>: 所有类的默认日志级别</li>
</ul>
<h6 id="loggerminimumonscreenlevel">logger.minimumOnScreenLevel</h6>
<ul>
<li><strong>类型</strong>: 枚举</li>
<li><strong>默认值</strong>: CRIT</li>
<li><strong>可选值</strong>: <code>CRIT</code>, <code>ERROR</code>, <code>WARN</code>, <code>INFO</code>, <code>DEBUG</code></li>
<li><strong>说明</strong>: 在屏幕上显示的消息的最低级别</li>
</ul>
<h6 id="loggerrecordclass">logger.record.{class}</h6>
<ul>
<li><strong>类型</strong>: 枚举</li>
<li><strong>取值</strong>: <code>CRIT</code>, <code>ERROR</code>, <code>WARN</code>, <code>INFO</code>, <code>DEBUG</code></li>
<li><strong>描述</strong>: 针对各个类的日志级别覆盖</li>
<li><strong>示例</strong>: <code>logger.record.net.i2p.router.transport.udp=DEBUG</code></li>
</ul>
<h5 id="显示选项">显示选项</h5>
<h6 id="loggerdisplayonscreen">logger.displayOnScreen</h6>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>默认值</strong>: true</li>
<li><strong>描述</strong>: 是否在控制台输出中显示日志消息</li>
</ul>
<h6 id="loggerdropduplicates">logger.dropDuplicates</h6>
<ul>
<li><strong>类型</strong>: 布尔</li>
<li><strong>默认值</strong>: true</li>
<li><strong>描述</strong>: 丢弃连续重复的日志消息</li>
</ul>
<h6 id="loggerdroponoverflow">logger.dropOnOverflow</h6>
<ul>
<li><strong>类型</strong>: 布尔</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 当缓冲区已满时丢弃消息（而非阻塞）</li>
</ul>
<h5 id="刷新行为">刷新行为</h5>
<h6 id="loggerflushinterval">logger.flushInterval</h6>
<ul>
<li><strong>类型</strong>: 整数（秒）</li>
<li><strong>默认值</strong>: 29</li>
<li><strong>起始版本</strong>: 0.9.18</li>
<li><strong>描述</strong>: 将日志缓冲区刷新到磁盘的频率</li>
</ul>
<h5 id="格式配置">格式配置</h5>
<h6 id="loggerformat">logger.format</h6>
<ul>
<li><strong>类型</strong>: 字符串（字符序列）</li>
<li><strong>描述</strong>: 日志消息格式模板</li>
<li><strong>格式字符</strong>:
<ul>
<li><code>d</code> = 日期/时间</li>
<li><code>c</code> = 类名</li>
<li><code>t</code> = 线程名</li>
<li><code>p</code> = 优先级（日志级别）</li>
<li><code>m</code> = 消息</li>
</ul>
</li>
<li><strong>示例</strong>: <code>dctpm</code> 会生成 <code>[时间戳] [类] [线程] [级别] 消息</code></li>
</ul>
<h5 id="压缩版本-0956">压缩（版本 0.9.56+）</h5>
<h6 id="loggergzip">logger.gzip</h6>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>默认值</strong>: false</li>
<li><strong>自</strong>: 版本 0.9.56</li>
<li><strong>描述</strong>: 为已轮换的日志文件启用 gzip 压缩</li>
</ul>
<h6 id="loggermingzipsize">logger.minGzipSize</h6>
<ul>
<li><strong>类型</strong>: 整数（字节）</li>
<li><strong>默认值</strong>: 65536</li>
<li><strong>自版本</strong>: 0.9.56</li>
<li><strong>描述</strong>: 触发压缩的最小文件大小（默认 64 KB）</li>
</ul>
<h5 id="文件管理">文件管理</h5>
<h6 id="loggerlogbuffersize">logger.logBufferSize</h6>
<ul>
<li><strong>类型</strong>: 整数（字节）</li>
<li><strong>默认值</strong>: 1024</li>
<li><strong>描述</strong>: 在触发刷新前可缓冲的最大消息数</li>
</ul>
<h6 id="loggerlogfilename">logger.logFileName</h6>
<ul>
<li><strong>类型</strong>: 字符串（文件路径）</li>
<li><strong>默认值</strong>: <code>logs/log-@.txt</code></li>
<li><strong>描述</strong>: 日志文件命名模式（<code>@</code> 将被替换为轮转编号）</li>
</ul>
<h6 id="loggerlogfilenameoverride">logger.logFilenameOverride</h6>
<ul>
<li><strong>类型</strong>: 字符串（文件路径）</li>
<li><strong>描述</strong>: 用于覆盖日志文件名（会禁用轮转模式）</li>
</ul>
<h6 id="loggerlogfilesize">logger.logFileSize</h6>
<ul>
<li><strong>类型</strong>: 字符串（带单位的大小）</li>
<li><strong>默认值</strong>: 10M</li>
<li><strong>单位</strong>: K（千字节）、M（兆字节）、G（吉字节）</li>
<li><strong>示例</strong>: <code>50M</code>, <code>1G</code></li>
</ul>
<h6 id="loggerlogrotationlimit">logger.logRotationLimit</h6>
<ul>
<li><strong>类型</strong>: 整数</li>
<li><strong>默认值</strong>: 2</li>
<li><strong>描述</strong>: 轮转日志文件的最大编号 (log-0.txt 到 log-N.txt)</li>
</ul>
<h4 id="示例配置-1">示例配置</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># Basic logging configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.consoleBufferSize</span><span style="color:#f92672">=</span><span style="color:#e6db74">50</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.dateFormat</span><span style="color:#f92672">=</span><span style="color:#e6db74">yyyy-MM-dd HH:mm:ss.SSS</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.defaultLevel</span><span style="color:#f92672">=</span><span style="color:#e6db74">WARN</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.displayOnScreen</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.dropDuplicates</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.dropOnOverflow</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Flushing and format</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.flushInterval</span><span style="color:#f92672">=</span><span style="color:#e6db74">30</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.format</span><span style="color:#f92672">=</span><span style="color:#e6db74">dctpm</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># File management</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.logBufferSize</span><span style="color:#f92672">=</span><span style="color:#e6db74">2048</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.logFileName</span><span style="color:#f92672">=</span><span style="color:#e6db74">logs/log-@.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.logFileSize</span><span style="color:#f92672">=</span><span style="color:#e6db74">25M</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.logRotationLimit</span><span style="color:#f92672">=</span><span style="color:#e6db74">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Compression (0.9.56+)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.gzip</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.minGzipSize</span><span style="color:#f92672">=</span><span style="color:#e6db74">131072</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># On-screen filtering</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.minimumOnScreenLevel</span><span style="color:#f92672">=</span><span style="color:#e6db74">ERROR</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Per-class overrides</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.record.net.i2p.router.transport</span><span style="color:#f92672">=</span><span style="color:#e6db74">INFO</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.record.net.i2p.router.tunnel</span><span style="color:#f92672">=</span><span style="color:#e6db74">DEBUG</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger.record.net.i2p.crypto</span><span style="color:#f92672">=</span><span style="color:#e6db74">WARN</span>
</span></span></code></pre></div><hr>
<h3 id="插件配置">插件配置</h3>
<h4 id="单个插件配置-pluginspluginconfig">单个插件配置 (plugins/*/plugin.config)</h4>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/plugins/{plugin-name}/plugin.config</code>   <strong>格式</strong>: 标准 I2P 配置文件格式   <strong>文档</strong>: <a href="../../../../zh/docs/specs/plugin/">插件规范</a>
</p>
<h5 id="必需属性-1">必需属性</h5>
<h6 id="名称-1">名称</h6>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>必需</strong>: 是</li>
<li><strong>描述</strong>: 插件显示名称</li>
<li><strong>示例</strong>: <code>name=I2P Plugin Example</code></li>
</ul>
<h6 id="密钥">密钥</h6>
<ul>
<li><strong>类型</strong>: 字符串（公钥）</li>
<li><strong>是否必需</strong>: 是（对于使用 SU3 签名的插件可省略）</li>
<li><strong>说明</strong>: 用于验证插件签名的公钥</li>
<li><strong>格式</strong>: Base64 编码的签名公钥</li>
</ul>
<h6 id="签名者">签名者</h6>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>必需</strong>: 是</li>
<li><strong>描述</strong>: 插件签名者身份</li>
<li><strong>示例</strong>: <code>signer=user@example.i2p</code></li>
</ul>
<h6 id="版本">版本</h6>
<ul>
<li><strong>类型</strong>: 字符串（VersionComparator 格式，用于比较版本号）</li>
<li><strong>必需</strong>: 是</li>
<li><strong>描述</strong>: 用于更新检查的插件版本</li>
<li><strong>格式</strong>: 语义化版本（Semantic Versioning）或自定义可比较格式</li>
<li><strong>示例</strong>: <code>version=1.2.3</code></li>
</ul>
<h5 id="显示属性">显示属性</h5>
<h6 id="日期">日期</h6>
<ul>
<li><strong>类型</strong>: Long (以毫秒为单位的 Unix 时间戳)</li>
<li><strong>描述</strong>: 插件发布日期</li>
</ul>
<h6 id="作者">作者</h6>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>描述</strong>: 插件作者名称</li>
</ul>
<h6 id="websiteurl">websiteURL</h6>
<ul>
<li><strong>类型</strong>: 字符串 (URL)</li>
<li><strong>描述</strong>: 插件网站 URL</li>
</ul>
<h6 id="updateurl">updateURL</h6>
<ul>
<li><strong>类型</strong>: 字符串 (URL)</li>
<li><strong>描述</strong>: 用于插件的更新检查 URL</li>
</ul>
<h6 id="updateurlsu3">updateURL.su3</h6>
<ul>
<li><strong>类型</strong>: 字符串（URL）</li>
<li><strong>自</strong>: 版本 0.9.15 起</li>
<li><strong>描述</strong>: SU3 格式的更新 URL（首选）</li>
</ul>
<h6 id="描述">描述</h6>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>描述</strong>: 插件的英文描述</li>
</ul>
<h6 id="description_language">description_{language}</h6>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>描述</strong>: 本地化的插件描述</li>
<li><strong>示例</strong>: <code>description_de=Deutsche Beschreibung</code></li>
</ul>
<h6 id="许可证">许可证</h6>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>描述</strong>: 插件许可证标识符</li>
<li><strong>示例</strong>: <code>license=Apache 2.0</code></li>
</ul>
<h5 id="安装属性">安装属性</h5>
<h6 id="不要在安装时启动">不要在安装时启动</h6>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 防止在安装后自动启动</li>
</ul>
<h6 id="需要重启-router">需要重启 router</h6>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 安装后需要重启 router</li>
</ul>
<h6 id="仅安装">仅安装</h6>
<ul>
<li><strong>类型</strong>: 布尔类型</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 仅安装一次（不更新）</li>
</ul>
<h6 id="仅更新">仅更新</h6>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>默认值</strong>: false</li>
<li><strong>说明</strong>: 仅更新现有安装（不进行全新安装）</li>
</ul>
<h5 id="示例插件配置">示例插件配置</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># Required properties</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">Example I2P Plugin</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">signer</span><span style="color:#f92672">=</span><span style="color:#e6db74">developer@mail.i2p</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">version</span><span style="color:#f92672">=</span><span style="color:#e6db74">1.5.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Display properties</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">author</span><span style="color:#f92672">=</span><span style="color:#e6db74">Plugin Developer</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">websiteURL</span><span style="color:#f92672">=</span><span style="color:#e6db74">http://plugin.example.i2p</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">updateURL</span><span style="color:#f92672">=</span><span style="color:#e6db74">http://plugin.example.i2p/update.xpi2p</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">updateURL.su3</span><span style="color:#f92672">=</span><span style="color:#e6db74">http://plugin.example.i2p/update.su3</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">description</span><span style="color:#f92672">=</span><span style="color:#e6db74">Example plugin demonstrating configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">description_de</span><span style="color:#f92672">=</span><span style="color:#e6db74">Beispiel-Plugin zur Demonstration der Konfiguration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">license</span><span style="color:#f92672">=</span><span style="color:#e6db74">MIT</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Installation behavior</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dont-start-at-install</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router-restart-required</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span></code></pre></div><h4 id="全局插件配置-pluginsconfig">全局插件配置 (plugins.config)</h4>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/plugins.config</code>   <strong>用途</strong>: 全局启用/禁用已安装的插件</p>
<h5 id="属性格式-1">属性格式</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">plugin.{name}.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true|false</span>
</span></span></code></pre></div><ul>
<li><code>{name}</code>: 来自 plugin.config 的插件名称</li>
<li><code>startOnLoad</code>: 是否在 router 启动时自动启动插件</li>
</ul>
<h5 id="示例">示例</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">plugin.i2psnark.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">plugin.susimail.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">plugin.susidns.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">plugin.i2pbote.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span></code></pre></div><hr>
<h3 id="web-应用程序配置webappsconfig">Web 应用程序配置（webapps.config）</h3>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/webapps.config</code>   <strong>用途</strong>: 启用/禁用并配置 Web 应用程序</p>
<h4 id="属性格式-2">属性格式</h4>
<h5 id="webappsnamestartonload">webapps.{name}.startOnLoad</h5>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>描述</strong>: 是否在 router 启动时启动 Web 应用</li>
<li><strong>格式</strong>: <code>webapps.{name}.startOnLoad=true|false</code></li>
</ul>
<h5 id="webappsnameclasspath">webapps.{name}.classpath</h5>
<ul>
<li><strong>类型</strong>: 字符串 (以空格或逗号分隔的路径)</li>
<li><strong>描述</strong>: 用于 Web 应用的额外类路径元素</li>
<li><strong>格式</strong>: <code>webapps.{name}.classpath=[paths]</code></li>
</ul>
<h4 id="变量替换">变量替换</h4>
<p>路径支持以下变量替换：</p>
<table style="width:100%; border-collapse:collapse; margin-bottom:1.5rem;">
  <thead>
    <tr>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Variable</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Expands To</th>
      <th style="border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);">Context</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>$I2P</code></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Base I2P directory</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Core webapps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>$CONFIG</code></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">User config directory</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">All webapps</td>
    </tr>
    <tr>
      <td style="border:1px solid var(--color-border); padding:0.6rem;"><code>$PLUGIN</code></td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Plugin directory</td>
      <td style="border:1px solid var(--color-border); padding:0.6rem;">Plugin webapps</td>
    </tr>
  </tbody>
</table>
#### 类路径解析
<ul>
<li><strong>核心 Web 应用</strong>：相对于 <code>$I2P/lib</code> 的路径</li>
<li><strong>插件 Web 应用</strong>：相对于 <code>$CONFIG/plugins/{appname}/lib</code> 的路径</li>
</ul>
<h4 id="示例配置-2">示例配置</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># Router console</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">webapps.routerconsole.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">webapps.routerconsole.classpath</span><span style="color:#f92672">=</span><span style="color:#e6db74">routerconsole.jar</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># I2PSnark</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">webapps.i2psnark.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">webapps.i2psnark.classpath</span><span style="color:#f92672">=</span><span style="color:#e6db74">i2psnark.jar</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SusiDNS</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">webapps.susidns.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">webapps.susidns.classpath</span><span style="color:#f92672">=</span><span style="color:#e6db74">susidns.jar</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Plugin webapp example</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">webapps.exampleplugin.startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">webapps.exampleplugin.classpath</span><span style="color:#f92672">=</span><span style="color:#e6db74">$PLUGIN/lib/webapp.jar,$PLUGIN/lib/deps.jar</span>
</span></span></code></pre></div><hr>
<h3 id="router-配置-routerconfig">Router 配置 (router.config)</h3>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/router.config</code>   <strong>配置界面</strong>: Router 控制台位于 <code>/configadvanced</code>   <strong>用途</strong>: 核心 Router 设置和网络参数</p>
<h4 id="配置类别">配置类别</h4>
<h5 id="网络配置">网络配置</h5>
<p>带宽设置:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">i2np.bandwidth.inboundKBytesPerSecond</span><span style="color:#f92672">=</span><span style="color:#e6db74">100</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.bandwidth.outboundKBytesPerSecond</span><span style="color:#f92672">=</span><span style="color:#e6db74">50</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.bandwidth.share.percentage</span><span style="color:#f92672">=</span><span style="color:#e6db74">80</span>
</span></span></code></pre></div><p>传输配置：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># NTCP (TCP-based transport)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.ntcp.port</span><span style="color:#f92672">=</span><span style="color:#e6db74">8887</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.ntcp.enable</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.ntcp.autoip</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SSU (UDP-based transport)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.udp.port</span><span style="color:#f92672">=</span><span style="color:#e6db74">8887</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.udp.enable</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># UPnP/NAT-PMP</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2np.upnp.enable</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span></code></pre></div><h5 id="router-行为">Router 行为</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># Tunnel participation</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.maxParticipatingTunnels</span><span style="color:#f92672">=</span><span style="color:#e6db74">200</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.sharePercentage</span><span style="color:#f92672">=</span><span style="color:#e6db74">80</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Updates</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.updatePolicy</span><span style="color:#f92672">=</span><span style="color:#e6db74">notify</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.updateURL</span><span style="color:#f92672">=</span><span style="color:#e6db74">http://update.i2p2.i2p/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Network integration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.hiddenMode</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router.clockSkewOffset</span><span style="color:#f92672">=</span><span style="color:#e6db74">0</span>
</span></span></code></pre></div><h5 id="控制台配置">控制台配置</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># Language and display</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">routerconsole.lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">en</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">routerconsole.country</span><span style="color:#f92672">=</span><span style="color:#e6db74">US</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">routerconsole.summaryRefresh</span><span style="color:#f92672">=</span><span style="color:#e6db74">60</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Browser</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">routerconsole.browser</span><span style="color:#f92672">=</span><span style="color:#e6db74">default</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Security</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">routerconsole.enableCompression</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span></code></pre></div><h5 id="时间配置">时间配置</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># NTP</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">time.disabled</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">time.sntpServerList</span><span style="color:#f92672">=</span><span style="color:#e6db74">0.pool.ntp.org,1.pool.ntp.org</span>
</span></span></code></pre></div><p><strong>注意</strong>：Router 配置内容繁多。请在 router 控制台的 <code>/configadvanced</code> 页面查看完整的属性参考。</p>
<hr>
<h2 id="应用程序配置文件">应用程序配置文件</h2>
<h3 id="地址簿配置-addressbookconfigtxt">地址簿配置 (addressbook/config.txt)</h3>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/addressbook/config.txt</code>   <strong>应用</strong>: SusiDNS   <strong>用途</strong>: 主机名解析和地址簿管理</p>
<h4 id="文件位置">文件位置</h4>
<h5 id="router_addressbook">router_addressbook</h5>
<ul>
<li><strong>默认</strong>: <code>../hosts.txt</code></li>
<li><strong>描述</strong>: 主地址簿（系统范围的主机名）</li>
<li><strong>格式</strong>: 标准 hosts 文件格式</li>
</ul>
<h5 id="privatehoststxt">privatehosts.txt</h5>
<ul>
<li><strong>位置</strong>: <code>$I2P_CONFIG_DIR/addressbook/privatehosts.txt</code></li>
<li><strong>描述</strong>: 私有主机名映射</li>
<li><strong>优先级</strong>: 最高（覆盖所有其他来源）</li>
</ul>
<h5 id="userhoststxt">userhosts.txt</h5>
<ul>
<li><strong>位置</strong>: <code>$I2P_CONFIG_DIR/addressbook/userhosts.txt</code></li>
<li><strong>描述</strong>: 用户添加的主机名映射</li>
<li><strong>管理</strong>: 通过 SusiDNS 界面</li>
</ul>
<h5 id="hoststxt">hosts.txt</h5>
<ul>
<li><strong>位置</strong>: <code>$I2P_CONFIG_DIR/addressbook/hosts.txt</code></li>
<li><strong>描述</strong>: 已下载的公共地址簿</li>
<li><strong>来源</strong>: 订阅源</li>
</ul>
<h4 id="命名服务">命名服务</h4>
<h5 id="blockfilenamingservice-自-088-起为默认">BlockfileNamingService (自 0.8.8 起为默认)</h5>
<p>存储格式： - <strong>文件</strong>: <code>hostsdb.blockfile</code> - <strong>位置</strong>: <code>$I2P_CONFIG_DIR/addressbook/</code> - <strong>性能</strong>: 查询速度比 hosts.txt 快约 10 倍 - <strong>格式</strong>: 二进制数据库格式</p>
<p>旧版命名服务： - <strong>格式</strong>：纯文本 hosts.txt - <strong>状态</strong>：已弃用但仍受支持 - <strong>使用场景</strong>：手动编辑、版本控制</p>
<h4 id="主机名规则">主机名规则</h4>
<p>I2P 主机名必须符合以下规范：</p>
<ol>
<li><strong>顶级域名要求</strong>: 必须以 <code>.i2p</code> 结尾</li>
<li><strong>最大长度</strong>: 总计 67 个字符</li>
<li><strong>字符集</strong>: <code>[a-z]</code>, <code>[0-9]</code>, <code>.</code> (句点), <code>-</code> (连字符)</li>
<li><strong>大小写</strong>: 仅限小写</li>
<li><strong>开头限制</strong>: 不能以 <code>.</code> 或 <code>-</code> 开头</li>
<li><strong>禁止的模式</strong>: 不能包含 <code>..</code>、<code>.-</code> 或 <code>-.</code> (自 0.6.1.33 起)</li>
<li><strong>保留</strong>: Base32 主机名 <code>*.b32.i2p</code> (52 个字符的 base32.b32.i2p)</li>
</ol>
<h5 id="有效示例">有效示例</h5>
<pre tabindex="0"><code>example.i2p
my-site.i2p
test.example.i2p
site123.i2p
</code></pre><h5 id="无效示例">无效示例</h5>
<pre tabindex="0"><code>example.com          # Wrong TLD
-invalid.i2p         # Starts with hyphen
invalid..i2p         # Contains double dot
invalid.-.i2p        # Contains dot-hyphen
UPPERCASE.I2P        # Must be lowercase
verylonghostnameover67charactersthatexceedsthemaximumlength.i2p  # Too long
</code></pre><h4 id="订阅管理">订阅管理</h4>
<h5 id="subscriptionstxt">subscriptions.txt</h5>
<ul>
<li><strong>位置</strong>: <code>$I2P_CONFIG_DIR/addressbook/subscriptions.txt</code></li>
<li><strong>格式</strong>: 每行一个 URL</li>
<li><strong>默认值</strong>: <code>http://i2p-projekt.i2p/hosts.txt</code></li>
</ul>
<h5 id="订阅源格式自-0926-起">订阅源格式（自 0.9.26 起）</h5>
<p>带有元数据的高级提要格式：</p>
<pre tabindex="0"><code>#
# I2P Address Book Subscription Feed
# Format: hostname=destination [#property=value ...]
#

example.i2p=base64destination #added=20250101 #src=manual
another.i2p=base64destination #added=20250102 #src=feed1
</code></pre><p>元数据属性: - <code>added</code>: 主机名添加的日期 (YYYYMMDD 格式) - <code>src</code>: 来源标识符 - <code>sig</code>: 可选签名</p>
<p><strong>向后兼容性</strong>: 简单的 hostname=destination 格式仍然受支持。</p>
<h4 id="示例配置-3">示例配置</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># Address book locations</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router_addressbook</span><span style="color:#f92672">=</span><span style="color:#e6db74">../hosts.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">privatehosts.txt</span><span style="color:#f92672">=</span><span style="color:#e6db74">$CONFIG/addressbook/privatehosts.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">userhosts.txt</span><span style="color:#f92672">=</span><span style="color:#e6db74">$CONFIG/addressbook/userhosts.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hosts.txt</span><span style="color:#f92672">=</span><span style="color:#e6db74">$CONFIG/addressbook/hosts.txt</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Naming service</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">naming.service</span><span style="color:#f92672">=</span><span style="color:#e6db74">BlockfileNamingService</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">naming.service.blockfile.location</span><span style="color:#f92672">=</span><span style="color:#e6db74">$CONFIG/addressbook/hostsdb.blockfile</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Subscriptions</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">subscriptions.txt</span><span style="color:#f92672">=</span><span style="color:#e6db74">$CONFIG/addressbook/subscriptions.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">subscriptions.schedule</span><span style="color:#f92672">=</span><span style="color:#e6db74">daily</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">subscriptions.proxy</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span></code></pre></div><hr>
<h3 id="i2psnark-配置-i2psnarkconfigdi2psnarkconfig">I2PSnark 配置 (i2psnark.config.d/i2psnark.config)</h3>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/i2psnark.config.d/i2psnark.config</code>   <strong>应用程序</strong>: I2PSnark BitTorrent 客户端   <strong>配置界面</strong>: Web 界面位于 http://127.0.0.1:7657/i2psnark</p>
<h4 id="目录结构">目录结构</h4>
<pre tabindex="0"><code>$I2P_CONFIG_DIR/i2psnark.config.d/
├── i2psnark.config
├── [torrent-hash-1]/
│   └── *.config
├── [torrent-hash-2]/
│   └── *.config
└── ...
</code></pre><h4 id="主配置-i2psnarkconfig">主配置 (i2psnark.config)</h4>
<p>最小默认配置：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">i2psnark.dir</span><span style="color:#f92672">=</span><span style="color:#e6db74">i2psnark</span>
</span></span></code></pre></div><p>可通过 Web 界面管理的附加属性：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># Basic settings</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2psnark.dir</span><span style="color:#f92672">=</span><span style="color:#e6db74">i2psnark</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2psnark.autoStart</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2psnark.openTrackers</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Network settings</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2psnark.uploaders</span><span style="color:#f92672">=</span><span style="color:#e6db74">8</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2psnark.upBW</span><span style="color:#f92672">=</span><span style="color:#e6db74">40</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2psnark.seedPct</span><span style="color:#f92672">=</span><span style="color:#e6db74">100</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># I2CP settings</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2psnark.i2cpHost</span><span style="color:#f92672">=</span><span style="color:#e6db74">127.0.0.1</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2psnark.i2cpPort</span><span style="color:#f92672">=</span><span style="color:#e6db74">7654</span>
</span></span></code></pre></div><h4 id="单个种子配置">单个种子配置</h4>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/i2psnark.config.d/[torrent-hash]/*.config</code>   <strong>格式</strong>: 每个种子的设置   <strong>管理</strong>: 自动（通过 Web GUI）</p>
<p>属性包括： - 针对种子的上传/下载设置 - 文件优先级 - 跟踪器信息 - 对等节点限制</p>
<p><strong>注意</strong>: Torrent 配置主要通过 Web 界面进行管理。不建议手动编辑。</p>
<h4 id="种子数据组织">种子数据组织</h4>
<p>数据存储与配置彼此独立：</p>
<pre tabindex="0"><code>$I2P_CONFIG_DIR/i2psnark/          # Data directory
├── *.torrent                       # Torrent metadata files
├── *.torrent.downloaded/           # Downloaded file directories
├── file1.dat                       # Direct file downloads
└── ...

$I2P_CONFIG_DIR/i2psnark.config.d/ # Configuration directory
├── i2psnark.config                 # Main config
└── [hashes]/                       # Per-torrent configs
</code></pre><hr>
<h3 id="i2ptunnel-配置-i2ptunnelconfig">I2PTunnel 配置 (i2ptunnel.config)</h3>
<p><strong>位置</strong>: <code>$I2P_CONFIG_DIR/i2ptunnel.config</code>（旧版）或 <code>$I2P_CONFIG_DIR/i2ptunnel.config.d/</code>（现代版）   <strong>配置界面</strong>: Router 控制台位于 <code>/i2ptunnel</code>   <strong>格式变更</strong>: 版本 0.9.42（2019 年 8 月）</p>
<h4 id="目录结构-版本-0942-1">目录结构 (版本 0.9.42+)</h4>
<p>自 0.9.42 版本起，默认的 i2ptunnel.config 文件将自动拆分：</p>
<pre tabindex="0"><code>$I2P_CONFIG_DIR/
├── i2ptunnel.config.d/
│   ├── http-proxy/
│   │   └── tunnel.config
│   ├── irc-proxy/
│   │   └── tunnel.config
│   ├── ssh-service/
│   │   └── tunnel.config
│   └── ...
└── i2ptunnel.config (legacy, auto-migrated)
</code></pre><p><strong>关键格式差异</strong>: - <strong>单体格式</strong>: 属性以 <code>tunnel.N.</code> 为前缀 - <strong>拆分格式</strong>: 属性<strong>不</strong>带前缀（例如，<code>description=</code>，而不是 <code>tunnel.0.description=</code>）</p>
<h4 id="迁移行为">迁移行为</h4>
<p>在升级到 0.9.42 后首次运行： 1. 读取现有 i2ptunnel.config 2. 在 i2ptunnel.config.d/ 中创建各个 tunnel 的配置文件 3. 在拆分后的文件中去除属性前缀 4. 备份原始文件 5. 仍支持旧格式以保持向后兼容</p>
<h4 id="配置部分">配置部分</h4>
<p>I2PTunnel 配置的详细说明见下文的 <a href="#i2ptunnel-configuration-reference">I2PTunnel 配置参考</a>
 部分。属性说明适用于单一式（<code>tunnel.N.property</code>）和拆分式（<code>property</code>）两种格式。</p>
<hr>
<h2 id="i2ptunnel-配置参考">I2PTunnel 配置参考</h2>
<p>本节提供 I2PTunnel 全部配置属性的全面技术参考。属性以拆分格式展示（不带 <code>tunnel.N.</code> 前缀）。若使用单体格式，则为所有属性添加 <code>tunnel.N.</code> 前缀，其中 N 为该 tunnel 的编号。</p>
<p><strong>重要</strong>：被描述为 <code>tunnel.N.option.i2cp.*</code> 的属性仅在 I2PTunnel（I2P 隧道工具）中实现，且<strong>不</strong>受其他接口（例如 I2CP protocol（I2CP 协议）或 SAM API（SAM 接口））支持。</p>
<h3 id="基本属性">基本属性</h3>
<h4 id="tunnelndescription-描述">tunnel.N.description (描述)</h4>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>上下文</strong>: 所有 tunnels</li>
<li><strong>描述</strong>: 用于 UI 显示的人类可读的 tunnel 描述</li>
<li><strong>示例</strong>: <code>description=HTTP Proxy for outproxy access</code></li>
</ul>
<h4 id="tunnelnname-名称">tunnel.N.name (名称)</h4>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>上下文</strong>: 所有 tunnel</li>
<li><strong>必需</strong>: 是</li>
<li><strong>描述</strong>: 唯一的 tunnel 标识符和显示名称</li>
<li><strong>示例</strong>: <code>name=I2P HTTP Proxy</code></li>
</ul>
<h4 id="tunnelntype-类型">tunnel.N.type (类型)</h4>
<ul>
<li><strong>类型</strong>: 枚举</li>
<li><strong>上下文</strong>: 所有 tunnel</li>
<li><strong>必需</strong>: 是</li>
<li><strong>取值</strong>:
<ul>
<li><code>client</code> - 通用客户端 tunnel</li>
<li><code>httpclient</code> - HTTP 代理客户端</li>
<li><code>ircclient</code> - IRC 客户端 tunnel</li>
<li><code>socksirctunnel</code> - SOCKS IRC 代理</li>
<li><code>sockstunnel</code> - SOCKS 代理（版本 4、4a、5）</li>
<li><code>connectclient</code> - CONNECT 代理客户端</li>
<li><code>streamrclient</code> - Streamr 客户端</li>
<li><code>server</code> - 通用服务器 tunnel</li>
<li><code>httpserver</code> - HTTP 服务器 tunnel</li>
<li><code>ircserver</code> - IRC 服务器 tunnel</li>
<li><code>httpbidirserver</code> - 双向 HTTP 服务器</li>
<li><code>streamrserver</code> - Streamr 服务器</li>
</ul>
</li>
</ul>
<h4 id="tunnelninterface-接口">tunnel.N.interface (接口)</h4>
<ul>
<li><strong>类型</strong>: 字符串（IP 地址或主机名）</li>
<li><strong>上下文</strong>: 仅适用于 Client tunnels（I2P 中的隧道）</li>
<li><strong>默认值</strong>: 127.0.0.1</li>
<li><strong>描述</strong>: 用于绑定传入连接的本地接口</li>
<li><strong>安全说明</strong>: 绑定到 0.0.0.0 将允许远程连接</li>
<li><strong>示例</strong>: <code>interface=127.0.0.1</code></li>
</ul>
<h4 id="tunnelnlistenport-listenport">tunnel.N.listenPort (listenPort)</h4>
<ul>
<li><strong>类型</strong>: 整数</li>
<li><strong>上下文</strong>: 仅适用于 Client tunnels（客户端隧道）</li>
<li><strong>范围</strong>: 1-65535</li>
<li><strong>描述</strong>: 用于监听客户端连接的本地端口</li>
<li><strong>示例</strong>: <code>listenPort=4444</code></li>
</ul>
<h4 id="tunnelntargethost-targethost">tunnel.N.targetHost (targetHost)</h4>
<ul>
<li><strong>类型</strong>: 字符串（IP 地址或主机名）</li>
<li><strong>上下文</strong>: 仅限 Server tunnels</li>
<li><strong>描述</strong>: 用于转发连接的本地目标服务器</li>
<li><strong>示例</strong>: <code>targetHost=127.0.0.1</code></li>
</ul>
<h4 id="tunnelntargetport-targetport">tunnel.N.targetPort (targetPort)</h4>
<ul>
<li><strong>类型</strong>: 整数</li>
<li><strong>上下文</strong>: 仅用于服务器 tunnels</li>
<li><strong>范围</strong>: 1-65535</li>
<li><strong>描述</strong>: 要连接的 targetHost 上的端口</li>
<li><strong>示例</strong>: <code>targetPort=80</code></li>
</ul>
<h4 id="tunnelntargetdestination-targetdestination">tunnel.N.targetDestination (targetDestination)</h4>
<ul>
<li><strong>类型</strong>: 字符串（以逗号或空格分隔的目标地址）</li>
<li><strong>上下文</strong>: 仅限 Client tunnels</li>
<li><strong>格式</strong>: <code>destination[:port][,destination[:port]]</code></li>
<li><strong>描述</strong>: 要连接的 I2P 目标地址（Destination）</li>
<li><strong>示例</strong>:
<ul>
<li><code>targetDestination=example.i2p</code></li>
<li><code>targetDestination=example.i2p:8080</code></li>
<li><code>targetDestination=site1.i2p,site2.i2p:8080</code></li>
</ul>
</li>
</ul>
<h4 id="tunnelni2cphost-i2cphost">tunnel.N.i2cpHost (i2cpHost)</h4>
<ul>
<li><strong>类型</strong>: 字符串（IP 地址或主机名）</li>
<li><strong>默认值</strong>: 127.0.0.1</li>
<li><strong>描述</strong>: I2P router 的 I2CP 接口地址</li>
<li><strong>注意</strong>: 在 router 上下文中运行时将被忽略</li>
<li><strong>示例</strong>: <code>i2cpHost=127.0.0.1</code></li>
</ul>
<h4 id="tunnelni2cpport-i2cpport">tunnel.N.i2cpPort (i2cpPort)</h4>
<ul>
<li><strong>类型</strong>: 整数</li>
<li><strong>默认值</strong>: 7654</li>
<li><strong>范围</strong>: 1-65535</li>
<li><strong>描述</strong>: I2P router 的 I2CP 端口</li>
<li><strong>注意</strong>: 在 router 上下文中运行时会被忽略</li>
<li><strong>示例</strong>: <code>i2cpPort=7654</code></li>
</ul>
<h4 id="tunnelnstartonload-startonload">tunnel.N.startOnLoad (startOnLoad)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>默认值</strong>: true</li>
<li><strong>说明</strong>: 当 I2PTunnel 加载时是否启动 tunnel</li>
<li><strong>示例</strong>: <code>startOnLoad=true</code></li>
</ul>
<h3 id="代理配置">代理配置</h3>
<h4 id="tunnelnproxylist-proxylist">tunnel.N.proxyList (proxyList)</h4>
<ul>
<li><strong>类型</strong>: 字符串（以逗号或空格分隔的主机名）</li>
<li><strong>适用范围</strong>: 仅限 HTTP 和 SOCKS 代理</li>
<li><strong>描述</strong>: outproxy（出站代理）主机列表</li>
<li><strong>示例</strong>: <code>proxyList=outproxy.example.i2p,backup.example.i2p</code></li>
</ul>
<h3 id="服务器配置">服务器配置</h3>
<h4 id="tunnelnprivkeyfile-privkeyfile">tunnel.N.privKeyFile (privKeyFile)</h4>
<ul>
<li><strong>类型</strong>: 字符串（文件路径）</li>
<li><strong>适用范围</strong>: 服务器和持久化客户端 tunnels（隧道）</li>
<li><strong>描述</strong>: 包含持久化目标私钥的文件</li>
<li><strong>路径</strong>: 绝对路径或相对于 I2P 配置目录</li>
<li><strong>示例</strong>: <code>privKeyFile=eepsite/eepPriv.dat</code></li>
</ul>
<h4 id="tunnelnspoofedhost-spoofedhost">tunnel.N.spoofedHost (spoofedHost)</h4>
<ul>
<li><strong>类型</strong>: 字符串（主机名）</li>
<li><strong>上下文</strong>: 仅适用于 HTTP 服务器</li>
<li><strong>默认值</strong>: 目标（destination）的 Base32 主机名</li>
<li><strong>描述</strong>: 传递给本地服务器的 Host 请求头值</li>
<li><strong>示例</strong>: <code>spoofedHost=example.i2p</code></li>
</ul>
<h4 id="tunnelnspoofedhostnnnn-spoofedhostnnnn">tunnel.N.spoofedHost.NNNN (spoofedHost.NNNN)</h4>
<ul>
<li><strong>类型</strong>: 字符串（主机名）</li>
<li><strong>适用范围</strong>: 仅限 HTTP 服务器</li>
<li><strong>描述</strong>: 针对特定入站端口的虚拟主机覆盖</li>
<li><strong>用例</strong>: 在不同端口上托管多个站点</li>
<li><strong>示例</strong>: <code>spoofedHost.8080=site1.example.i2p</code></li>
</ul>
<h3 id="客户端特定选项">客户端特定选项</h3>
<h4 id="tunnelnsharedclient-sharedclient">tunnel.N.sharedClient (sharedClient)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>上下文</strong>: 仅适用于 Client tunnels</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 是否允许多个客户端共享该 tunnel</li>
<li><strong>示例</strong>: <code>sharedClient=false</code></li>
</ul>
<h4 id="tunnelnoptionpersistentclientkey-persistentclientkey">tunnel.N.option.persistentClientKey (persistentClientKey)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>上下文</strong>: 仅适用于客户端 tunnel</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 在重启之间保存并复用目标密钥</li>
<li><strong>冲突</strong>: 与 <code>i2cp.newDestOnResume=true</code> 互斥</li>
<li><strong>示例</strong>: <code>option.persistentClientKey=true</code></li>
</ul>
<h3 id="i2cp-选项-i2ptunnel-实现">I2CP 选项 (I2PTunnel 实现)</h3>
<p><strong>重要</strong>: 这些属性以 <code>option.i2cp.</code> 为前缀，但<strong>由 I2PTunnel 实现</strong>，而不是在 I2CP 协议层实现。它们无法通过 I2CP 或 SAM API 使用。</p>
<h4 id="tunnelnoptioni2cpdelayopen-optioni2cpdelayopen">tunnel.N.option.i2cp.delayOpen (option.i2cp.delayOpen)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>适用范围</strong>: 仅限客户端 tunnels</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 延迟创建 tunnel，直到首次连接</li>
<li><strong>使用场景</strong>: 为很少使用的 tunnels 节省资源</li>
<li><strong>示例</strong>: <code>option.i2cp.delayOpen=false</code></li>
</ul>
<h4 id="tunnelnoptioni2cpnewdestonresume-optioni2cpnewdestonresume">tunnel.N.option.i2cp.newDestOnResume (option.i2cp.newDestOnResume)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>上下文</strong>: 仅用于 Client tunnels</li>
<li><strong>默认值</strong>: false</li>
<li><strong>需要</strong>: <code>i2cp.closeOnIdle=true</code></li>
<li><strong>冲突</strong>: 与 <code>persistentClientKey=true</code> 互斥</li>
<li><strong>描述</strong>: 在空闲超时后创建新的 Destination（目标地址）</li>
<li><strong>示例</strong>: <code>option.i2cp.newDestOnResume=false</code></li>
</ul>
<h4 id="tunnelnoptioni2cpleasesetprivatekey-optioni2cpleasesetprivatekey">tunnel.N.option.i2cp.leaseSetPrivateKey (option.i2cp.leaseSetPrivateKey)</h4>
<ul>
<li><strong>类型</strong>: 字符串（base64 编码的密钥）</li>
<li><strong>上下文</strong>: 仅适用于服务器 tunnels</li>
<li><strong>描述</strong>: 持久的私有 leaseset（I2P 中发布到 netDb 的可达性信息集合）加密密钥</li>
<li><strong>使用场景</strong>: 跨重启保持加密的 leaseset 一致性</li>
<li><strong>示例</strong>: <code>option.i2cp.leaseSetPrivateKey=AAAA...base64...</code></li>
</ul>
<h4 id="tunnelnoptioni2cpleasesetsigningprivatekey-optioni2cpleasesetsigningprivatekey">tunnel.N.option.i2cp.leaseSetSigningPrivateKey (option.i2cp.leaseSetSigningPrivateKey)</h4>
<ul>
<li><strong>Type</strong>: 字符串 (sigtype:base64)</li>
<li><strong>Context</strong>: 仅用于 Server tunnels</li>
<li><strong>Format</strong>: <code>sigtype:base64key</code></li>
<li><strong>Description</strong>: 持久化 leaseset（I2P 的租约集合）签名私钥</li>
<li><strong>Example</strong>: <code>option.i2cp.leaseSetSigningPrivateKey=7:AAAA...base64...</code></li>
</ul>
<h3 id="服务器特定选项">服务器特定选项</h3>
<h4 id="tunnelnoptionenableuniquelocal-optionenableuniquelocal">tunnel.N.option.enableUniqueLocal (option.enableUniqueLocal)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>适用范围</strong>: 仅限服务器 tunnels</li>
<li><strong>默认值</strong>: false</li>
<li><strong>说明</strong>: 针对每个远程 I2P 目标使用唯一的本地 IP</li>
<li><strong>使用场景</strong>: 在服务器日志中跟踪客户端 IP</li>
<li><strong>安全提示</strong>: 可能降低匿名性</li>
<li><strong>示例</strong>: <code>option.enableUniqueLocal=false</code></li>
</ul>
<h4 id="tunnelnoptiontargetforportnnnn-optiontargetforportnnnn">tunnel.N.option.targetForPort.NNNN (option.targetForPort.NNNN)</h4>
<ul>
<li><strong>Type</strong>: 字符串 (hostname:port)</li>
<li><strong>Context</strong>: 仅适用于 Server tunnels</li>
<li><strong>Description</strong>: 为传入端口 NNNN 覆盖 targetHost/targetPort</li>
<li><strong>Use Case</strong>: 基于端口将流量路由到不同的本地服务</li>
<li><strong>Example</strong>: <code>option.targetForPort.8080=localhost:8080</code></li>
</ul>
<h3 id="线程池配置">线程池配置</h3>
<h4 id="tunnelnoptioni2ptunnelusepool-optioni2ptunnelusepool">tunnel.N.option.i2ptunnel.usePool (option.i2ptunnel.usePool)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>适用范围</strong>: 仅用于 Server tunnels</li>
<li><strong>默认值</strong>: true</li>
<li><strong>描述</strong>: 使用线程池进行连接处理</li>
<li><strong>注意</strong>: 对于标准服务器始终为 false (忽略)</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.usePool=true</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunnelblockinghandlercount-optioni2ptunnelblockinghandlercount">tunnel.N.option.i2ptunnel.blockingHandlerCount (option.i2ptunnel.blockingHandlerCount)</h4>
<ul>
<li><strong>类型</strong>: 整数</li>
<li><strong>上下文</strong>: 仅用于服务器 tunnel</li>
<li><strong>默认值</strong>: 65</li>
<li><strong>描述</strong>: 最大线程池大小</li>
<li><strong>注意</strong>: 对标准服务器无效</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.blockingHandlerCount=100</code></li>
</ul>
<h3 id="http-客户端选项">HTTP 客户端选项</h3>
<h4 id="tunnelnoptioni2ptunnelhttpclientallowinternalssl-optioni2ptunnelhttpclientallowinternalssl">tunnel.N.option.i2ptunnel.httpclient.allowInternalSSL (option.i2ptunnel.httpclient.allowInternalSSL)</h4>
<ul>
<li><strong>类型</strong>: 布尔型</li>
<li><strong>上下文</strong>: 仅限 HTTP 客户端</li>
<li><strong>默认值</strong>: false</li>
<li><strong>说明</strong>: 允许 SSL 连接到 .i2p 地址</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.httpclient.allowInternalSSL=false</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunnelhttpclientdisableaddresshelper-optioni2ptunnelhttpclientdisableaddresshelper">tunnel.N.option.i2ptunnel.httpclient.disableAddressHelper (option.i2ptunnel.httpclient.disableAddressHelper)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>上下文</strong>: 仅限 HTTP 客户端</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 在代理响应中禁用地址助手链接</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.httpclient.disableAddressHelper=false</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunnelhttpclientjumpservers-optioni2ptunnelhttpclientjumpservers">tunnel.N.option.i2ptunnel.httpclient.jumpServers (option.i2ptunnel.httpclient.jumpServers)</h4>
<ul>
<li><strong>Type</strong>: 字符串 (以逗号或空格分隔的 URL)</li>
<li><strong>Context</strong>: 仅限 HTTP 客户端</li>
<li><strong>Description</strong>: 用于主机名解析的 Jump server (I2P 的跳转服务器) URL</li>
<li><strong>Example</strong>: <code>option.i2ptunnel.httpclient.jumpServers=http://jump.i2p/jump,http://stats.i2p/jump</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunnelhttpclientsendaccept-optioni2ptunnelhttpclientsendaccept">tunnel.N.option.i2ptunnel.httpclient.sendAccept (option.i2ptunnel.httpclient.sendAccept)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>上下文</strong>: 仅限 HTTP 客户端</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 传递 Accept-* 请求头（以 Accept 开头的 HTTP 请求头，除 Accept 和 Accept-Encoding 外）</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.httpclient.sendAccept=false</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunnelhttpclientsendreferer-optioni2ptunnelhttpclientsendreferer">tunnel.N.option.i2ptunnel.httpclient.sendReferer (option.i2ptunnel.httpclient.sendReferer)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>上下文</strong>: 仅适用于 HTTP 客户端</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 通过代理转发 Referer 请求头</li>
<li><strong>隐私提示</strong>: 可能泄露信息</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.httpclient.sendReferer=false</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunnelhttpclientsenduseragent-optioni2ptunnelhttpclientsenduseragent">tunnel.N.option.i2ptunnel.httpclient.sendUserAgent (option.i2ptunnel.httpclient.sendUserAgent)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>适用范围</strong>: 仅限 HTTP 客户端</li>
<li><strong>默认值</strong>: false</li>
<li><strong>说明</strong>: 通过代理传递 User-Agent 头</li>
<li><strong>隐私提示</strong>: 可能泄露浏览器信息</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.httpclient.sendUserAgent=false</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunnelhttpclientsendvia-optioni2ptunnelhttpclientsendvia">tunnel.N.option.i2ptunnel.httpclient.sendVia (option.i2ptunnel.httpclient.sendVia)</h4>
<ul>
<li><strong>类型</strong>: 布尔</li>
<li><strong>上下文</strong>: 仅适用于 HTTP 客户端</li>
<li><strong>默认值</strong>: false</li>
<li><strong>说明</strong>: 通过代理传递 Via 头部</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.httpclient.sendVia=false</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunnelhttpclientssloutproxies-optioni2ptunnelhttpclientssloutproxies">tunnel.N.option.i2ptunnel.httpclient.SSLOutproxies (option.i2ptunnel.httpclient.SSLOutproxies)</h4>
<ul>
<li><strong>类型</strong>: 字符串（以逗号或空格分隔的目标地址）</li>
<li><strong>上下文</strong>: 仅限 HTTP 客户端</li>
<li><strong>描述</strong>: 用于 HTTPS 的网络内 SSL outproxies（出口代理）</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.httpclient.SSLOutproxies=ssl-outproxy.i2p</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunneluselocaloutproxy-optioni2ptunneluselocaloutproxy">tunnel.N.option.i2ptunnel.useLocalOutproxy (option.i2ptunnel.useLocalOutproxy)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>适用范围</strong>: 仅限 HTTP 客户端</li>
<li><strong>默认值</strong>: true</li>
<li><strong>描述</strong>: 使用已注册的本地 outproxy（出口代理）插件</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.useLocalOutproxy=true</code></li>
</ul>
<h3 id="http-客户端身份验证">HTTP 客户端身份验证</h3>
<h4 id="tunnelnoptionproxyauth-optionproxyauth">tunnel.N.option.proxyAuth (option.proxyAuth)</h4>
<ul>
<li><strong>类型</strong>: 枚举</li>
<li><strong>上下文</strong>: 仅限 HTTP 客户端</li>
<li><strong>默认</strong>: false</li>
<li><strong>取值</strong>: <code>true</code>, <code>false</code>, <code>basic</code>, <code>digest</code></li>
<li><strong>说明</strong>: 代理访问需要本地身份验证</li>
<li><strong>注意</strong>: <code>true</code> 等同于 <code>basic</code></li>
<li><strong>示例</strong>: <code>option.proxyAuth=basic</code></li>
</ul>
<h4 id="tunnelnoptionproxyauthusermd5-optionproxyauthusermd5">tunnel.N.option.proxy.auth.USER.md5 (option.proxy.auth.USER.md5)</h4>
<ul>
<li><strong>类型</strong>: 字符串（32 个小写十六进制字符）</li>
<li><strong>上下文</strong>: 仅限 HTTP 客户端</li>
<li><strong>要求</strong>: <code>proxyAuth=basic</code> 或 <code>proxyAuth=digest</code></li>
<li><strong>说明</strong>: 用户 USER 的密码的 MD5 哈希</li>
<li><strong>弃用</strong>: 请改用 SHA-256（0.9.56+）</li>
<li><strong>示例</strong>: <code>option.proxy.auth.alice.md5=5f4dcc3b5aa765d61d8327deb882cf99</code></li>
</ul>
<h4 id="tunnelnoptionproxyauthusersha256-optionproxyauthusersha256">tunnel.N.option.proxy.auth.USER.sha256 (option.proxy.auth.USER.sha256)</h4>
<ul>
<li><strong>类型</strong>: 字符串（64 个字符的小写十六进制）</li>
<li><strong>上下文</strong>: 仅限 HTTP 客户端</li>
<li><strong>要求</strong>: <code>proxyAuth=digest</code></li>
<li><strong>起始版本</strong>: 0.9.56</li>
<li><strong>标准</strong>: RFC 7616</li>
<li><strong>描述</strong>: 用户 USER 的密码的 SHA-256 哈希</li>
<li><strong>示例</strong>: <code>option.proxy.auth.alice.sha256=5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8</code></li>
</ul>
<h3 id="出口代理认证">出口代理认证</h3>
<h4 id="tunnelnoptionoutproxyauth-optionoutproxyauth">tunnel.N.option.outproxyAuth (option.outproxyAuth)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>上下文</strong>: 仅适用于 HTTP 客户端</li>
<li><strong>默认值</strong>: false</li>
<li><strong>说明</strong>: 向 outproxy（出口代理）发送认证信息</li>
<li><strong>示例</strong>: <code>option.outproxyAuth=false</code></li>
</ul>
<h4 id="tunnelnoptionoutproxyusername-optionoutproxyusername">tunnel.N.option.outproxyUsername (option.outproxyUsername)</h4>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>上下文</strong>: 仅限 HTTP 客户端</li>
<li><strong>需要</strong>: <code>outproxyAuth=true</code></li>
<li><strong>描述</strong>: 用于 outproxy（出口代理）认证的用户名</li>
<li><strong>示例</strong>: <code>option.outproxyUsername=user</code></li>
</ul>
<h4 id="tunnelnoptionoutproxypassword-optionoutproxypassword">tunnel.N.option.outproxyPassword (option.outproxyPassword)</h4>
<ul>
<li><strong>类型</strong>: 字符串</li>
<li><strong>上下文</strong>: 仅限 HTTP 客户端</li>
<li><strong>要求</strong>: <code>outproxyAuth=true</code></li>
<li><strong>描述</strong>: 用于 outproxy（出口代理）认证的密码</li>
<li><strong>安全性</strong>: 以明文存储</li>
<li><strong>示例</strong>: <code>option.outproxyPassword=secret</code></li>
</ul>
<h3 id="socks-客户端选项">SOCKS 客户端选项</h3>
<h4 id="tunnelnoptioni2ptunnelsocksproxydefault-optioni2ptunnelsocksproxydefault">tunnel.N.option.i2ptunnel.socks.proxy.default (option.i2ptunnel.socks.proxy.default)</h4>
<ul>
<li><strong>类型</strong>: 字符串（以逗号或空格分隔的目标地址）</li>
<li><strong>上下文</strong>: 仅适用于 SOCKS 客户端</li>
<li><strong>描述</strong>: I2P 网络内的 outproxy（出站代理），用于未指定端口</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.socks.proxy.default=outproxy.i2p</code></li>
</ul>
<h4 id="tunnelnoptioni2ptunnelsocksproxynnnn-optioni2ptunnelsocksproxynnnn">tunnel.N.option.i2ptunnel.socks.proxy.NNNN (option.i2ptunnel.socks.proxy.NNNN)</h4>
<ul>
<li><strong>类型</strong>: 字符串（以逗号或空格分隔的 destinations（I2P 目的地标识））</li>
<li><strong>上下文</strong>: 仅限 SOCKS 客户端</li>
<li><strong>描述</strong>: 专用于端口 NNNN 的网络内 outproxies（出口代理）</li>
<li><strong>示例</strong>: <code>option.i2ptunnel.socks.proxy.443=ssl-outproxy.i2p</code></li>
</ul>
<h4 id="tunnelnoptionoutproxytype-optionoutproxytype">tunnel.N.option.outproxyType (option.outproxyType)</h4>
<ul>
<li><strong>Type</strong>: 枚举</li>
<li><strong>Context</strong>: 仅限 SOCKS 客户端</li>
<li><strong>Default</strong>: socks</li>
<li><strong>Since</strong>: 自 0.9.57 版本起</li>
<li><strong>Values</strong>: <code>socks</code>, <code>connect</code> (HTTPS)</li>
<li><strong>Description</strong>: 已配置的 outproxy（出口代理）的类型</li>
<li><strong>Example</strong>: <code>option.outproxyType=connect</code></li>
</ul>
<h3 id="http-服务器选项">HTTP 服务器选项</h3>
<h4 id="tunnelnoptionmaxposts-optionmaxposts">tunnel.N.option.maxPosts (option.maxPosts)</h4>
<ul>
<li><strong>类型</strong>: 整数</li>
<li><strong>适用范围</strong>: 仅限 HTTP 服务器</li>
<li><strong>默认值</strong>: 0（无限制）</li>
<li><strong>说明</strong>: 每个 postCheckTime 内，来自同一 Destination（I2P 目标标识）的最大 POST 请求数</li>
<li><strong>示例</strong>: <code>option.maxPosts=10</code></li>
</ul>
<h4 id="tunnelnoptionmaxtotalposts-optionmaxtotalposts">tunnel.N.option.maxTotalPosts (option.maxTotalPosts)</h4>
<ul>
<li><strong>Type</strong>: 整数</li>
<li><strong>Context</strong>: 仅限 HTTP 服务器</li>
<li><strong>Default</strong>: 0（无限制）</li>
<li><strong>Description</strong>: 每个 postCheckTime 内来自所有 destinations（I2P 目标地址）的 POST 请求最大次数</li>
<li><strong>Example</strong>: <code>option.maxTotalPosts=50</code></li>
</ul>
<h4 id="tunnelnoptionpostchecktime-optionpostchecktime">tunnel.N.option.postCheckTime (option.postCheckTime)</h4>
<ul>
<li><strong>类型</strong>: 整数（秒）</li>
<li><strong>上下文</strong>: 仅限 HTTP 服务器</li>
<li><strong>默认值</strong>: 300</li>
<li><strong>描述</strong>: 用于检查 POST 限制的时间窗口</li>
<li><strong>示例</strong>: <code>option.postCheckTime=600</code></li>
</ul>
<h4 id="tunnelnoptionpostbantime-optionpostbantime">tunnel.N.option.postBanTime (option.postBanTime)</h4>
<ul>
<li><strong>Type</strong>: 整数（秒）</li>
<li><strong>Context</strong>: 仅限 HTTP 服务器</li>
<li><strong>Default</strong>: 1800</li>
<li><strong>Description</strong>: 当单个 destination（I2P 目标标识）超过 maxPosts 时的封禁时长</li>
<li><strong>Example</strong>: <code>option.postBanTime=3600</code></li>
</ul>
<h4 id="tunnelnoptionposttotalbantime-optionposttotalbantime">tunnel.N.option.postTotalBanTime (option.postTotalBanTime)</h4>
<ul>
<li><strong>类型</strong>: 整数（秒）</li>
<li><strong>适用范围</strong>: 仅适用于 HTTP 服务器</li>
<li><strong>默认值</strong>: 600</li>
<li><strong>描述</strong>: 当超过 maxTotalPosts 后的封禁时长</li>
<li><strong>示例</strong>: <code>option.postTotalBanTime=1200</code></li>
</ul>
<h3 id="http-服务器安全选项">HTTP 服务器安全选项</h3>
<h4 id="tunnelnoptionrejectinproxy-optionrejectinproxy">tunnel.N.option.rejectInproxy (option.rejectInproxy)</h4>
<ul>
<li><strong>类型</strong>: 布尔</li>
<li><strong>上下文</strong>: 仅适用于 HTTP 服务器</li>
<li><strong>默认值</strong>: false</li>
<li><strong>描述</strong>: 拒绝看似经由 inproxy（入口代理；用于从明网访问 I2P 站点的 HTTP 网关）的连接</li>
<li><strong>示例</strong>: <code>option.rejectInproxy=false</code></li>
</ul>
<h4 id="tunnelnoptionrejectreferer-optionrejectreferer">tunnel.N.option.rejectReferer (option.rejectReferer)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>上下文</strong>: 仅限 HTTP 服务器</li>
<li><strong>默认值</strong>: false</li>
<li><strong>起始版本</strong>: 0.9.25</li>
<li><strong>描述</strong>: 拒绝带有 Referer 请求头的连接</li>
<li><strong>示例</strong>: <code>option.rejectReferer=false</code></li>
</ul>
<h4 id="tunnelnoptionrejectuseragents-optionrejectuseragents">tunnel.N.option.rejectUserAgents (option.rejectUserAgents)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>上下文</strong>: 仅适用于 HTTP 服务器</li>
<li><strong>默认值</strong>: false</li>
<li><strong>起始版本</strong>: 0.9.25</li>
<li><strong>需要</strong>: <code>userAgentRejectList</code> 属性</li>
<li><strong>描述</strong>: 拒绝与 User-Agent 匹配的连接</li>
<li><strong>示例</strong>: <code>option.rejectUserAgents=false</code></li>
</ul>
<h4 id="tunnelnoptionuseragentrejectlist-optionuseragentrejectlist">tunnel.N.option.userAgentRejectList (option.userAgentRejectList)</h4>
<ul>
<li><strong>类型</strong>: 字符串（逗号分隔的匹配字符串）</li>
<li><strong>适用范围</strong>: 仅限 HTTP 服务器</li>
<li><strong>自</strong>: 自版本 0.9.25 起</li>
<li><strong>大小写</strong>: 大小写敏感匹配</li>
<li><strong>特殊</strong>: &ldquo;none&rdquo;（自 0.9.33 起）匹配空的 User-Agent</li>
<li><strong>描述</strong>: 要拒绝的 User-Agent 模式列表</li>
<li><strong>示例</strong>: <code>option.userAgentRejectList=Mozilla,Opera,none</code></li>
</ul>
<h3 id="irc-服务器选项">IRC 服务器选项</h3>
<h4 id="tunnelnoptionircserverfakehostname-optionircserverfakehostname">tunnel.N.option.ircserver.fakeHostname (option.ircserver.fakeHostname)</h4>
<ul>
<li><strong>类型</strong>: 字符串（主机名模式）</li>
<li><strong>上下文</strong>: 仅限 IRC 服务器</li>
<li><strong>默认值</strong>: <code>%f.b32.i2p</code></li>
<li><strong>占位符</strong>:
<ul>
<li><code>%f</code> = 完整的 base32 目标地址哈希</li>
<li><code>%c</code> = 遮蔽的目标地址哈希（参见 cloakKey）</li>
</ul>
</li>
<li><strong>描述</strong>: 发送给 IRC 服务器的主机名格式</li>
<li><strong>示例</strong>: <code>option.ircserver.fakeHostname=%c.irc.i2p</code></li>
</ul>
<h4 id="tunnelnoptionircservercloakkey-optionircservercloakkey">tunnel.N.option.ircserver.cloakKey (option.ircserver.cloakKey)</h4>
<ul>
<li><strong>类型</strong>: 字符串（密码短语）</li>
<li><strong>适用范围</strong>: 仅适用于 IRC 服务器</li>
<li><strong>默认值</strong>: 每个会话随机生成</li>
<li><strong>限制</strong>: 不得包含引号或空格</li>
<li><strong>描述</strong>: 用于实现一致主机名伪装的密码短语</li>
<li><strong>使用场景</strong>: 跨重启/服务器的持久用户跟踪</li>
<li><strong>示例</strong>: <code>option.ircserver.cloakKey=mysecretkey</code></li>
</ul>
<h4 id="tunnelnoptionircservermethod-optionircservermethod">tunnel.N.option.ircserver.method (option.ircserver.method)</h4>
<ul>
<li><strong>类型</strong>: 枚举</li>
<li><strong>适用范围</strong>: 仅限 IRC 服务器</li>
<li><strong>默认值</strong>: user</li>
<li><strong>可选值</strong>: <code>user</code>、<code>webirc</code></li>
<li><strong>说明</strong>: 用于 IRC 服务器的认证方法</li>
<li><strong>示例</strong>: <code>option.ircserver.method=webirc</code></li>
</ul>
<h4 id="tunnelnoptionircserverwebircpassword-optionircserverwebircpassword">tunnel.N.option.ircserver.webircPassword (option.ircserver.webircPassword)</h4>
<ul>
<li><strong>类型</strong>: 字符串 (密码)</li>
<li><strong>上下文</strong>: 仅限 IRC 服务器</li>
<li><strong>要求</strong>: <code>method=webirc</code></li>
<li><strong>限制</strong>: 不得包含引号或空格</li>
<li><strong>描述</strong>: 用于 WEBIRC 协议认证的密码</li>
<li><strong>示例</strong>: <code>option.ircserver.webircPassword=webircpass</code></li>
</ul>
<h4 id="tunnelnoptionircserverwebircspoofip-optionircserverwebircspoofip">tunnel.N.option.ircserver.webircSpoofIP (option.ircserver.webircSpoofIP)</h4>
<ul>
<li><strong>类型</strong>: 字符串（IP 地址）</li>
<li><strong>上下文</strong>: 仅限 IRC 服务器</li>
<li><strong>要求</strong>: <code>method=webirc</code></li>
<li><strong>描述</strong>: 用于 WEBIRC 协议的伪造 IP 地址</li>
<li><strong>示例</strong>: <code>option.ircserver.webircSpoofIP=10.0.0.1</code></li>
</ul>
<h3 id="ssltls-配置">SSL/TLS 配置</h3>
<h4 id="tunnelnoptionusessl-optionusessl">tunnel.N.option.useSSL (option.useSSL)</h4>
<ul>
<li><strong>类型</strong>: 布尔值</li>
<li><strong>默认值</strong>: false</li>
<li><strong>适用范围</strong>: 所有 tunnels</li>
<li><strong>行为</strong>:
<ul>
<li><strong>服务器</strong>: 对与本地服务器的连接使用 SSL</li>
<li><strong>客户端</strong>: 要求本地客户端使用 SSL</li>
</ul>
</li>
<li><strong>示例</strong>: <code>option.useSSL=false</code></li>
</ul>
<h4 id="tunnelnoptionkeystorefile-optionkeystorefile">tunnel.N.option.keystoreFile (option.keystoreFile)</h4>
<ul>
<li><strong>类型</strong>: 字符串 (文件路径)</li>
<li><strong>上下文</strong>: 仅用于 Client tunnels</li>
<li><strong>默认值</strong>: <code>i2ptunnel-(random).ks</code></li>
<li><strong>路径</strong>: 若非绝对路径，则相对于 <code>$(I2P_CONFIG_DIR)/keystore/</code></li>
<li><strong>自动生成</strong>: 如果不存在则创建</li>
<li><strong>说明</strong>: 包含 SSL 私钥的密钥库文件</li>
<li><strong>示例</strong>: <code>option.keystoreFile=my-tunnel.ks</code></li>
</ul>
<h4 id="tunnelnoptionkeystorepassword-optionkeystorepassword">tunnel.N.option.keystorePassword (option.keystorePassword)</h4>
<ul>
<li><strong>类型</strong>: 字符串（密码）</li>
<li><strong>适用范围</strong>: 仅限客户端 tunnels</li>
<li><strong>默认值</strong>: changeit</li>
<li><strong>自动生成</strong>: 若创建新密钥库则随机生成密码</li>
<li><strong>描述</strong>: SSL 密钥库的密码</li>
<li><strong>示例</strong>: <code>option.keystorePassword=secretpassword</code></li>
</ul>
<h4 id="tunnelnoptionkeyalias-optionkeyalias">tunnel.N.option.keyAlias (option.keyAlias)</h4>
<ul>
<li><strong>类型</strong>: 字符串（别名）</li>
<li><strong>上下文</strong>: 仅用于 Client tunnels</li>
<li><strong>自动生成</strong>: 如果生成了新密钥，则创建</li>
<li><strong>描述</strong>: 密钥库中的私钥别名</li>
<li><strong>示例</strong>: <code>option.keyAlias=mytunnel-key</code></li>
</ul>
<h4 id="tunnelnoptionkeypassword-optionkeypassword">tunnel.N.option.keyPassword (option.keyPassword)</h4>
<ul>
<li><strong>类型</strong>: 字符串（密码）</li>
<li><strong>上下文</strong>: 仅限客户端 tunnels</li>
<li><strong>自动生成</strong>: 创建新密钥时生成随机密码</li>
<li><strong>描述</strong>: 密钥库中私钥的密码</li>
<li><strong>示例</strong>: <code>option.keyPassword=keypass123</code></li>
</ul>
<h3 id="通用-i2cp-与-streaming流式传输选项">通用 I2CP 与 Streaming（流式传输）选项</h3>
<p>所有 <code>tunnel.N.option.*</code> 属性（上文未特别说明的）在传递给 I2CP 接口和 streaming library（流式库）时，会去除 <code>tunnel.N.option.</code> 前缀。</p>
<p><strong>重要</strong>：这些与 I2PTunnel 特定选项是分开的。参见： - <a href="../../../../zh/docs/specs/i2cp/">I2CP 规范</a>
 - <a href="../../../../zh/docs/specs/streaming/">Streaming Library 规范（流式传输库）</a>
</p>
<p>示例流式传输选项：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">option.i2cp.messageReliability</span><span style="color:#f92672">=</span><span style="color:#e6db74">BestEffort</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2p.streaming.connectDelay</span><span style="color:#f92672">=</span><span style="color:#e6db74">1000</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2p.streaming.maxWindowSize</span><span style="color:#f92672">=</span><span style="color:#e6db74">128</span>
</span></span></code></pre></div><h3 id="完整的-tunnel-示例">完整的 Tunnel 示例</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#75715e"># HTTP Proxy (split format without tunnel.N. prefix)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">I2P HTTP Proxy</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">description</span><span style="color:#f92672">=</span><span style="color:#e6db74">HTTP proxy for accessing I2P sites and outproxy</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">httpclient</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">interface</span><span style="color:#f92672">=</span><span style="color:#e6db74">127.0.0.1</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">listenPort</span><span style="color:#f92672">=</span><span style="color:#e6db74">4444</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">targetDestination</span><span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sharedClient</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">startOnLoad</span><span style="color:#f92672">=</span><span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># I2CP configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2cpHost</span><span style="color:#f92672">=</span><span style="color:#e6db74">127.0.0.1</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">i2cpPort</span><span style="color:#f92672">=</span><span style="color:#e6db74">7654</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># HTTP client options</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2ptunnel.httpclient.allowInternalSSL</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2ptunnel.httpclient.disableAddressHelper</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2ptunnel.httpclient.jumpServers</span><span style="color:#f92672">=</span><span style="color:#e6db74">http://stats.i2p/cgi-bin/jump.cgi</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2ptunnel.httpclient.sendAccept</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2ptunnel.httpclient.sendReferer</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2ptunnel.httpclient.sendUserAgent</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Proxy authentication</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.proxyAuth</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Outproxy configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2ptunnel.httpclient.SSLOutproxies</span><span style="color:#f92672">=</span><span style="color:#e6db74">false.i2p</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">proxyList</span><span style="color:#f92672">=</span><span style="color:#e6db74">false.i2p</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Client behavior</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.persistentClientKey</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.i2cp.delayOpen</span><span style="color:#f92672">=</span><span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># I2CP tunnel options</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.inbound.length</span><span style="color:#f92672">=</span><span style="color:#e6db74">3</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.outbound.length</span><span style="color:#f92672">=</span><span style="color:#e6db74">3</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.inbound.quantity</span><span style="color:#f92672">=</span><span style="color:#e6db74">2</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">option.outbound.quantity</span><span style="color:#f92672">=</span><span style="color:#e6db74">2</span>
</span></span></code></pre></div><hr>
<h2 id="版本历史与特性时间线">版本历史与特性时间线</h2>
<h3 id="版本-0910-2013">版本 0.9.10 (2013)</h3>
<p><strong>Feature</strong>: 配置文件中的空值支持 - 现在支持具有空值的键（<code>key=</code>） - 此前会被忽略或导致解析错误</p>
<h3 id="版本-0918-2015">版本 0.9.18 (2015)</h3>
<p><strong>功能</strong>: 日志记录器刷新间隔配置 - 属性: <code>logger.flushInterval</code> (默认 29 秒) - 在保持可接受的日志延迟的同时降低磁盘 I/O</p>
<h3 id="版本-09232015年11月">版本 0.9.23（2015年11月）</h3>
<p><strong>重大变更</strong>: 最低要求为 Java 7 - 已结束对 Java 6 的支持 - 为继续获得安全更新所必需</p>
<h3 id="版本-09252015">版本 0.9.25（2015）</h3>
<p><strong>功能</strong>：HTTP 服务器安全选项 - <code>tunnel.N.option.rejectReferer</code> - 拒绝带有 Referer 头的连接 - <code>tunnel.N.option.rejectUserAgents</code> - 拒绝特定的 User-Agent 头 - <code>tunnel.N.option.userAgentRejectList</code> - 要拒绝的 User-Agent 模式 - <strong>使用场景</strong>：缓解爬虫和不受欢迎客户端的访问</p>
<h3 id="版本-0933-2018年1月">版本 0.9.33 (2018年1月)</h3>
<p><strong>功能</strong>: 增强的 User-Agent 过滤 - <code>userAgentRejectList</code> 字符串 &ldquo;none&rdquo; 可匹配空的 User-Agent - 针对 i2psnark、i2ptunnel、streaming、SusiMail 的更多错误修复</p>
<h3 id="版本-09412019-年">版本 0.9.41（2019 年）</h3>
<p><strong>弃用</strong>: 已从 Android 移除 BOB 协议 - Android 用户必须迁移到 SAM 或 I2CP</p>
<h3 id="版本-09422019年8月">版本 0.9.42（2019年8月）</h3>
<p><strong>重大变更</strong>：配置文件拆分 - 将 <code>clients.config</code> 拆分为 <code>clients.config.d/</code> 目录结构 - 将 <code>i2ptunnel.config</code> 拆分为 <code>i2ptunnel.config.d/</code> 目录结构 - 升级后首次运行时自动迁移 - 支持模块化打包和插件管理 - 仍支持传统的单体格式</p>
<p><strong>其他功能</strong>: - SSU 性能改进 - 跨网络防护 (提案 147) - 初始加密类型支持</p>
<h3 id="版本-09562021">版本 0.9.56（2021）</h3>
<p><strong>功能</strong>: 安全与日志改进 - <code>logger.gzip</code> - 对轮转日志启用 Gzip 压缩（默认值：false） - <code>logger.minGzipSize</code> - 压缩的最小大小（默认值：65536 字节） - <code>tunnel.N.option.proxy.auth.USER.sha256</code> - SHA-256 摘要认证（RFC 7616） - <strong>安全</strong>: SHA-256 取代 MD5 用于摘要认证</p>
<h3 id="版本-09572023年1月">版本 0.9.57（2023年1月）</h3>
<p><strong>功能</strong>: SOCKS outproxy（出口代理）类型配置 - <code>tunnel.N.option.outproxyType</code> - 选择 outproxy 类型 (socks|connect) - 默认: socks - 为 HTTPS outproxy 提供 HTTPS CONNECT 支持</p>
<h3 id="版本-260-2024年7月">版本 2.6.0 (2024年7月)</h3>
<p><strong>破坏性变更</strong>: I2P-over-Tor 已被阻止 - 来自 Tor 出口节点 IP 地址的连接现已被拒绝 - <strong>原因</strong>: 降低 I2P 性能，浪费 Tor 出口资源 - <strong>影响</strong>: 通过 Tor 出口节点访问 I2P 的用户将被阻止 - 非出口中继和 Tor 客户端不受影响</p>
<h3 id="版本-2100-2025年9月---至今">版本 2.10.0 (2025年9月 - 至今)</h3>
<p><strong>主要特性</strong>: - <strong>后量子密码学</strong> 可用（可通过 Hidden Service Manager（隐藏服务管理器）选择启用） - <strong>UDP tracker 支持</strong>，用于 I2PSnark（I2P 内置的 BitTorrent 客户端），以降低 tracker 负载 - <strong>Hidden Mode（隐藏模式）稳定性</strong> 改进，以减少 RouterInfo 耗尽 - 针对拥塞的 router 的网络改进 - 增强的 UPnP/NAT 穿透 - NetDB 改进，包含更积极的 leaseset 移除 - 降低 router 事件的可观测性</p>
<p><strong>配置</strong>: 未添加新的配置属性</p>
<p><strong>即将到来的重大变更</strong>：下一个发行版（可能为 2.11.0 或 3.0.0）将需要 Java 17 或更高版本</p>
<hr>
<h2 id="弃用与不兼容变更">弃用与不兼容变更</h2>
<h3 id="重大弃用">重大弃用</h3>
<h4 id="i2p-over-tor-访问-版本-260">I2P-over-Tor 访问 (版本 2.6.0+)</h4>
<ul>
<li><strong>状态</strong>: 自 2024 年 7 月起已被封锁</li>
<li><strong>影响</strong>: 来自 Tor 出口节点 IP 地址的连接将被拒绝</li>
<li><strong>原因</strong>: 在未提供匿名性收益的情况下，会降低 I2P 网络性能</li>
<li><strong>影响范围</strong>: 仅限 Tor 出口节点，不包括中继或普通 Tor 客户端</li>
<li><strong>替代方案</strong>: 单独使用 I2P 或 Tor，不要组合使用</li>
</ul>
<h4 id="md5-摘要认证">MD5 摘要认证</h4>
<ul>
<li><strong>状态</strong>: 已弃用（使用 SHA-256）</li>
<li><strong>属性</strong>: <code>tunnel.N.option.proxy.auth.USER.md5</code></li>
<li><strong>原因</strong>: MD5 在密码学上已被攻破</li>
<li><strong>替代项</strong>: <code>tunnel.N.option.proxy.auth.USER.sha256</code>（自 0.9.56 起）</li>
<li><strong>时间线</strong>: 仍支持 MD5，但不推荐</li>
</ul>
<h3 id="配置架构变更">配置架构变更</h3>
<h4 id="单体式配置文件-版本-0942">单体式配置文件 (版本 0.9.42+)</h4>
<ul>
<li><strong>受影响</strong>: <code>clients.config</code>, <code>i2ptunnel.config</code></li>
<li><strong>状态</strong>: 已弃用，改用拆分目录结构</li>
<li><strong>迁移</strong>: 升级到 0.9.42 后首次运行时自动进行</li>
<li><strong>兼容性</strong>: 旧格式仍然可用（向后兼容）</li>
<li><strong>建议</strong>: 新配置请使用拆分格式</li>
</ul>
<h3 id="java-版本要求">Java 版本要求</h3>
<h4 id="java-6-支持">Java 6 支持</h4>
<ul>
<li><strong>已结束</strong>: 版本 0.9.23（2015年11月）</li>
<li><strong>最低要求</strong>: 自 0.9.23 起需要 Java 7</li>
</ul>
<h4 id="java-17-要求-即将到来">Java 17 要求 (即将到来)</h4>
<ul>
<li><strong>状态</strong>：重大即将变更</li>
<li><strong>目标</strong>：2.10.0 之后的下一次主版本发布（可能是 2.11.0 或 3.0.0）</li>
<li><strong>当前最低要求</strong>：Java 8</li>
<li><strong>所需操作</strong>：为迁移到 Java 17 做好准备</li>
<li><strong>时间表</strong>：将随发行说明公布</li>
</ul>
<h3 id="已移除的功能">已移除的功能</h3>
<h4 id="bob-协议android">BOB 协议（Android）</h4>
<ul>
<li><strong>已移除</strong>: 版本 0.9.41</li>
<li><strong>平台</strong>: 仅限 Android</li>
<li><strong>替代方案</strong>: SAM 或 I2CP 协议</li>
<li><strong>桌面端</strong>: BOB 在桌面平台仍可用</li>
</ul>
<h3 id="推荐的迁移">推荐的迁移</h3>
<ol>
<li><strong>认证</strong>：从 MD5 迁移到 SHA-256 摘要认证</li>
<li><strong>配置格式</strong>：迁移到为客户端和 tunnels 拆分的目录结构</li>
<li><strong>Java 运行时</strong>：计划在下一个主要版本发布之前升级到 Java 17</li>
<li><strong>Tor 集成</strong>：不要通过 Tor 的出口节点路由 I2P</li>
</ol>
<hr>
<h2 id="参考资料">参考资料</h2>
<h3 id="官方文档">官方文档</h3>
<ul>
<li><a href="../../../../zh/docs/specs/configuration/">I2P 配置规范</a>
 - 官方配置文件格式规范</li>
<li><a href="../../../../zh/docs/specs/plugin/">I2P 插件规范</a>
 - 插件配置与打包</li>
<li><a href="../../../../zh/docs/specs/common-structures/#type-mapping">I2P 通用结构 - 类型映射</a>
 - 协议数据序列化格式</li>
<li><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Properties.html#load%28java.io.InputStream%29">Java Properties 格式</a>
 - 基础格式规范</li>
</ul>
<h3 id="源代码">源代码</h3>
<ul>
<li><a href="https://github.com/i2p/i2p.i2p">I2P Java Router 仓库</a>
 - GitHub 镜像</li>
<li><a href="https://i2pgit.org/I2P_Developers/i2p.i2p">I2P 开发者 Gitea</a>
 - 官方 I2P 源代码仓库</li>
<li><a href="https://github.com/i2p/i2p.i2p/blob/master/core/java/src/net/i2p/data/DataHelper.java">DataHelper.java</a>
 - 配置文件 I/O 实现</li>
</ul>
<h3 id="社区资源">社区资源</h3>
<ul>
<li><a href="https://i2pforum.net/">I2P 论坛</a>
 - 活跃的社区讨论与支持</li>
<li><a href="../../../../zh/">I2P 网站</a>
 - 项目官方网站</li>
</ul>
<h3 id="api-文档">API 文档</h3>
<ul>
<li><a href="https://i2pplus.github.io/javadoc/net/i2p/data/DataHelper.html">DataHelper JavaDoc</a>
 - 关于配置文件方法的 API 文档</li>
</ul>
<h3 id="规范状态">规范状态</h3>
<ul>
<li><strong>规范上次更新</strong>: 2023年1月（版本 0.9.57）</li>
<li><strong>当前 I2P 版本</strong>: 2.10.0（2025年9月）</li>
<li><strong>技术准确性</strong>: 规范截至 2.10.0 仍然准确（无向后不兼容更改）</li>
<li><strong>维护</strong>: 这是一个持续维护的文档，会在配置格式修改时更新</li>
</ul>

                </article>

                
                <nav class="page-nav">
                    
                        <a href="../../../../zh/docs/specs/ssu2/" class="page-nav-link prev">
                            <span class="nav-label">← Previous</span>
                            <span class="nav-title">SSU2 规范</span>
                        </a>
                    
                    
                        <a href="../../../../zh/docs/specs/red25519-signature-scheme/" class="page-nav-link next">
                            <span class="nav-label">Next →</span>
                            <span class="nav-title">Red25519 签名方案</span>
                        </a>
                    
                </nav>

                
                <div class="docs-feedback">
                    <p>Was this page helpful?</p>
                    <div class="feedback-buttons" id="feedback-buttons">
                        <button class="feedback-btn" id="feedback-yes">👍 Yes</button>
                        <button class="feedback-btn" id="feedback-no">👎 No</button>
                    </div>

                    
                    <div class="feedback-form-container" id="feedback-form-container" style="display: none;">
                        <p class="feedback-form-title">We're sorry to hear that. How can we improve this page?</p>
                        <form id="feedback-form">
                            <div class="form-group">
                                <label for="feedback-email">Email (optional - if you'd like a response)</label>
                                <input type="email" id="feedback-email" name="email" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label for="feedback-message">Feedback *</label>
                                <textarea id="feedback-message" name="message" rows="4" required placeholder="Tell us what we can improve..."></textarea>
                            </div>
                            <button type="submit" class="btn-submit-feedback" id="feedback-submit-btn">
                                <span class="btn-text">Submit Feedback</span>
                                <span class="btn-loading" style="display: none;">Sending...</span>
                            </button>
                        </form>
                    </div>

                    
                    <div class="feedback-message" id="feedback-success" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2"/>
                        </svg>
                        <span id="feedback-success-text">Thanks for your feedback!</span>
                    </div>
                    <div class="feedback-message feedback-error" id="feedback-error" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <path d="M12 8v4M12 16h.01" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span id="feedback-error-text">Something went wrong. Please try again.</span>
                    </div>

                    <p class="feedback-note">
                        Found an issue? <a href="https://gitlab.com/stormycloud-group/i-2-p-www-v-2/-/blob/main/hugo-site/content/zh/docs/specs/configuration.md?ref_type=heads" target="_blank">Edit this page on GitLab</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.docs-page {
    min-height: 100vh;
    padding: var(--spacing-xl) 0;
}

.breadcrumbs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.breadcrumbs a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumbs a:hover {
    color: var(--color-primary);
}

.separator {
    color: var(--color-border);
}

.current {
    color: var(--color-text);
}

 
.translation-disclaimer {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.dark .translation-disclaimer {
    background: #78350f;
    border-color: #d97706;
}

.disclaimer-message {
    color: #92400e;
    font-size: 0.875rem;
}

.dark .disclaimer-message {
    color: #fde047;
}

.disclaimer-link {
    color: #92400e;
    font-weight: 600;
    text-decoration: underline;
    white-space: nowrap;
}

.dark .disclaimer-link {
    color: #fde047;
}

 
.article-header {
    margin-bottom: var(--spacing-2xl);
}

.article-title {
    font-size: 2.5rem;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--color-text);
}

.article-description {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-md);
}

.article-meta {
    display: flex;
    gap: var(--spacing-lg);
    flex-wrap: wrap;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.meta-item svg {
    color: var(--color-primary);
}

 
.docs-layout {
    display: block;
}

.docs-layout--with-toc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: var(--spacing-2xl);
    align-items: start;
}

 
.docs-toc-sidebar {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.toc-nav {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
}

.toc-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
    font-size: 0.875rem;
    color: var(--color-text);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-border);
}

.toc-content {
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.toc-content::-webkit-scrollbar {
    width: 4px;
}

.toc-content::-webkit-scrollbar-track {
    background: transparent;
}

.toc-content::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.toc-content::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

.toc-nav ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-nav li {
    margin-bottom: 0.25rem;
}

.toc-nav ul ul {
    padding-left: var(--spacing-md);
    margin-top: 0.25rem;
}

.toc-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.8125rem;
    display: block;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    line-height: 1.4;
}

.toc-nav a:hover {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
}

 
.docs-main {
    min-width: 0;
    max-width: 900px;
}

 
.article-content {
    line-height: 1.8;
    color: var(--color-text);
}

.article-content h2 {
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-md);
    font-size: 1.75rem;
    scroll-margin-top: 100px;
}

.article-content h3 {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
    font-size: 1.375rem;
    scroll-margin-top: 100px;
}

.article-content h4 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    font-size: 1.125rem;
    scroll-margin-top: 100px;
}

.article-content p {
    margin-bottom: var(--spacing-md);
}

.article-content ul,
.article-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.article-content li {
    margin-bottom: var(--spacing-xs);
}

.article-content code {
    background: var(--color-bg-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
}

.article-content pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
}

.article-content pre code {
    background: none;
    padding: 0;
}

.article-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    margin: var(--spacing-lg) 0;
    display: block;
}

.article-content a {
    color: var(--color-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
}

.article-content a:hover {
    border-bottom-color: var(--color-primary);
}

 
.page-nav {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
}

.page-nav-link {
    display: flex;
    flex-direction: column;
    padding: var(--spacing-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.page-nav-link:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
}

.page-nav-link.next {
    text-align: right;
}

.nav-label {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xs);
}

.nav-title {
    font-weight: 600;
    color: var(--color-text);
}

 
.docs-feedback {
    margin-top: var(--spacing-2xl);
    padding: var(--spacing-lg);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-md);
    text-align: center;
}

.feedback-buttons {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    margin: var(--spacing-md) 0;
}

.feedback-btn {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.feedback-btn:hover {
    border-color: var(--color-primary);
    background: var(--color-primary);
    color: white;
}

.feedback-note {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-top: var(--spacing-md);
}

.feedback-note a {
    color: var(--color-primary);
    text-decoration: none;
}

.feedback-note a:hover {
    text-decoration: underline;
}

 
.feedback-form-container {
    margin-top: var(--spacing-lg);
    padding: var(--spacing-lg);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-align: left;
}

.feedback-form-title {
    font-weight: 600;
    margin-bottom: var(--spacing-md);
    color: var(--color-text);
}

.form-group {
    margin-bottom: var(--spacing-md);
}

.form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--color-text);
}

.form-group input[type="email"],
.form-group textarea {
    width: 100%;
    padding: var(--spacing-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg);
    color: var(--color-text);
    font-family: inherit;
    font-size: 0.9375rem;
    transition: border-color var(--transition-fast);
}

.form-group input[type="email"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color-primary);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

.btn-submit-feedback {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.btn-submit-feedback:hover:not(:disabled) {
    background: var(--color-primary-dark);
    transform: translateY(-1px);
}

.btn-submit-feedback:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

 
.feedback-message {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background: #d1fae5;
    color: #065f46;
    border-radius: var(--radius-md);
    margin-top: var(--spacing-md);
}

.feedback-message.feedback-error {
    background: #fee2e2;
    color: #991b1b;
}

.feedback-message svg {
    flex-shrink: 0;
}

 
@media (max-width: 1024px) {
    .docs-layout--with-toc {
        grid-template-columns: 1fr;
    }

    .docs-toc-sidebar {
        position: static;
        max-height: none;
        margin-bottom: var(--spacing-xl);
    }

    .toc-content {
        max-height: 300px;
    }
}

@media (max-width: 768px) {
    .article-title {
        font-size: 1.75rem;
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const tocLinks = document.querySelectorAll('.toc-nav a');
    const headings = [];

    tocLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
            const heading = document.getElementById(href.slice(1));
            if (heading) {
                headings.push({ element: heading, link: link });
            }
        }
    });

    function updateActiveLink() {
        const scrollPos = window.scrollY + 120;
        let activeIndex = 0;

        for (let i = 0; i < headings.length; i++) {
            if (headings[i].element.offsetTop <= scrollPos) {
                activeIndex = i;
            }
        }

        tocLinks.forEach(link => link.classList.remove('active'));
        if (headings[activeIndex]) {
            headings[activeIndex].link.classList.add('active');
        }
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();
});
</script>
<style>
.toc-nav a.active {
    color: var(--color-primary);
    background: var(--color-bg-tertiary);
    font-weight: 600;
}
</style>



<script>
(function() {
    'use strict';
    
    
    let baseUrl = window.feedbackBaseUrl;
    if (!baseUrl) {
        const hostname = window.location.hostname;
        
        if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
            baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
        } else if (hostname.endsWith('.onion')) {
            baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
        } else {
            baseUrl = 'https://feedback.i2p.net';
        }
    }
    
    const script = document.createElement('script');
    script.src = baseUrl + '/widgets/docs-feedback.js';
    script.async = true;
    script.onerror = function() {
        console.error('[Docs Feedback] Failed to load docs-feedback.js from:', baseUrl);
    };
    document.body.appendChild(script);
})();
</script>


    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <img src="../../../../images/i2plogo_lightmode.svg" alt="I2P Logo" class="footer-logo logo-light" loading="lazy" decoding="async">
                <img src="../../../../images/i2plogo_darkmode.svg" alt="I2P Logo" class="footer-logo logo-dark" loading="lazy" decoding="async">
                <p class="footer-tagline">Privacy. Security. Freedom.</p>
                <p class="footer-description">The Invisible Internet Project - A privacy-focused, anonymous network layer</p>

                <div class="footer-social-newsletter">
                    <div class="social-links">
                        <a href="https://mastodon.social/@i2p" target="_blank" rel="noopener" aria-label="Mastodon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/GetI2P" target="_blank" rel="noopener" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <a href="https://old.reddit.com/r/i2p" target="_blank" rel="noopener" aria-label="Reddit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
                            </svg>
                        </a>
                        <a href="https://signal.group/#CjQKIOSUTtxlhbumAKcRsthPFkxkTUrkWcX39bbN6njLEgAIEhCTNsR0KDuiehAXZnkt42v5" target="_blank" rel="noopener" aria-label="Signal" class="signal-link">
                            <img src="../../../../images/Signal-Logo-Black.svg" alt="Signal" class="signal-logo signal-logo-light" loading="lazy" decoding="async">
                            <img src="../../../../images/Signal-Logo-White.svg" alt="Signal" class="signal-logo signal-logo-dark" loading="lazy" decoding="async">
                        </a>
                    </div>

                    
                    <div class="footer-newsletter-inline">
                        <p class="newsletter-description">保持关注 I2P 新闻：</p>
                        <form action="https://feedback.i2p.net/api/mailing-list/subscribe" method="POST" class="newsletter-form">
                            <input type="email" name="email" placeholder="输入您的邮箱" required>
                            <button type="submit">订阅</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-col">
                <h3>快速链接</h3>
                <ul>
                    <li><a href="../../../../zh/financial-support/">捐赠</a></li>
                    <li><a href="../../../../zh/docs/overview/intro/">I2P介绍</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>社区</h3>
                <ul>
                    <li><a href="../../../../zh/get-involved/">参与其中</a></li>
                    <li><a href="../../../../zh/blog/">博客</a></li>
                    <li><a href="http://i2pforum.net/" target="_blank" rel="noopener">官方论坛</a></li>
                    <li><a href="../../../../zh/contact/">联系我们</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>资源</h3>
                <ul>
                    <li><a href="https://i2p-metrics.np-tokumei.net/" target="_blank" rel="noopener">I2P 指标</a></li>
                    <li><a href="../../../../zh/papers/">研究</a></li>
                    <li><a href="https://i2pgit.org/" target="_blank" rel="noopener">GitLab</a></li>
                    <li><a href="https://www.stormycloud.org/" target="_blank" rel="noopener">StormyCloud</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2025 隐形互联网计划。在 Creative Commons 许可下。</p>
            <div class="footer-links">
                <a href="../../../../zh/privacy/">隐私</a>
                <a href="../../../../zh/terms/">条款</a>
                <a href="../../../../zh/about/media/">媒体</a>
            </div>
        </div>
    </div>
</footer>


    
    
<div class="modal-overlay" id="poll">
    <div class="modal-content poll-modal-content">
        <a href="#" class="modal-close" aria-label="关闭">
            <span aria-hidden="true">&times;</span>
        </a>

        <div class="modal-header">
            <h2>社区投票</h2>
            <p class="modal-subtitle">我们很想听听您的意见</p>
        </div>

        <div class="modal-body">
            
            <iframe 
                id="poll-iframe"
                data-poll-id="2"
                data-api-url="https://feedback.i2p.net"
                frameborder="0"
                scrolling="no"
                style="width: 100%; border: none; min-height: 400px;">
            </iframe>
        </div>

        <div class="modal-footer">
            <p class="modal-disclaimer">
                您的投票将帮助塑造 I2P 的未来。
            </p>
        </div>
    </div>
</div>


<script>
(function() {
    const iframe = document.getElementById('poll-iframe');
    if (!iframe) return;
    
    const hostname = window.location.hostname;
    let apiUrl = 'https://feedback.i2p.net';
    const pollId = iframe.getAttribute('data-poll-id') || '1';

    
    if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
        apiUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
    }
    
    else if (hostname.endsWith('.onion')) {
        apiUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
    }

    
    const pollUrl = apiUrl + '/widgets/poll.html?poll_id=' + encodeURIComponent(pollId) + '&api_url=' + encodeURIComponent(apiUrl);
    iframe.src = pollUrl;
})();
</script>



    
    



    
    <script>
        (function () {
            'use strict';
            var hostname = window.location.hostname;
            var baseUrl;

            
            if (hostname.endsWith('.b32.i2p') || hostname.endsWith('.i2p')) {
                baseUrl = 'http://5kwyynf3eetgqa2nors6ctwo7doi7yu73k7uvypy5eqmm326zkiq.b32.i2p';
            } else if (hostname.endsWith('.onion')) {
                baseUrl = 'http://gfonxmohvarpmocsvllscsuszdu5rikipm6innvcwq4vpng7zzqmmfyd.onion';
            } else {
                baseUrl = 'https://feedback.i2p.net';
            }

            window.feedbackBaseUrl = baseUrl;

            
            document.querySelectorAll('[data-api-url]').forEach(function (widget) {
                widget.setAttribute('data-api-url', baseUrl);
            });

            
            document.write('<link rel="stylesheet" href="' + baseUrl + '/widgets/styles.css">');
            
        })();
    </script>

    

    
    
    

    

</body>

</html>