<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Specifications on I2P - 隐形互联网项目</title>
    <link>/zh/docs/specs/</link>
    <description>Recent content in Specifications on I2P - 隐形互联网项目</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <atom:link href="/zh/docs/specs/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Blockfile（块文件）规范</title>
      <link>/zh/docs/specs/blockfile/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/blockfile/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;本文档规定了 &lt;strong&gt;I2P blockfile（块文件）文件格式&lt;/strong&gt;，以及由 &lt;strong&gt;Blockfile Naming Service（Blockfile 命名服务）&lt;/strong&gt; 使用的 &lt;code&gt;hostsdb.blockfile&lt;/code&gt; 中的表。   背景信息参见 &lt;a href=&#34;../../../zh/docs/overview/naming&#34;&gt;I2P 命名与地址簿&lt;/a&gt;&#xA;。&lt;/p&gt;&#xA;&lt;p&gt;blockfile（块文件格式）以紧凑的二进制格式实现了&lt;strong&gt;快速查找目标地址&lt;/strong&gt;。   与传统的 &lt;code&gt;hosts.txt&lt;/code&gt; 系统相比：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Destinations（目标地址）以二进制形式存储，而非 Base64。&lt;/li&gt;&#xA;&lt;li&gt;可附加任意元数据（例如：添加日期、来源、注释）。&lt;/li&gt;&#xA;&lt;li&gt;查找时间大约快 &lt;strong&gt;10×&lt;/strong&gt;。&lt;/li&gt;&#xA;&lt;li&gt;磁盘使用量会小幅增加。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;blockfile（块文件）是一种以&lt;strong&gt;跳表&lt;/strong&gt;实现、存储在磁盘上的已排序映射（键值对）集合。它源自 &lt;a href=&#34;http://www.metanotion.net/software/sandbox/block.html&#34;&gt;Metanotion Blockfile Database&lt;/a&gt;&#xA;。本规范首先定义文件结构，然后说明 &lt;code&gt;BlockfileNamingService&lt;/code&gt; 如何使用它。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Blockfile Naming Service（Blockfile 命名服务）在 &lt;strong&gt;I2P 0.8.8&lt;/strong&gt; 中取代了旧的 &lt;code&gt;hosts.txt&lt;/code&gt; 实现。   &amp;gt; 初始化时，它会从 &lt;code&gt;privatehosts.txt&lt;/code&gt;、&lt;code&gt;userhosts.txt&lt;/code&gt; 和 &lt;code&gt;hosts.txt&lt;/code&gt; 中导入条目。&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;blockfile-格式&#34;&gt;Blockfile 格式&lt;/h2&gt;&#xA;&lt;p&gt;该格式由&lt;strong&gt;1024 字节的页面&lt;/strong&gt;组成，每个页面前都有一个用于完整性校验的&lt;strong&gt;魔数&lt;/strong&gt;。   页面从 1 开始编号：&lt;/p&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Page&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Description&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;1&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Superblock (starts at byte 0)&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;2&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Metaindex skiplist (starts at byte 1024)&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;所有整数使用**网络字节序（大端）**。   2 字节的值为无符号；4 字节的值（页号）为有符号，且必须为正数。&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;线程模型：&lt;/strong&gt; 该数据库设计为&lt;strong&gt;单线程访问&lt;/strong&gt;；&lt;code&gt;BlockfileNamingService&lt;/code&gt; 提供同步机制。&lt;/p&gt;</description>
    </item>
    <item>
      <title>ECIES-X25519-AEAD-Ratchet 混合加密</title>
      <link>/zh/docs/specs/ecies-hybrid/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/ecies-hybrid/</guid>
      <description>&lt;h2 id=&#34;实现状态&#34;&gt;实现状态&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;当前部署:&lt;/strong&gt; - &lt;strong&gt;i2pd (C++ 实现)&lt;/strong&gt;: 已在版本 2.58.0 (2025 年 9 月) 中完整实现，并支持 ML-KEM-512、ML-KEM-768 和 ML-KEM-1024。当可用 OpenSSL 3.5.0 或更高版本时，默认启用后量子端到端加密。 - &lt;strong&gt;Java I2P&lt;/strong&gt;: 截至版本 0.9.67 / 2.10.0 (2025 年 9 月) 尚未实现。规范已获批准，计划在未来版本中实现。&lt;/p&gt;&#xA;&lt;p&gt;本规范描述了已获批准的功能，这些功能目前已在 i2pd 部署，并计划在 Java I2P 实现中采用。&lt;/p&gt;&#xA;&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;这是 ECIES-X25519-AEAD-Ratchet 协议 &lt;a href=&#34;../../../zh/docs/specs/ecies/&#34;&gt;ECIES&lt;/a&gt;&#xA; 的后量子混合变体。它是有待批准的提案 169 &lt;a href=&#34;../../../zh/proposals/169-pq-crypto/&#34;&gt;Prop169&lt;/a&gt;&#xA; 的第一阶段。有关总体目标、威胁模型、分析、替代方案及更多信息，请参阅该提案。&lt;/p&gt;&#xA;&lt;p&gt;提案 169 状态：&lt;strong&gt;开放&lt;/strong&gt; (混合 ECIES（椭圆曲线集成加密方案）实现的第一阶段已获批准).&lt;/p&gt;&#xA;&lt;p&gt;本规范仅包含相对于标准 &lt;a href=&#34;../../../zh/docs/specs/ecies/&#34;&gt;ECIES&lt;/a&gt;&#xA;（椭圆曲线集成加密方案）的差异，必须与该规范一并阅读。&lt;/p&gt;&#xA;&lt;h2 id=&#34;设计&#34;&gt;设计&lt;/h2&gt;&#xA;&lt;p&gt;我们使用 NIST FIPS 203 标准 &lt;a href=&#34;https://csrc.nist.gov/pubs/fips/203/final&#34;&gt;FIPS203&lt;/a&gt;&#xA;，该标准以 CRYSTALS-Kyber 为基础，但与其不兼容（版本 3.1、3 以及更早版本）。&lt;/p&gt;&#xA;&lt;p&gt;混合握手将经典的 X25519 Diffie-Hellman 与后量子 ML-KEM 密钥封装机制（NIST 后量子密钥封装标准，原名 Kyber）相结合。这种方法基于 PQNoise（关于混合前向保密的研究）中记录的混合前向保密概念，以及在 TLS 1.3、IKEv2 和 WireGuard 中的类似实现。&lt;/p&gt;</description>
    </item>
    <item>
      <title>ECIES-X25519-AEAD-Ratchet 加密规范（棘轮机制）</title>
      <link>/zh/docs/specs/ecies/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/ecies/</guid>
      <description>&lt;h2 id=&#34;概览&#34;&gt;概览&lt;/h2&gt;&#xA;&lt;h3 id=&#34;目的&#34;&gt;目的&lt;/h3&gt;&#xA;&lt;p&gt;ECIES-X25519-AEAD-Ratchet 是 I2P 的现代端到端加密协议（基于 ECIES、X25519 与 AEAD，并采用 Ratchet（棘轮）机制），用于取代旧版 ElGamal/AES+SessionTags 系统（基于 ElGamal 与 AES 并使用 SessionTags 的旧方案）。它提供前向保密性、认证加密，并在性能和安全性方面带来显著改进。&lt;/p&gt;&#xA;&lt;h3 id=&#34;相较于-elgamalaessessiontags会话标签的关键改进&#34;&gt;相较于 ElGamal/AES+SessionTags（会话标签）的关键改进&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;更小的密钥&lt;/strong&gt;：32 字节密钥，对比 256 字节的 ElGamal 公钥（减少 87.5%）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;前向保密性&lt;/strong&gt;：通过 DH（Diffie–Hellman）棘轮实现（旧协议不支持）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;现代密码学&lt;/strong&gt;：X25519 DH，ChaCha20-Poly1305 AEAD（带关联数据的认证加密），SHA-256&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;认证加密&lt;/strong&gt;：通过 AEAD 构造内置认证&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;双向协议&lt;/strong&gt;：配对的入站/出站会话，对比单向的旧版协议&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;高效标签&lt;/strong&gt;：8 字节会话标签，对比 32 字节标签（减少 75%）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;流量混淆&lt;/strong&gt;：Elligator2 编码（将椭圆曲线点伪装为随机比特串）使握手与随机数据不可区分&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;部署状态&#34;&gt;部署状态&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;初始发布&lt;/strong&gt;: 版本 0.9.46 (2020 年 5 月 25 日)&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;网络部署&lt;/strong&gt;: 截至 2020 年已完成&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;当前状态&lt;/strong&gt;: 成熟，已广泛部署 (在生产环境运行 5 年以上)&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Router 支持&lt;/strong&gt;: 需要 0.9.46 或更高版本&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Floodfill 要求 (netDb 中的洪泛节点)&lt;/strong&gt;: 加密查询需要接近 100% 的采用率&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;实现状态&#34;&gt;实现状态&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;已完全实现:&lt;/strong&gt; - 带绑定的 New Session (NS) 消息 - New Session Reply (NSR) 消息 - Existing Session (ES) 消息 - DH ratchet 机制（基于 Diffie-Hellman 的棘轮） - Session tag 和 symmetric key 棘轮 - DateTime、NextKey、ACK、ACK Request、Garlic Clove（I2P garlic encryption 中的子消息“蒜瓣”）和 Padding 块&lt;/p&gt;</description>
    </item>
    <item>
      <title>I2P 客户端协议 (I2CP)</title>
      <link>/zh/docs/specs/i2cp/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/i2cp/</guid>
      <description>&lt;h2 id=&#34;概览&#34;&gt;概览&lt;/h2&gt;&#xA;&lt;p&gt;I2CP 是 I2P router 与任意客户端进程之间的低层控制协议。它对职责进行了严格的分离：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Router&lt;/strong&gt;: 管理路由、加密、tunnel 生命周期，以及网络数据库操作&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;客户端&lt;/strong&gt;: 选择匿名性属性，配置 tunnels，并提交/接收消息&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;所有通信都通过单个 TCP 套接字（可选的 TLS 封装）进行，从而实现异步、全双工操作。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;协议版本&lt;/strong&gt;: I2CP（I2P 客户端协议）在建立初始连接时会发送一个协议版本字节 &lt;code&gt;0x2A&lt;/code&gt; (十进制 42)。自该协议诞生以来，这个版本字节一直保持不变。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;当前状态&lt;/strong&gt;: 本规范适用于 router 版本 0.9.67（API 版本 0.9.67），发布于 2025-09。&lt;/p&gt;&#xA;&lt;h2 id=&#34;实现背景&#34;&gt;实现背景&lt;/h2&gt;&#xA;&lt;h3 id=&#34;java-实现&#34;&gt;Java 实现&lt;/h3&gt;&#xA;&lt;p&gt;参考实现位于 Java I2P: - 客户端 SDK: &lt;code&gt;i2p.jar&lt;/code&gt; 包 - Router 实现: &lt;code&gt;router.jar&lt;/code&gt; 包 - &lt;a href=&#34;http://docs.i2p-projekt.de/javadoc/&#34;&gt;Javadocs&lt;/a&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;当客户端与 router 运行在同一 Java 虚拟机（JVM）时，I2CP 消息以 Java 对象的形式传递，无需序列化。外部客户端通过 TCP 使用序列化协议。&lt;/p&gt;&#xA;&lt;h3 id=&#34;c-实现&#34;&gt;C++ 实现&lt;/h3&gt;&#xA;&lt;p&gt;i2pd（用 C++ 编写的 I2P router）也对外实现了 I2CP，供客户端连接使用。&lt;/p&gt;&#xA;&lt;h3 id=&#34;非-java-客户端&#34;&gt;非 Java 客户端&lt;/h3&gt;&#xA;&lt;p&gt;针对完整的 I2CP（I2P 客户端协议）客户端库，&lt;strong&gt;没有已知的非 Java 实现&lt;/strong&gt;。非 Java 应用程序应改用更高级别的协议：&lt;/p&gt;</description>
    </item>
    <item>
      <title>I2P 网络协议 (I2NP)</title>
      <link>/zh/docs/specs/i2np/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/i2np/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;I2P 网络协议（I2NP）定义了 routers（路由器）如何交换消息、选择传输协议，并在保持匿名性的同时混合流量。它运行在 &lt;strong&gt;I2CP&lt;/strong&gt;（客户端 API）与传输协议（&lt;strong&gt;NTCP2&lt;/strong&gt; 和 &lt;strong&gt;SSU2&lt;/strong&gt;）之间。&lt;/p&gt;&#xA;&lt;p&gt;I2NP 是位于 I2P 传输协议之上的一层。它是一个 router 到 router 的协议，用于: - 网络数据库查询与应答 - 创建 tunnel - 加密的 router 和客户端数据消息&lt;/p&gt;&#xA;&lt;p&gt;I2NP 消息既可以点对点发送至另一台 router，也可以通过 tunnels 匿名地发送至该 router。&lt;/p&gt;&#xA;&lt;p&gt;router 使用本地优先级将出站任务入队。优先级数值越高，越先处理。高于标准 tunnel 数据优先级（400）的任何任务都会被视为紧急。&lt;/p&gt;&#xA;&lt;h3 id=&#34;当前传输协议&#34;&gt;当前传输协议&lt;/h3&gt;&#xA;&lt;p&gt;I2P 现在适用于 IPv4 和 IPv6，并使用 &lt;strong&gt;NTCP2&lt;/strong&gt;（TCP）和 &lt;strong&gt;SSU2&lt;/strong&gt;（UDP）。这两种传输采用: - &lt;strong&gt;X25519&lt;/strong&gt; 密钥交换（Noise 协议框架） - &lt;strong&gt;ChaCha20/Poly1305&lt;/strong&gt; 认证加密（AEAD） - &lt;strong&gt;SHA-256&lt;/strong&gt; 哈希&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;已移除的旧版传输:&lt;/strong&gt; - NTCP (原始 TCP) 已在 Java router 的 0.9.50 版本 (2021 年 5 月) 中移除 - SSU v1 (原始 UDP) 已在 Java router 的 2.4.0 版本 (2023 年 12 月) 中移除 - SSU v1 已在 i2pd 的 2.44.0 版本 (2022 年 11 月) 中移除&lt;/p&gt;</description>
    </item>
    <item>
      <title>NTCP2 传输</title>
      <link>/zh/docs/specs/ntcp2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/ntcp2/</guid>
      <description>&lt;h2 id=&#34;概览&#34;&gt;概览&lt;/h2&gt;&#xA;&lt;p&gt;NTCP2 用基于 Noise 的握手取代了旧版 NTCP 传输，能够抵御流量指纹识别、加密长度字段，并支持现代加密套件。Routers 可以将 NTCP2 与 SSU2 一同运行，作为 I2P 网络中的两种强制性传输协议。NTCP（版本 1）在 0.9.40（2019 年 5 月）被弃用，并在 0.9.50（2021 年 5 月）被完全移除。&lt;/p&gt;&#xA;&lt;h2 id=&#34;noise-protocol-frameworknoise-协议框架&#34;&gt;Noise Protocol Framework（Noise 协议框架）&lt;/h2&gt;&#xA;&lt;p&gt;NTCP2 使用 Noise 协议框架 &lt;a href=&#34;https://noiseprotocol.org/noise.html&#34;&gt;修订版 33，2017-10-04&lt;/a&gt;&#xA;，并带有 I2P 特定的扩展：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;模式&lt;/strong&gt;: &lt;code&gt;Noise_XK_25519_ChaChaPoly_SHA256&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;扩展标识符&lt;/strong&gt;: &lt;code&gt;Noise_XKaesobfse+hs2+hs3_25519_ChaChaPoly_SHA256&lt;/code&gt;（用于 KDF 初始化，KDF 为“密钥派生函数”）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;DH（Diffie-Hellman）函数&lt;/strong&gt;: X25519（RFC 7748） - 32 字节密钥，小端序编码&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;加密算法&lt;/strong&gt;: AEAD_CHACHA20_POLY1305（RFC 7539/RFC 8439）&#xA;&lt;ul&gt;&#xA;&lt;li&gt;12 字节 nonce（随机数）：前 4 字节为 0，后 8 字节为计数器（小端序）&lt;/li&gt;&#xA;&lt;li&gt;最大 nonce 值：2^64 - 2（在达到 2^64 - 1 之前必须终止连接）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;哈希函数&lt;/strong&gt;: SHA-256（32 字节输出）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;MAC（消息认证码）&lt;/strong&gt;: Poly1305（16 字节认证标签）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;i2p-特定扩展&#34;&gt;I2P 特定扩展&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;AES 混淆&lt;/strong&gt;: 使用 Bob 的 router 哈希和公开的 IV，以 AES-256-CBC 加密临时密钥&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;随机填充&lt;/strong&gt;: 消息 1-2 中为明文填充（已认证），消息 3 及之后为 AEAD 填充（已加密）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;SipHash-2-4 长度混淆&lt;/strong&gt;: 将两字节帧长度与 SipHash-2-4 的输出异或&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;帧结构&lt;/strong&gt;: 数据阶段使用带长度前缀的帧（兼容 TCP 流式传输）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;基于块的有效载荷&lt;/strong&gt;: 采用带类型块的结构化数据格式&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;握手流程&#34;&gt;握手流程&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Alice (Initiator)             Bob (Responder)&#xA;SessionRequest  ──────────────────────►&#xA;                ◄────────────────────── SessionCreated&#xA;SessionConfirmed ──────────────────────►&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;三消息握手&#34;&gt;三消息握手&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;SessionRequest&lt;/strong&gt; - Alice 的混淆临时密钥、选项、填充提示&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;SessionCreated&lt;/strong&gt; - Bob 的混淆临时密钥、加密的选项、填充&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;SessionConfirmed&lt;/strong&gt; - Alice 的加密的静态密钥和 RouterInfo（I2P router 的信息）（两个 AEAD（带关联数据的认证加密）帧）&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 id=&#34;noise协议框架消息模式&#34;&gt;Noise（协议框架）消息模式&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;XK(s, rs):           Authentication   Confidentiality&#xA;  &amp;lt;- s               (Bob&amp;#39;s static key known in advance)&#xA;  -&amp;gt; e, es                  0                2&#xA;  &amp;lt;- e, ee                  2                1&#xA;  -&amp;gt; s, se                  2                5&#xA;  &amp;lt;-                        2                5&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;认证级别：&lt;/strong&gt; - 0: 无认证（任何一方都可能是发送者） - 2: 可抵抗密钥泄露冒充（KCI）攻击的发送方认证&lt;/p&gt;</description>
    </item>
    <item>
      <title>Red25519 签名方案</title>
      <link>/zh/docs/specs/red25519-signature-scheme/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/red25519-signature-scheme/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;本文档规定了一种可重随机化的签名方案，适用于创建可盲化的 Destinations（目的地）。此外，它还可用于对现有的 Ed25519 Destinations 进行盲化，但有效性会略有降低。&lt;/p&gt;&#xA;&lt;p&gt;自 0.9.39 版（发布于 2019 年 3 月 21 日）起，Red25519 已在 I2P router 上全面投入运行。经过 17 个月的生产环境部署后，该规范在 0.9.47 版（2020 年 8 月）中最终定稿。该签名方案在 I2P 网络中作为签名类型 11（RedDSA_SHA512_Ed25519）运行。&lt;/p&gt;&#xA;&lt;h2 id=&#34;动机&#34;&gt;动机&lt;/h2&gt;&#xA;&lt;p&gt;提案 123（新的 netDB 条目）定义了一种加密的 LeaseSet2 格式，它体现了最小权限原则：每个网络参与者只会获得其角色所必需的信息。尤其是，发布到 floodfill 的加密 LeaseSet2 不会暴露其对应的 Destination（目标标识），并且其中的租约只能被事先知晓该 Destination 的一方查看。不过，各个 floodfill 在发布加密的 LeaseSet2 时仍需要能够对其进行认证，而客户端还需要进一步确保该认证确实由 Destination 本身强制执行。&lt;/p&gt;&#xA;&lt;p&gt;提案 123 通过对 Destination（目的地标识）的签名密钥进行盲化来实现这一点。盲化后的密钥可用于创建可被 floodfills 验证的签名，客户端可以确信只有该 Destination 才能创建这些签名。因此有必要指定一种可用于盲化的签名方案。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;关于提案 123 状态的说明&lt;/strong&gt;: 自 0.9.38 版本起，提案 123 的部分内容已逐步实现并部署，并在 0.9.39 中加入了 Red25519 支持。加密的 LeaseSet2 功能已达到生产就绪状态，并已在 I2P 网络中积极用于隐私增强型隐藏服务。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Router 配置</title>
      <link>/zh/docs/specs/configuration/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/configuration/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;本文件提供了 I2P 配置文件的全面技术规范，这些配置文件由 router 和各类应用程序使用。内容涵盖文件格式规范、属性定义，以及已根据 I2P 源代码和官方文档核实的实现细节。&lt;/p&gt;&#xA;&lt;h3 id=&#34;范围&#34;&gt;范围&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Router 的配置文件与格式&lt;/li&gt;&#xA;&lt;li&gt;客户端应用程序配置&lt;/li&gt;&#xA;&lt;li&gt;I2PTunnel 的 tunnel 配置&lt;/li&gt;&#xA;&lt;li&gt;文件格式规范与实现&lt;/li&gt;&#xA;&lt;li&gt;版本特定的特性与弃用&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;实现说明&#34;&gt;实现说明&lt;/h3&gt;&#xA;&lt;p&gt;配置文件通过 I2P 核心库中的 &lt;code&gt;DataHelper.loadProps()&lt;/code&gt; 和 &lt;code&gt;storeProps()&lt;/code&gt; 方法进行读写。该文件格式与 I2P 协议中使用的序列化格式有显著差异（参见&lt;a href=&#34;../../../zh/docs/specs/common-structures/#type-mapping&#34;&gt;通用结构规范 - 类型映射&lt;/a&gt;&#xA;）。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;通用配置文件格式&#34;&gt;通用配置文件格式&lt;/h2&gt;&#xA;&lt;p&gt;I2P 配置文件遵循经修改的 Java Properties 格式，并具有特定的例外和约束。&lt;/p&gt;&#xA;&lt;h3 id=&#34;格式规范&#34;&gt;格式规范&lt;/h3&gt;&#xA;&lt;p&gt;基于 &lt;a href=&#34;http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Properties.html#load%28java.io.InputStream%29&#34;&gt;Java Properties&lt;/a&gt;&#xA;，但有以下关键差异：&lt;/p&gt;&#xA;&lt;h4 id=&#34;编码&#34;&gt;编码&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;必须&lt;/strong&gt; 使用 UTF-8 编码（不要使用 ISO-8859-1，正如标准的 Java Properties（属性文件） 所使用的那样）&lt;/li&gt;&#xA;&lt;li&gt;实现：在所有文件操作中使用 &lt;code&gt;DataHelper.getUTF8()&lt;/code&gt; 工具方法&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;转义序列&#34;&gt;转义序列&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;不&lt;/strong&gt; 识别转义序列（包括反斜杠 &lt;code&gt;\&lt;/code&gt;）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;不&lt;/strong&gt; 支持续行&lt;/li&gt;&#xA;&lt;li&gt;反斜杠字符按字面解释&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;注释字符&#34;&gt;注释字符&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;#&lt;/code&gt; 在一行的任意位置都会开始一条注释&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;;&lt;/code&gt; &lt;strong&gt;仅当&lt;/strong&gt; 位于第 1 列（行首）时才开始注释&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;!&lt;/code&gt; &lt;strong&gt;不会&lt;/strong&gt; 开始注释（与 Java Properties 不同）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;键值分隔符&#34;&gt;键值分隔符&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;=&lt;/code&gt; 是&lt;strong&gt;唯一&lt;/strong&gt;有效的键值分隔符&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;:&lt;/code&gt; &lt;strong&gt;不&lt;/strong&gt;被识别为分隔符&lt;/li&gt;&#xA;&lt;li&gt;空白字符&lt;strong&gt;不&lt;/strong&gt;被识别为分隔符&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;空白字符处理&#34;&gt;空白字符处理&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;键的前后空白字符&lt;strong&gt;不会&lt;/strong&gt;被去除&lt;/li&gt;&#xA;&lt;li&gt;值的前后空白字符&lt;strong&gt;会&lt;/strong&gt;被去除&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;行处理&#34;&gt;行处理&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;未包含 &lt;code&gt;=&lt;/code&gt; 的行会被忽略（视为注释或空行）&lt;/li&gt;&#xA;&lt;li&gt;自 0.9.10 版本起支持空值（&lt;code&gt;key=&lt;/code&gt;）&lt;/li&gt;&#xA;&lt;li&gt;值为空的键会被正常存储和读取&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;字符限制&#34;&gt;字符限制&lt;/h4&gt;&#xA;&lt;p&gt;&lt;strong&gt;键不得包含&lt;/strong&gt;: - &lt;code&gt;#&lt;/code&gt; (井号/英镑符号) - &lt;code&gt;=&lt;/code&gt; (等号) - &lt;code&gt;\n&lt;/code&gt; (换行符) - 不得以 &lt;code&gt;;&lt;/code&gt; 开头 (分号)&lt;/p&gt;</description>
    </item>
    <item>
      <title>SSU2 规范</title>
      <link>/zh/docs/specs/ssu2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/ssu2/</guid>
      <description>&lt;h2 id=&#34;1-概览&#34;&gt;1. 概览&lt;/h2&gt;&#xA;&lt;p&gt;SSU2 是一种基于 UDP 的传输层协议，用于在 I2P 中实现安全、半可靠的 router 间通信。它并非通用传输协议，而是专为&lt;strong&gt;I2NP 消息交换&lt;/strong&gt;而设计。&lt;/p&gt;&#xA;&lt;h3 id=&#34;核心功能&#34;&gt;核心功能&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;通过 Noise XK pattern（Noise 协议族中的 XK 握手模式）实现认证密钥交换&lt;/li&gt;&#xA;&lt;li&gt;加密头部以抵抗深度包检测（DPI）&lt;/li&gt;&#xA;&lt;li&gt;使用中继与打洞实现 NAT 穿越&lt;/li&gt;&#xA;&lt;li&gt;连接迁移与地址验证&lt;/li&gt;&#xA;&lt;li&gt;可选的路径验证&lt;/li&gt;&#xA;&lt;li&gt;前向保密与重放保护&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;遗留与兼容性&#34;&gt;遗留与兼容性&lt;/h3&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Implementation&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;SSU2 Default&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;SSU1 Removed&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;i2pd&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;2.44.0&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;2.44.0&lt;/td&gt;&lt;/tr&gt;&#xA;    &lt;tr&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Java I2P&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;0.9.56&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;0.9.61&lt;/td&gt;&lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;SSU1 在公共 I2P 网络中已不再使用。&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;2-密码学&#34;&gt;2. 密码学&lt;/h2&gt;&#xA;&lt;p&gt;SSU2 使用 &lt;strong&gt;Noise_XK_25519_ChaChaPoly_SHA256&lt;/strong&gt;（一种 Noise 协议的握手与加密套件组合），并带有 I2P 专用扩展。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Tunnel 操作指南</title>
      <link>/zh/docs/specs/implementation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/implementation/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;范围：&lt;/strong&gt; 本指南汇总了 tunnel 的实现、消息格式，以及两种 tunnel 创建规范（ECIES 和旧版 ElGamal）。现有深链接可继续通过上述别名使用。&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;tunnel-model&#34;&gt;Tunnel 模型&lt;/h2&gt;&#xA;&lt;p&gt;I2P 通过&lt;em&gt;单向的 tunnel&lt;/em&gt;转发有效载荷：由有序的 routers 组成，只在单一方向传输流量。两个目的地之间的一次完整往返需要四条 tunnel（两条出站、两条入站）。&lt;/p&gt;&#xA;&lt;p&gt;先阅读 &lt;a href=&#34;../../../zh/docs/overview/tunnel-routing/&#34;&gt;Tunnel Overview&lt;/a&gt;&#xA; 以了解术语，然后使用本指南获取操作细节。&lt;/p&gt;&#xA;&lt;h3 id=&#34;message-lifecycle&#34;&gt;消息生命周期&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;tunnel &lt;strong&gt;网关&lt;/strong&gt; 将一个或多个 I2NP 消息打包，对其进行分片，并写入投递指令。&lt;/li&gt;&#xA;&lt;li&gt;该网关将负载封装为固定大小 (1024 B) 的 tunnel 消息，必要时进行填充。&lt;/li&gt;&#xA;&lt;li&gt;每个&lt;strong&gt;参与者&lt;/strong&gt; 验证前一跳，施加其加密层，并将 &lt;code&gt;{nextTunnelId, nextIV, encryptedPayload}&lt;/code&gt; 转发到下一跳。&lt;/li&gt;&#xA;&lt;li&gt;tunnel &lt;strong&gt;端点&lt;/strong&gt; 移除最后一层，处理投递指令，重新组装分片，并分发重建后的 I2NP 消息。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;重复检测使用一种以 IV（初始向量）与第一个密文分组的异或值作为键的衰减布隆过滤器，以阻止基于 IV 交换的标记攻击。&lt;/p&gt;&#xA;&lt;h3 id=&#34;roles&#34;&gt;角色概览&lt;/h3&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Role&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Pre-processing&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Crypto Operation&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Post-processing&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Outbound gateway (creator)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Fragment, batch, pad&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Iteratively &lt;em&gt;decrypt&lt;/em&gt; using every hop’s keys (so downstream peers encrypt)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Forward to first hop&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Participant&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;—&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Encrypt IV and payload with hop keys&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Forward to next hop&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Outbound endpoint&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;—&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Encrypt once more to reveal plaintext payload&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Deliver to target tunnel/destination&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Inbound gateway&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Fragment, batch, pad&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Encrypt with local keys&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Forward to next hop&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Inbound endpoint (creator)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;—&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Iteratively decrypt using stored hop keys&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Reassemble and deliver locally&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;### 加密工作流程 {#encryption-workflow}&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;入站 tunnels:&lt;/strong&gt; 网关使用其层密钥加密一次；下游参与者继续加密，直到创建者解密最终有效载荷。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;出站 tunnels:&lt;/strong&gt; 网关预先应用每一跳加密的逆运算，使得每个参与者都进行加密。当端点完成加密时，网关的原始明文被还原。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;两个方向都将 &lt;code&gt;{tunnelId, IV, encryptedPayload}&lt;/code&gt; 转发到下一跳。&lt;/p&gt;</description>
    </item>
    <item>
      <title>UDP BitTorrent 通告请求</title>
      <link>/zh/docs/specs/udp-bittorrent-announces/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/udp-bittorrent-announces/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;本规范记录了 I2P 中用于 UDP BitTorrent announce（向跟踪器的通告/查询）的协议。有关 I2P 中 BitTorrent 的整体规范，请参见 &lt;a href=&#34;../../../zh/docs/applications/bittorrent/&#34;&gt;I2P 上的 BitTorrent 文档&lt;/a&gt;&#xA;。有关本规范制定的背景和更多信息，请参见 &lt;a href=&#34;../../../zh/proposals/160-udp-trackers/&#34;&gt;提案 160&lt;/a&gt;&#xA;。&lt;/p&gt;&#xA;&lt;p&gt;该协议已于 2025 年 6 月 24 日正式批准，并在 I2P 2.10.0 版本（API 0.9.67）中实现，发布于 2025 年 9 月 8 日。I2P 网络目前已启用对 UDP 跟踪器的支持，已有多个生产环境的跟踪器，并提供对 i2psnark 客户端的完整支持。&lt;/p&gt;&#xA;&lt;h2 id=&#34;设计&#34;&gt;设计&lt;/h2&gt;&#xA;&lt;p&gt;本规范使用 repliable datagram2、repliable datagram3，以及 raw datagrams（原始数据报），其定义见&lt;a href=&#34;../../../zh/docs/api/datagrams/&#34;&gt;I2P 数据报规范&lt;/a&gt;&#xA;。Datagram2 和 Datagram3 是 repliable datagrams（可回复数据报）的变体，定义见&lt;a href=&#34;../../../zh/proposals/163-datagram2/&#34;&gt;提案 163&lt;/a&gt;&#xA;。Datagram2 增加了抗重放能力和对离线签名的支持。Datagram3 比旧的数据报格式更小，但不提供认证。&lt;/p&gt;&#xA;&lt;h3 id=&#34;bep-15&#34;&gt;BEP 15&lt;/h3&gt;&#xA;&lt;p&gt;供参考，&lt;a href=&#34;http://www.bittorrent.org/beps/bep_0015.html&#34;&gt;BEP 15&lt;/a&gt;&#xA; 中定义的消息流程如下：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Client                        Tracker&#xA;  Connect Req. -------------&amp;gt;&#xA;    &amp;lt;-------------- Connect Resp.&#xA;  Announce Req. -------------&amp;gt;&#xA;    &amp;lt;-------------- Announce Resp.&#xA;  Announce Req. -------------&amp;gt;&#xA;    &amp;lt;-------------- Announce Resp.&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;连接阶段是为防止 IP 地址欺骗所必需的。tracker（追踪器）会返回一个连接 ID，客户端会在后续的 announce 请求中使用它。该连接 ID 在客户端默认 1 分钟后过期，而在 tracker 端为 2 分钟。&lt;/p&gt;</description>
    </item>
    <item>
      <title>插件包格式</title>
      <link>/zh/docs/specs/plugin/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/plugin/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;I2P 插件是扩展 router 功能的签名归档包。它们以 &lt;code&gt;.xpi2p&lt;/code&gt; 或 &lt;code&gt;.su3&lt;/code&gt; 文件形式发布，安装到 &lt;code&gt;~/.i2p/plugins/&amp;lt;name&amp;gt;/&lt;/code&gt;（Windows 上为 &lt;code&gt;%APPDIR%\I2P\plugins\&amp;lt;name&amp;gt;\&lt;/code&gt;），并以完整的 router 权限运行，且不使用沙箱。&lt;/p&gt;&#xA;&lt;h3 id=&#34;支持的插件类型&#34;&gt;支持的插件类型&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;控制台 Web 应用&lt;/li&gt;&#xA;&lt;li&gt;包含 cgi-bin、Web 应用的新 eepsites&lt;/li&gt;&#xA;&lt;li&gt;控制台主题&lt;/li&gt;&#xA;&lt;li&gt;控制台翻译&lt;/li&gt;&#xA;&lt;li&gt;Java 程序（进程内或单独的 JVM）&lt;/li&gt;&#xA;&lt;li&gt;Shell 脚本和原生二进制文件&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;安全模型&#34;&gt;安全模型&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;严重：&lt;/strong&gt; 插件在与 I2P router 相同的 JVM 中运行，并拥有与其相同的权限。它们可以不受限制地访问: - 文件系统 (读写) - Router API 和内部状态 - 网络连接 - 执行外部程序&lt;/p&gt;&#xA;&lt;p&gt;插件应被视为完全受信任的代码。用户在安装前必须验证插件来源和签名。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;文件格式&#34;&gt;文件格式&lt;/h2&gt;&#xA;&lt;h3 id=&#34;su3-格式强烈推荐&#34;&gt;SU3 格式（强烈推荐）&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;状态：&lt;/strong&gt; 已启用，自 I2P 0.9.15 (2014年9月) 起为首选格式&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;.su3&lt;/code&gt; 格式提供： - &lt;strong&gt;RSA-4096 签名密钥&lt;/strong&gt; (与 xpi2p 中的 DSA-1024 相比) - 签名存储在文件头中 - 魔数：&lt;code&gt;I2Psu3&lt;/code&gt; - 更好的前向兼容性&lt;/p&gt;</description>
    </item>
    <item>
      <title>地址订阅源命令</title>
      <link>/zh/docs/specs/subscription/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/subscription/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;本规范通过加入命令扩展了 address subscription feed（地址订阅源），使名称服务器能够广播来自主机名持有者的条目更新。最初于&lt;a href=&#34;../../../zh/proposals/112-addressbook-subscription-feed-commands/&#34;&gt;Proposal 112&lt;/a&gt;&#xA;（2014年9月）中提出，于 0.9.26 版（2016年6月）中实现，并已在全网部署，状态为 CLOSED。&lt;/p&gt;&#xA;&lt;p&gt;该系统自最初实现以来一直保持稳定且未发生变化，并在 I2P 2.10.0（Router API 0.9.65，2025 年 9 月）中继续以相同方式运行。&lt;/p&gt;&#xA;&lt;h2 id=&#34;动机&#34;&gt;动机&lt;/h2&gt;&#xA;&lt;p&gt;此前，hosts.txt 订阅服务器仅以一种简单的 hosts.txt 格式发送数据：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;example.i2p=b64destination&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这种基本格式带来了几个问题：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;主机名持有者无法更新与其主机名关联的 Destination（I2P 中的目的地标识）（例如，将签名密钥升级到更强的密码学算法类型）。&lt;/li&gt;&#xA;&lt;li&gt;主机名持有者不能任意放弃其主机名。他们必须将相应的 Destination 私钥直接交给新的持有者。&lt;/li&gt;&#xA;&lt;li&gt;无法验证某个子域名由对应的基础主机名控制。目前这仅由某些名称服务器分别强制执行。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;设计&#34;&gt;设计&lt;/h2&gt;&#xA;&lt;p&gt;本规范为 hosts.txt 格式新增了命令行。借助这些命令，名称服务器可以扩展其服务以提供额外功能。实现本规范的客户端可以通过常规订阅流程监听这些功能。&lt;/p&gt;&#xA;&lt;p&gt;所有命令都必须由相应的 Destination（目的地）签名。这确保只有在主机名持有者提出请求时才会进行更改。&lt;/p&gt;&#xA;&lt;h2 id=&#34;安全影响&#34;&gt;安全影响&lt;/h2&gt;&#xA;&lt;p&gt;本规范不影响匿名性。&lt;/p&gt;&#xA;&lt;p&gt;与丢失对 Destination（目标地址）密钥的控制相关的风险有所增加，因为获得该密钥的人可以使用这些命令对任何关联的主机名进行更改。不过，这并不比现状更糟，在现状下，获得一个 Destination 的人可以冒充某个主机名，并（部分地）接管其流量。通过赋予主机名持有者在认为 Destination 已被攻陷时更改与该主机名关联的 Destination 的能力，可以平衡这种增加的风险。而在当前系统中，这是不可能做到的。&lt;/p&gt;&#xA;&lt;h2 id=&#34;规范&#34;&gt;规范&lt;/h2&gt;&#xA;&lt;h3 id=&#34;换行类型&#34;&gt;换行类型&lt;/h3&gt;&#xA;&lt;p&gt;有两种新的线条类型：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;Add 和 Change 命令：&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;example.i2p=b64destination#!key1=val1#key2=val2...&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;删除命令：&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#!key1=val1#key2=val2...&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;顺序&#34;&gt;顺序&lt;/h4&gt;&#xA;&lt;p&gt;feed（提要）不一定是有序或完整的。例如，change 命令可能出现在 add 命令之前，或者在没有 add 命令的情况下出现。&lt;/p&gt;&#xA;&lt;p&gt;键可以以任意顺序出现。不允许存在重复的键。所有键和值都区分大小写。&lt;/p&gt;&#xA;&lt;h3 id=&#34;常用密钥&#34;&gt;常用密钥&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;所有命令都必须包含：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;sig&lt;/strong&gt; : Base64 签名，使用来自目标（Destination）的签名密钥&lt;/p&gt;</description>
    </item>
    <item>
      <title>底层密码学</title>
      <link>/zh/docs/specs/cryptography/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/cryptography/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;状态：&lt;/strong&gt; 本页精炼汇总了遗留的“Low-level Cryptography Specification”。较新的 I2P 发行版（2.10.0，2025年10月）已完成向新的密码学原语的迁移。实现细节请参阅以下专项规范：&lt;a href=&#34;../../../zh/docs/specs/ecies/&#34;&gt;ECIES&lt;/a&gt;&#xA;、&lt;a href=&#34;../../../zh/docs/specs/encryptedleaseset/&#34;&gt;Encrypted LeaseSets&lt;/a&gt;&#xA;、&lt;a href=&#34;../../../zh/docs/specs/ntcp2/&#34;&gt;NTCP2&lt;/a&gt;&#xA;、&lt;a href=&#34;../../../zh/docs/specs/red25519-signature-scheme/&#34;&gt;Red25519&lt;/a&gt;&#xA;、&lt;a href=&#34;../../../zh/docs/specs/ssu2/&#34;&gt;SSU2&lt;/a&gt;&#xA;，以及 &lt;a href=&#34;../../../zh/docs/specs/implementation/&#34;&gt;Tunnel Creation (ECIES)&lt;/a&gt;&#xA;。&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;演进快照&#34;&gt;演进快照&lt;/h2&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Functional Area&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Legacy Primitive&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Current / Planned Primitive&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Migration Status&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Transport key exchange&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Diffie–Hellman over 2048-bit prime (NTCP / SSU)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;X25519 (NTCP2 / SSU2)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Completed (NTCP2 and SSU2 fully deployed)&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;End-to-end encryption&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;ElGamal/AES+SessionTags&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;ECIES-X25519-AEAD-Ratchet&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Completed (2.4.0+)&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Symmetric cipher&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;AES-256/CBC + HMAC-MD5&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;ChaCha20/Poly1305 (AEAD)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Active (tunnel layer remains AES-256)&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Default signatures&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;DSA-SHA1 (1024-bit)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;EdDSA/RedDSA on Ed25519&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Fully migrated&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Experimental / future&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;—&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Hybrid post-quantum encryption (opt-in)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;In testing (2.10.0)&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;## 非对称加密&#xA;&lt;h3 id=&#34;x25519基于-curve25519-的椭圆曲线密钥交换算法&#34;&gt;X25519（基于 Curve25519 的椭圆曲线密钥交换算法）&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;用于 NTCP2、ECIES-X25519-AEAD-Ratchet、SSU2 以及基于 X25519 的 tunnel 创建。&lt;/li&gt;&#xA;&lt;li&gt;通过 Noise 协议框架提供紧凑的密钥、常数时间操作和前向保密。&lt;/li&gt;&#xA;&lt;li&gt;使用 32 字节密钥提供 128 位安全性，并具备高效的密钥交换。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;elgamal旧版&#34;&gt;ElGamal（旧版）&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;为与较旧的 routers 向后兼容而保留。&lt;/li&gt;&#xA;&lt;li&gt;基于 2048 位 Oakley Group 14 素数模数（RFC 3526），生成元 2。&lt;/li&gt;&#xA;&lt;li&gt;将 AES 会话密钥和 IV（初始化向量）加密为 514 字节的密文。&lt;/li&gt;&#xA;&lt;li&gt;缺乏认证加密和前向保密；所有现代端点都已迁移到 ECIES（椭圆曲线集成加密方案）。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;对称加密&#34;&gt;对称加密&lt;/h2&gt;&#xA;&lt;h3 id=&#34;chacha20poly1305由-chacha20-流密码与-poly1305-消息认证码组合的认证加密算法&#34;&gt;ChaCha20/Poly1305（由 ChaCha20 流密码与 Poly1305 消息认证码组合的认证加密算法）&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;在 NTCP2、SSU2 和 ECIES 中默认使用的认证加密原语。&lt;/li&gt;&#xA;&lt;li&gt;提供 AEAD 安全性，并且在没有 AES 硬件支持的情况下也能保持高性能。&lt;/li&gt;&#xA;&lt;li&gt;依据 RFC 7539 实现（256‑bit 密钥，96‑bit 随机数，128‑bit 认证标签）。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;aes256cbc旧版&#34;&gt;AES‑256/CBC（旧版）&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;仍用于 tunnel 层加密，其分组密码结构契合 I2P 的分层加密模型。&lt;/li&gt;&#xA;&lt;li&gt;使用 PKCS#5 填充和逐跳 IV（初始向量）变换。&lt;/li&gt;&#xA;&lt;li&gt;已纳入长期审查计划，但在密码学上仍然可靠。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;签名&#34;&gt;签名&lt;/h2&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Signature Type&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Usage Notes&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Status&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;DSA‑SHA1 (1024‑bit)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Original default; still accepted for legacy Destinations.&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Deprecated&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;ECDSA‑SHA256/384/512&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Used during 2014–2015 transition.&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Supported&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;EdDSA‑SHA512‑Ed25519&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Default for Router and Destination identities (since 0.9.15).&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Default&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;RedDSA‑SHA512‑Ed25519&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Used for encrypted LeaseSet signatures (0.9.39+).&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Specialized&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;RSA‑SHA512‑4096&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;For out‑of‑band signing (su3 updates, reseeds, plugins).&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Application‑layer&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;## 哈希与密钥派生&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;SHA‑256:&lt;/strong&gt; 用于 DHT（分布式哈希表）密钥、HKDF（基于 HMAC 的密钥派生函数）以及旧版签名。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;SHA‑512:&lt;/strong&gt; 由 EdDSA/RedDSA（基于 Edwards 曲线的数字签名算法/RedDSA）使用，并用于 Noise（协议框架）HKDF 推导中。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;HKDF‑SHA256:&lt;/strong&gt; 在 ECIES（椭圆曲线集成加密方案）、NTCP2 和 SSU2 中派生会话密钥。&lt;/li&gt;&#xA;&lt;li&gt;按日轮换的 SHA‑256 派生用于保护 netDb 中 RouterInfo 和 LeaseSet 的存储位置。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;传输层摘要&#34;&gt;传输层摘要&lt;/h2&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Transport&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Key Exchange&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Encryption&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Authentication&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Status&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;NTCP2&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;X25519&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;ChaCha20/Poly1305&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;AEAD&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Default TCP transport&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;SSU2&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;X25519&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;ChaCha20/Poly1305&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;AEAD&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Default UDP transport&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;SSU (Legacy)&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;DH‑2048&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;AES‑256/CBC + HMAC‑MD5&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Legacy&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Removed (2.4.0)&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;两种传输协议均提供链路级前向保密和重放防护，并使用 Noise_XK 握手模式（Noise 协议框架中的 XK 模式）。&#xA;&lt;h2 id=&#34;tunnel-层加密&#34;&gt;Tunnel 层加密&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;继续使用 AES‑256/CBC 进行逐跳分层加密。&lt;/li&gt;&#xA;&lt;li&gt;出站网关执行迭代的 AES 解密；每一跳使用其层密钥和 IV（初始化向量）密钥重新加密。&lt;/li&gt;&#xA;&lt;li&gt;双 IV 加密可缓解关联与确认攻击。&lt;/li&gt;&#xA;&lt;li&gt;正在研究迁移到 AEAD，但目前尚无计划。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;后量子密码学&#34;&gt;后量子密码学&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;I2P 2.10.0 引入了&lt;strong&gt;实验性的混合式后量子加密&lt;/strong&gt;。&lt;/li&gt;&#xA;&lt;li&gt;可通过 Hidden Service Manager（隐藏服务管理器）手动启用以进行测试。&lt;/li&gt;&#xA;&lt;li&gt;将 X25519 与抗量子 KEM（密钥封装机制）相结合（混合模式）。&lt;/li&gt;&#xA;&lt;li&gt;默认未启用；用于研究与性能评估。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;可扩展性框架&#34;&gt;可扩展性框架&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;加密和签名的&lt;em&gt;类型标识符&lt;/em&gt;允许并行支持多种密码原语。&lt;/li&gt;&#xA;&lt;li&gt;当前映射包括：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;加密类型：&lt;/strong&gt; 0 = ElGamal/AES+SessionTags，4 = ECIES‑X25519‑AEAD‑Ratchet。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;签名类型：&lt;/strong&gt; 0 = DSA‑SHA1，7 = EdDSA‑SHA512‑Ed25519，11 = RedDSA‑SHA512‑Ed25519。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;该框架支持未来的升级，包括后量子密码方案，而不导致网络分裂。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;密码学组合&#34;&gt;密码学组合&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;传输层：&lt;/strong&gt; X25519 + ChaCha20/Poly1305（Noise 框架）。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;tunnel 层：&lt;/strong&gt; 采用 AES‑256/CBC 的分层加密，以保障匿名性。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;端到端：&lt;/strong&gt; ECIES‑X25519‑AEAD‑Ratchet，用于实现机密性和前向保密性。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;数据库层：&lt;/strong&gt; EdDSA/RedDSA 签名，用于确保真实性。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;这些层共同实现纵深防御：即使某一层被攻陷，其他层仍能保持机密性与不可关联性。&lt;/p&gt;</description>
    </item>
    <item>
      <title>访问过滤器格式</title>
      <link>/zh/docs/specs/filter-format/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/filter-format/</guid>
      <description>&lt;p&gt;访问过滤器使 I2PTunnel 服务器运营者能够基于源 Destination（I2P 端点标识）以及最近的连接频率，允许、拒绝或限流入站连接。该过滤器是一个由规则组成的纯文本文件。文件自上而下读取，&lt;strong&gt;第一个匹配的规则生效&lt;/strong&gt;。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;过滤器定义的更改将在 &lt;strong&gt;tunnel 重启时&lt;/strong&gt; 生效。某些构建可能会在运行时重新读取基于文件的列表，但请预期需要重启以确保更改被应用。&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;文件格式&#34;&gt;文件格式&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;每行一条规则。&lt;/li&gt;&#xA;&lt;li&gt;空行会被忽略。&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;#&lt;/code&gt; 表示注释，直至行尾。&lt;/li&gt;&#xA;&lt;li&gt;规则按顺序评估；采用第一个匹配。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;阈值&#34;&gt;阈值&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;阈值&lt;/strong&gt;定义了在滚动时间窗口内，允许来自单个 Destination（I2P 端点标识）的连接尝试次数。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;数值：&lt;/strong&gt; &lt;code&gt;N/S&lt;/code&gt; 表示每 &lt;code&gt;S&lt;/code&gt; 秒允许 &lt;code&gt;N&lt;/code&gt; 个连接。例如：&lt;code&gt;15/5&lt;/code&gt; 表示每 5 秒最多允许 15 个连接。在该时间窗口内，第 &lt;code&gt;N+1&lt;/code&gt; 次尝试将被拒绝。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;关键字：&lt;/strong&gt; &lt;code&gt;allow&lt;/code&gt; 表示不限制。&lt;code&gt;deny&lt;/code&gt; 表示始终拒绝。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;规则语法&#34;&gt;规则语法&lt;/h2&gt;&#xA;&lt;p&gt;规则采用以下形式：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;threshold&amp;gt; &amp;lt;scope&amp;gt; &amp;lt;target&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其中：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;&amp;lt;threshold&amp;gt;&lt;/code&gt; 是 &lt;code&gt;N/S&lt;/code&gt;、&lt;code&gt;allow&lt;/code&gt; 或 &lt;code&gt;deny&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;&amp;lt;scope&amp;gt;&lt;/code&gt; 是 &lt;code&gt;default&lt;/code&gt;、&lt;code&gt;explicit&lt;/code&gt;、&lt;code&gt;file&lt;/code&gt; 或 &lt;code&gt;record&lt;/code&gt; 之一（见下文）&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;&amp;lt;target&amp;gt;&lt;/code&gt; 取决于作用域&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;默认规则&#34;&gt;默认规则&lt;/h3&gt;&#xA;&lt;p&gt;当没有其他规则匹配时生效。仅允许 &lt;strong&gt;一条&lt;/strong&gt; 默认规则。如果省略，则未知的 Destination（目标地址）将被允许且不受限制。&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;15/5 default&#xA;allow default&#xA;deny default&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;显式规则&#34;&gt;显式规则&lt;/h3&gt;&#xA;&lt;p&gt;通过 Base32 地址（例如 &lt;code&gt;example1.b32.i2p&lt;/code&gt;）或完整密钥来定位特定的 Destination（目标标识）。&lt;/p&gt;</description>
    </item>
    <item>
      <title>加密的 LeaseSet</title>
      <link>/zh/docs/specs/encryptedleaseset/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/encryptedleaseset/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;本文档规定了对加密的 LeaseSet2（LS2）的盲化、加密和解密。加密的 LeaseSets 用于在 I2P 网络数据库（netDb）中以受访问控制的方式发布隐藏服务信息。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;关键特性:&lt;/strong&gt; - 每日密钥轮换，以实现前向保密 - 两级客户端授权（基于 DH 和基于 PSK） - 在没有 AES 硬件的设备上使用 ChaCha20 加密以提升性能 - 带密钥盲化的 Red25519 签名 - 隐私保护的客户端成员资格&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;相关文档：&lt;/strong&gt; - &lt;a href=&#34;../../../zh/docs/specs/common-structures/&#34;&gt;通用结构规范&lt;/a&gt;&#xA; - 加密的 LeaseSet（租约集）结构 - &lt;a href=&#34;../../../zh/proposals/123-new-netdb-entries/&#34;&gt;提案 123：新的 netDB（网络数据库）条目&lt;/a&gt;&#xA; - 加密 LeaseSet 的背景 - &lt;a href=&#34;../../../zh/docs/specs/common-structures/&#34;&gt;网络数据库文档&lt;/a&gt;&#xA; - NetDB 用法&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;版本历史与实现状态&#34;&gt;版本历史与实现状态&lt;/h2&gt;&#xA;&lt;h3 id=&#34;协议开发时间线&#34;&gt;协议开发时间线&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;关于版本编号的重要说明：&lt;/strong&gt;   I2P 使用两套独立的版本编号方案：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;API/Router 版本：&lt;/strong&gt; 0.9.x 系列（用于技术规范）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;产品发布版本：&lt;/strong&gt; 2.x.x 系列（用于公开发布）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;技术规范会引用 API 版本（例如 0.9.41），而终端用户看到的是产品版本（例如 2.10.0）。&lt;/p&gt;&#xA;&lt;h3 id=&#34;实现里程碑&#34;&gt;实现里程碑&lt;/h3&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;&#34;&gt;Version&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:center;&#34;&gt;Release Date&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.5rem; background:var(--color-bg-secondary); text-align:left;&#34;&gt;Features&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;&lt;strong&gt;0.9.38&lt;/strong&gt;&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem; text-align:center;&#34;&gt;January 2019&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;Floodfill support for standard LS2, offline keys&lt;/td&gt;&lt;/tr&gt;&#xA;    &lt;tr&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;&lt;strong&gt;0.9.39&lt;/strong&gt;&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem; text-align:center;&#34;&gt;March 2019&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;Full encrypted LS2 support, Red25519 (sig type&amp;nbsp;11)&lt;/td&gt;&lt;/tr&gt;&#xA;    &lt;tr&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;&lt;strong&gt;0.9.40&lt;/strong&gt;&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem; text-align:center;&#34;&gt;May 2019&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;&lt;strong&gt;Per-client authorization, encrypted LS2 with offline keys, B32 support&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&#xA;    &lt;tr&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;&lt;strong&gt;0.9.41&lt;/strong&gt;&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem; text-align:center;&#34;&gt;June 2019&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;&lt;strong&gt;Protocol finalized as stable&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&#xA;    &lt;tr&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;&lt;strong&gt;2.10.0&lt;/strong&gt;&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem; text-align:center;&#34;&gt;September 2025&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;Latest Java implementation (API version 0.9.61)&lt;/td&gt;&lt;/tr&gt;&#xA;    &lt;tr&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;&lt;strong&gt;i2pd 2.58.0&lt;/strong&gt;&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem; text-align:center;&#34;&gt;September 2025&lt;/td&gt;&lt;td style=&#34;border:1px solid var(--color-border); padding:0.5rem;&#34;&gt;Full C++ implementation compatibility&lt;/td&gt;&lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;### 当前状态&#xA;&lt;ul&gt;&#xA;&lt;li&gt;✅ &lt;strong&gt;协议状态:&lt;/strong&gt; 自2019年6月以来保持稳定且未变更&lt;/li&gt;&#xA;&lt;li&gt;✅ &lt;strong&gt;Java I2P:&lt;/strong&gt; 在 0.9.40+ 版本中已完整实现&lt;/li&gt;&#xA;&lt;li&gt;✅ &lt;strong&gt;i2pd (C++):&lt;/strong&gt; 在 2.58.0+ 版本中已完整实现&lt;/li&gt;&#xA;&lt;li&gt;✅ &lt;strong&gt;互操作性:&lt;/strong&gt; 各实现之间完全互通&lt;/li&gt;&#xA;&lt;li&gt;✅ &lt;strong&gt;网络部署:&lt;/strong&gt; 已达生产就绪，拥有6年以上的运行经验&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;密码学定义&#34;&gt;密码学定义&lt;/h2&gt;&#xA;&lt;h3 id=&#34;记法与约定&#34;&gt;记法与约定&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;||&lt;/code&gt; 表示连接（拼接）&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;mod L&lt;/code&gt; 表示按 Ed25519 的阶进行模约简&lt;/li&gt;&#xA;&lt;li&gt;除非另有说明，所有字节数组均采用网络字节序（大端）&lt;/li&gt;&#xA;&lt;li&gt;小端序的数值会被明确标注&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;csrngn密码学安全随机数生成器&#34;&gt;CSRNG(n)（密码学安全随机数生成器）&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;密码学安全的随机数生成器&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>流式协议</title>
      <link>/zh/docs/specs/streaming/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/streaming/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;I2P Streaming Library（I2P 流式传输库）在 I2P 的不可靠消息层之上提供可靠、有序且经认证的数据传送——类似于 IP 之上的 TCP。它被几乎所有交互式 I2P 应用程序所使用，例如网页浏览、IRC、电子邮件和文件共享。&lt;/p&gt;&#xA;&lt;p&gt;它确保在 I2P 的高延迟匿名 tunnels 之上实现可靠传输、拥塞控制、重传与流量控制。每条数据流在目的地之间均为端到端完全加密。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;核心设计原则&#34;&gt;核心设计原则&lt;/h2&gt;&#xA;&lt;p&gt;Streaming 库实现了&lt;strong&gt;单阶段连接建立&lt;/strong&gt;，其中 SYN、ACK 和 FIN 标志可以在同一条报文中携带数据有效载荷。这在高延迟环境中可最大限度地减少往返次数 — 一个小型 HTTP 事务可以在一次往返内完成。&lt;/p&gt;&#xA;&lt;p&gt;拥塞控制与重传借鉴了 TCP 的设计，但已针对 I2P 的环境进行了适配。窗口大小以消息为单位，而非以字节为单位，并针对 tunnel 的时延与开销进行了调优。该协议支持慢启动、拥塞避免和指数退避，类似于 TCP 的 AIMD 算法（加性增大、乘性减小）。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;架构&#34;&gt;架构&lt;/h2&gt;&#xA;&lt;p&gt;流式传输库在应用程序与 I2CP 接口之间运行。&lt;/p&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Layer&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Responsibility&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;&lt;strong&gt;Application&lt;/strong&gt;&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Standard I2PSocket and I2PServerSocket usage&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;&lt;strong&gt;Streaming Library&lt;/strong&gt;&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Connection setup, sequencing, retransmission, and flow control&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;&lt;strong&gt;I2CP&lt;/strong&gt;&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Tunnel creation, routing, and message handling&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;&lt;strong&gt;I2NP / Router Layer&lt;/strong&gt;&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Transport through tunnels&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;大多数用户通过 I2PSocketManager（I2P 套接字管理器）、I2PTunnel 或 SAMv3 访问它。该库会透明地处理 Destination（目标地址）管理、tunnel 使用以及重传。&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;数据包格式&#34;&gt;数据包格式&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;+-----------------------------------------------+&#xA;| Send Stream ID (4B) | Receive Stream ID (4B) |&#xA;+-----------------------------------------------+&#xA;| Sequence Number (4B) | Ack Through (4B)      |&#xA;+-----------------------------------------------+&#xA;| NACK Count (1B) | optional NACK list (4B each)&#xA;+-----------------------------------------------+&#xA;| Flags (1B) | Option Size (1B) | Options ...   |&#xA;+-----------------------------------------------+&#xA;| Payload ...                                  |&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;标头详细信息&#34;&gt;标头详细信息&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;流ID&lt;/strong&gt;: 32位值，用于唯一标识本地和远端流。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;序列号&lt;/strong&gt;: 对SYN从0开始，每条消息递增。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;累计确认至&lt;/strong&gt;: 确认直到N（含N）的所有消息，但不包括NACK（负确认）列表中的那些。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;标志位&lt;/strong&gt;: 用于控制状态和行为的位掩码。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;选项&lt;/strong&gt;: 用于RTT（往返时延）、MTU（最大传输单元）和协议协商的可变长度列表。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;密钥标志位&#34;&gt;密钥标志位&lt;/h3&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Flag&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Purpose&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;SYN&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Connection initiation&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;ACK&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Acknowledge received packets&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;FIN&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Graceful close&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;RST&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Reset connection&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;FROM_INCLUDED&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Sender’s destination included&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;SIGNATURE_INCLUDED&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Message signed by sender&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;ECHO / ECHO_REPLY&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Ping/Pong keepalive&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;---&#xA;&lt;h2 id=&#34;流量控制与可靠性&#34;&gt;流量控制与可靠性&lt;/h2&gt;&#xA;&lt;p&gt;Streaming（I2P 流式传输库）使用&lt;strong&gt;基于消息的窗口机制&lt;/strong&gt;，与 TCP 的按字节方式不同。允许在途的未确认数据包数量等于当前窗口大小(默认 128)。&lt;/p&gt;</description>
    </item>
    <item>
      <title>软件更新规范</title>
      <link>/zh/docs/specs/updates/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/updates/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;router 会自动通过轮询在 I2P 网络中分发的已签名新闻源来检查更新。当有更高版本被公告时，router 会下载经密码学签名的更新归档（&lt;code&gt;.su3&lt;/code&gt;），并将其暂存以待安装。   该系统确保官方发布的分发具有&lt;strong&gt;经认证、防篡改&lt;/strong&gt;，以及&lt;strong&gt;多通道&lt;/strong&gt;的特性。&lt;/p&gt;&#xA;&lt;p&gt;自 I2P 2.10.0 起，更新系统使用: - &lt;strong&gt;RSA-4096 / SHA-512&lt;/strong&gt; 签名 - &lt;strong&gt;SU3 容器格式&lt;/strong&gt;（取代旧版 SUD/SU2） - &lt;strong&gt;冗余镜像：&lt;/strong&gt; I2P 网络内的 HTTP、明网 HTTPS，以及 BitTorrent&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1-新闻源&#34;&gt;1. 新闻源&lt;/h2&gt;&#xA;&lt;p&gt;各个 router 每隔数小时轮询已签名的 Atom 提要，以发现新版本和安全公告。   该提要会被签名，并作为一个 &lt;code&gt;.su3&lt;/code&gt; 文件分发，其中可能包含：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;&amp;lt;i2p:version&amp;gt;&lt;/code&gt; — 新版本号&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;&amp;lt;i2p:minVersion&amp;gt;&lt;/code&gt; — 最低支持的 router 版本&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;&amp;lt;i2p:minJavaVersion&amp;gt;&lt;/code&gt; — 所需的最低 Java 运行时&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;&amp;lt;i2p:update&amp;gt;&lt;/code&gt; — 列出多个下载镜像（I2P、HTTPS、torrent）&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;&amp;lt;i2p:revocations&amp;gt;&lt;/code&gt; — 证书吊销数据&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;&amp;lt;i2p:blocklist&amp;gt;&lt;/code&gt; — 针对被攻陷节点的网络级封锁列表&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;订阅源分发&#34;&gt;订阅源分发&lt;/h3&gt;&#xA;&lt;table style=&#34;width:100%; border-collapse:collapse; margin-bottom:1.5rem;&#34;&gt;&#xA;  &lt;thead&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Channel&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Description&lt;/th&gt;&#xA;      &lt;th style=&#34;border:1px solid var(--color-border); padding:0.6rem; text-align:left; background:var(--color-bg-secondary);&#34;&gt;Usage&lt;/th&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;&lt;strong&gt;I2P HTTP (eepsite)&lt;/strong&gt;&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Primary update source&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Private, resilient&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;&lt;strong&gt;Clearnet HTTPS&lt;/strong&gt;&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Fallback mirror&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Public fallback&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;    &lt;tr&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;&lt;strong&gt;BitTorrent magnet&lt;/strong&gt;&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Distributed channel&lt;/td&gt;&#xA;      &lt;td style=&#34;border:1px solid var(--color-border); padding:0.6rem;&#34;&gt;Reduces mirror load&lt;/td&gt;&#xA;    &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;Routers 首选 I2P 源，但在必要时可以回退到明网或 BitTorrent 分发。&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;2-文件格式&#34;&gt;2. 文件格式&lt;/h2&gt;&#xA;&lt;h3 id=&#34;su3-当前标准&#34;&gt;SU3 (当前标准)&lt;/h3&gt;&#xA;&lt;p&gt;在 0.9.9 中引入的 SU3 已取代旧版的 SUD 和 SU2 格式。   每个文件包含一个文件头、负载和尾部签名。&lt;/p&gt;</description>
    </item>
    <item>
      <title>通用结构</title>
      <link>/zh/docs/specs/common-structures/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/common-structures/</guid>
      <description>&lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;&#xA;&lt;p&gt;本文档规定了适用于所有 I2P 协议的基础数据结构，包括 &lt;a href=&#34;../../../zh/docs/specs/i2np/&#34;&gt;I2NP&lt;/a&gt;&#xA;、&lt;a href=&#34;../../../zh/docs/specs/i2cp/&#34;&gt;I2CP&lt;/a&gt;&#xA;、&lt;a href=&#34;../../../zh/docs/specs/ssu2/&#34;&gt;SSU2&lt;/a&gt;&#xA;、&lt;a href=&#34;../../../zh/docs/specs/ntcp2/&#34;&gt;NTCP2&lt;/a&gt;&#xA; 等。这些通用结构确保不同 I2P 实现与协议层之间的互操作性。&lt;/p&gt;&#xA;&lt;h3 id=&#34;自-0958-以来的关键变更&#34;&gt;自 0.9.58 以来的关键变更&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;在 Router 标识中弃用 ElGamal 和 DSA-SHA1（使用 X25519 + EdDSA）&lt;/li&gt;&#xA;&lt;li&gt;后量子 ML-KEM（密钥封装机制）支持处于测试版阶段（自 2.10.0 起需用户主动启用）&lt;/li&gt;&#xA;&lt;li&gt;服务记录选项已标准化（&lt;a href=&#34;../../../zh/proposals/167-service-records/&#34;&gt;提案 167&lt;/a&gt;&#xA;，在 0.9.66 中实现）&lt;/li&gt;&#xA;&lt;li&gt;可压缩填充规范已最终确定（&lt;a href=&#34;../../../zh/proposals/161-ri-dest-padding/&#34;&gt;提案 161&lt;/a&gt;&#xA;，在 0.9.57 中实现）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;通用类型规范&#34;&gt;通用类型规范&lt;/h2&gt;&#xA;&lt;h3 id=&#34;整数&#34;&gt;整数&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;描述：&lt;/strong&gt; 表示一个以网络字节序（大端序）编码的非负整数。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;内容：&lt;/strong&gt; 长度为 1 到 8 个字节，表示一个无符号整数。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;用法：&lt;/strong&gt; I2P 协议各处的字段长度、计数、类型标识符和数值。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;日期&#34;&gt;日期&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;描述:&lt;/strong&gt; 时间戳，表示自 Unix 纪元（1970 年 1 月 1 日 00:00:00 GMT）以来的毫秒数。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;内容：&lt;/strong&gt; 8 字节整数（无符号长整型）&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;特殊值：&lt;/strong&gt; - &lt;code&gt;0&lt;/code&gt; = 未定义或空日期 - 最大值: &lt;code&gt;0xFFFFFFFFFFFFFFFF&lt;/code&gt; (年份 584,942,417,355)&lt;/p&gt;</description>
    </item>
    <item>
      <title>用于加密 leaseSet 的 B32</title>
      <link>/zh/docs/specs/b32-for-encrypted-leasesets/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/zh/docs/specs/b32-for-encrypted-leasesets/</guid>
      <description>&lt;h2 id=&#34;概览&#34;&gt;概览&lt;/h2&gt;&#xA;&lt;p&gt;标准 Base 32 (&amp;ldquo;b32&amp;rdquo;) 地址包含目标（Destination）的哈希值。这对加密的 LS2（LeaseSet 2，I2P 的新一代 leaseSet 格式；提案 123）不起作用。&lt;/p&gt;&#xA;&lt;p&gt;对于加密的 LS2（提案 123），我们不能使用传统的 Base32 地址，因为它仅包含 destination（目标标识）的哈希。&#xA;它不提供非盲化公钥。&#xA;客户端必须知道 destination 的公钥、签名类型、盲化签名类型，以及一个可选的 secret（共享密钥）或私钥，才能获取并解密 leaseset。&#xA;因此，仅有一个 Base32 地址是不够的。&#xA;客户端需要完整的 destination（其中包含公钥），或者单独的公钥。&#xA;如果客户端在地址簿中保存了完整的 destination，且该地址簿支持按哈希反向查询，则可以取回公钥。&lt;/p&gt;&#xA;&lt;p&gt;这种格式将公钥而不是哈希放入 base32 地址中。这种格式还必须包含公钥所使用的签名算法类型，以及盲化方案所使用的签名算法类型。&lt;/p&gt;&#xA;&lt;p&gt;本文档为这些地址规定了 b32 格式。虽然我们在讨论中将这种新格式称为 &amp;ldquo;b33&amp;rdquo; 地址，但实际的新格式仍保留通常的 &amp;ldquo;.b32.i2p&amp;rdquo; 后缀。&lt;/p&gt;&#xA;&lt;h2 id=&#34;实现状态&#34;&gt;实现状态&lt;/h2&gt;&#xA;&lt;p&gt;提案 123（新的 netDB 条目）在 0.9.43 版（2019 年 10 月）中已全部实现。加密的 LS2（第二代 leaseSet）功能集一直保持稳定，直至 2.10.0 版（2025 年 9 月），未对寻址格式或密码规范引入任何破坏性变更。&lt;/p&gt;&#xA;&lt;p&gt;关键实现里程碑: - 0.9.38: 对带离线密钥的标准 LS2 的 Floodfill 支持 - 0.9.39: RedDSA 签名类型 11 与基本的加密/解密 - 0.9.40: 完整的 B32 地址支持 (提案 149) - 0.9.41: 基于 X25519 的逐客户端认证 - 0.9.42: 全部盲化（blinding）功能可用 - 0.9.43: 宣布实现完成 (2019 年 10 月)&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
